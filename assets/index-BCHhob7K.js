var H0=Object.defineProperty;var W0=(t,e,n)=>e in t?H0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var L=(t,e,n)=>W0(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var lm={exports:{}},Jl={},am={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ur=Symbol.for("react.element"),j0=Symbol.for("react.portal"),V0=Symbol.for("react.fragment"),U0=Symbol.for("react.strict_mode"),$0=Symbol.for("react.profiler"),Y0=Symbol.for("react.provider"),G0=Symbol.for("react.context"),K0=Symbol.for("react.forward_ref"),Q0=Symbol.for("react.suspense"),q0=Symbol.for("react.memo"),X0=Symbol.for("react.lazy"),Hd=Symbol.iterator;function Z0(t){return t===null||typeof t!="object"?null:(t=Hd&&t[Hd]||t["@@iterator"],typeof t=="function"?t:null)}var cm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},um=Object.assign,hm={};function ds(t,e,n){this.props=t,this.context=e,this.refs=hm,this.updater=n||cm}ds.prototype.isReactComponent={};ds.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ds.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dm(){}dm.prototype=ds.prototype;function qu(t,e,n){this.props=t,this.context=e,this.refs=hm,this.updater=n||cm}var Xu=qu.prototype=new dm;Xu.constructor=qu;um(Xu,ds.prototype);Xu.isPureReactComponent=!0;var Wd=Array.isArray,fm=Object.prototype.hasOwnProperty,Zu={current:null},pm={key:!0,ref:!0,__self:!0,__source:!0};function gm(t,e,n){var i,s={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)fm.call(e,i)&&!pm.hasOwnProperty(i)&&(s[i]=e[i]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(t&&t.defaultProps)for(i in l=t.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:Ur,type:t,key:r,ref:o,props:s,_owner:Zu.current}}function J0(t,e){return{$$typeof:Ur,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ju(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ur}function e1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jd=/\/+/g;function Da(t,e){return typeof t=="object"&&t!==null&&t.key!=null?e1(""+t.key):e.toString(36)}function Ho(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ur:case j0:o=!0}}if(o)return o=t,s=s(o),t=i===""?"."+Da(o,0):i,Wd(s)?(n="",t!=null&&(n=t.replace(jd,"$&/")+"/"),Ho(s,e,n,"",function(c){return c})):s!=null&&(Ju(s)&&(s=J0(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(jd,"$&/")+"/")+t)),e.push(s)),1;if(o=0,i=i===""?".":i+":",Wd(t))for(var l=0;l<t.length;l++){r=t[l];var a=i+Da(r,l);o+=Ho(r,e,n,a,s)}else if(a=Z0(t),typeof a=="function")for(t=a.call(t),l=0;!(r=t.next()).done;)r=r.value,a=i+Da(r,l++),o+=Ho(r,e,n,a,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function so(t,e,n){if(t==null)return t;var i=[],s=0;return Ho(t,i,"","",function(r){return e.call(n,r,s++)}),i}function t1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $e={current:null},Wo={transition:null},n1={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:Wo,ReactCurrentOwner:Zu};function mm(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:so,forEach:function(t,e,n){so(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return so(t,function(){e++}),e},toArray:function(t){return so(t,function(e){return e})||[]},only:function(t){if(!Ju(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};H.Component=ds;H.Fragment=V0;H.Profiler=$0;H.PureComponent=qu;H.StrictMode=U0;H.Suspense=Q0;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n1;H.act=mm;H.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=um({},t.props),s=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=Zu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)fm.call(e,a)&&!pm.hasOwnProperty(a)&&(i[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:Ur,type:t.type,key:s,ref:r,props:i,_owner:o}};H.createContext=function(t){return t={$$typeof:G0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Y0,_context:t},t.Consumer=t};H.createElement=gm;H.createFactory=function(t){var e=gm.bind(null,t);return e.type=t,e};H.createRef=function(){return{current:null}};H.forwardRef=function(t){return{$$typeof:K0,render:t}};H.isValidElement=Ju;H.lazy=function(t){return{$$typeof:X0,_payload:{_status:-1,_result:t},_init:t1}};H.memo=function(t,e){return{$$typeof:q0,type:t,compare:e===void 0?null:e}};H.startTransition=function(t){var e=Wo.transition;Wo.transition={};try{t()}finally{Wo.transition=e}};H.unstable_act=mm;H.useCallback=function(t,e){return $e.current.useCallback(t,e)};H.useContext=function(t){return $e.current.useContext(t)};H.useDebugValue=function(){};H.useDeferredValue=function(t){return $e.current.useDeferredValue(t)};H.useEffect=function(t,e){return $e.current.useEffect(t,e)};H.useId=function(){return $e.current.useId()};H.useImperativeHandle=function(t,e,n){return $e.current.useImperativeHandle(t,e,n)};H.useInsertionEffect=function(t,e){return $e.current.useInsertionEffect(t,e)};H.useLayoutEffect=function(t,e){return $e.current.useLayoutEffect(t,e)};H.useMemo=function(t,e){return $e.current.useMemo(t,e)};H.useReducer=function(t,e,n){return $e.current.useReducer(t,e,n)};H.useRef=function(t){return $e.current.useRef(t)};H.useState=function(t){return $e.current.useState(t)};H.useSyncExternalStore=function(t,e,n){return $e.current.useSyncExternalStore(t,e,n)};H.useTransition=function(){return $e.current.useTransition()};H.version="18.3.1";am.exports=H;var fe=am.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1=fe,s1=Symbol.for("react.element"),r1=Symbol.for("react.fragment"),o1=Object.prototype.hasOwnProperty,l1=i1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a1={key:!0,ref:!0,__self:!0,__source:!0};function _m(t,e,n){var i,s={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)o1.call(e,i)&&!a1.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:s1,type:t,key:r,ref:o,props:s,_owner:l1.current}}Jl.Fragment=r1;Jl.jsx=_m;Jl.jsxs=_m;lm.exports=Jl;var N=lm.exports,ym={exports:{}},ct={},vm={exports:{}},xm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,O){var A=T.length;T.push(O);e:for(;0<A;){var Q=A-1>>>1,ee=T[Q];if(0<s(ee,O))T[Q]=O,T[A]=ee,A=Q;else break e}}function n(T){return T.length===0?null:T[0]}function i(T){if(T.length===0)return null;var O=T[0],A=T.pop();if(A!==O){T[0]=A;e:for(var Q=0,ee=T.length,Ot=ee>>>1;Q<Ot;){var We=2*(Q+1)-1,Ut=T[We],je=We+1,io=T[je];if(0>s(Ut,A))je<ee&&0>s(io,Ut)?(T[Q]=io,T[je]=A,Q=je):(T[Q]=Ut,T[We]=A,Q=We);else if(je<ee&&0>s(io,A))T[Q]=io,T[je]=A,Q=je;else break e}}return O}function s(T,O){var A=T.sortIndex-O.sortIndex;return A!==0?A:T.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],u=1,h=null,d=3,f=!1,p=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var O=n(c);O!==null;){if(O.callback===null)i(c);else if(O.startTime<=T)i(c),O.sortIndex=O.expirationTime,e(a,O);else break;O=n(c)}}function x(T){if(_=!1,y(T),!p)if(n(a)!==null)p=!0,de(w);else{var O=n(c);O!==null&&De(x,O.startTime-T)}}function w(T,O){p=!1,_&&(_=!1,g(C),C=-1),f=!0;var A=d;try{for(y(O),h=n(a);h!==null&&(!(h.expirationTime>O)||T&&!D());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,d=h.priorityLevel;var ee=Q(h.expirationTime<=O);O=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(a)&&i(a),y(O)}else i(a);h=n(a)}if(h!==null)var Ot=!0;else{var We=n(c);We!==null&&De(x,We.startTime-O),Ot=!1}return Ot}finally{h=null,d=A,f=!1}}var k=!1,S=null,C=-1,M=5,I=-1;function D(){return!(t.unstable_now()-I<M)}function W(){if(S!==null){var T=t.unstable_now();I=T;var O=!0;try{O=S(!0,T)}finally{O?me():(k=!1,S=null)}}else k=!1}var me;if(typeof m=="function")me=function(){m(W)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,oe=st.port2;st.port1.onmessage=W,me=function(){oe.postMessage(null)}}else me=function(){v(W,0)};function de(T){S=T,k||(k=!0,me())}function De(T,O){C=v(function(){T(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,de(w))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(T){switch(d){case 1:case 2:case 3:var O=3;break;default:O=d}var A=d;d=O;try{return T()}finally{d=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,O){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var A=d;d=T;try{return O()}finally{d=A}},t.unstable_scheduleCallback=function(T,O,A){var Q=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?Q+A:Q):A=Q,T){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=A+ee,T={id:u++,callback:O,priorityLevel:T,startTime:A,expirationTime:ee,sortIndex:-1},A>Q?(T.sortIndex=A,e(c,T),n(a)===null&&T===n(c)&&(_?(g(C),C=-1):_=!0,De(x,A-Q))):(T.sortIndex=ee,e(a,T),p||f||(p=!0,de(w))),T},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(T){var O=d;return function(){var A=d;d=O;try{return T.apply(this,arguments)}finally{d=A}}}})(xm);vm.exports=xm;var c1=vm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1=fe,at=c1;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wm=new Set,dr={};function xi(t,e){Zi(t,e),Zi(t+"Capture",e)}function Zi(t,e){for(dr[t]=e,t=0;t<e.length;t++)wm.add(e[t])}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tc=Object.prototype.hasOwnProperty,h1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vd={},Ud={};function d1(t){return Tc.call(Ud,t)?!0:Tc.call(Vd,t)?!1:h1.test(t)?Ud[t]=!0:(Vd[t]=!0,!1)}function f1(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function p1(t,e,n,i){if(e===null||typeof e>"u"||f1(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ye(t,e,n,i,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ne[t]=new Ye(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ne[e]=new Ye(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ne[t]=new Ye(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ne[t]=new Ye(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ne[t]=new Ye(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ne[t]=new Ye(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ne[t]=new Ye(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ne[t]=new Ye(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ne[t]=new Ye(t,5,!1,t.toLowerCase(),null,!1,!1)});var eh=/[\-:]([a-z])/g;function th(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(eh,th);Ne[e]=new Ye(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(eh,th);Ne[e]=new Ye(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(eh,th);Ne[e]=new Ye(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ne[t]=new Ye(t,1,!1,t.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ne[t]=new Ye(t,1,!1,t.toLowerCase(),null,!0,!0)});function nh(t,e,n,i){var s=Ne.hasOwnProperty(e)?Ne[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(p1(e,n,s,i)&&(n=null),i||s===null?d1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var hn=u1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ro=Symbol.for("react.element"),Ti=Symbol.for("react.portal"),Ii=Symbol.for("react.fragment"),ih=Symbol.for("react.strict_mode"),Ic=Symbol.for("react.profiler"),Sm=Symbol.for("react.provider"),Cm=Symbol.for("react.context"),sh=Symbol.for("react.forward_ref"),Pc=Symbol.for("react.suspense"),Mc=Symbol.for("react.suspense_list"),rh=Symbol.for("react.memo"),gn=Symbol.for("react.lazy"),km=Symbol.for("react.offscreen"),$d=Symbol.iterator;function ws(t){return t===null||typeof t!="object"?null:(t=$d&&t[$d]||t["@@iterator"],typeof t=="function"?t:null)}var ce=Object.assign,Ra;function zs(t){if(Ra===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ra=e&&e[1]||""}return`
`+Ra+t}var Oa=!1;function Aa(t,e){if(!t||Oa)return"";Oa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,l=r.length-1;1<=o&&0<=l&&s[o]!==r[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==r[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==r[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Oa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zs(t):""}function g1(t){switch(t.tag){case 5:return zs(t.type);case 16:return zs("Lazy");case 13:return zs("Suspense");case 19:return zs("SuspenseList");case 0:case 2:case 15:return t=Aa(t.type,!1),t;case 11:return t=Aa(t.type.render,!1),t;case 1:return t=Aa(t.type,!0),t;default:return""}}function Nc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ii:return"Fragment";case Ti:return"Portal";case Ic:return"Profiler";case ih:return"StrictMode";case Pc:return"Suspense";case Mc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Cm:return(t.displayName||"Context")+".Consumer";case Sm:return(t._context.displayName||"Context")+".Provider";case sh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rh:return e=t.displayName||null,e!==null?e:Nc(t.type)||"Memo";case gn:e=t._payload,t=t._init;try{return Nc(t(e))}catch{}}return null}function m1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nc(e);case 8:return e===ih?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ln(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Em(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _1(t){var e=Em(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function oo(t){t._valueTracker||(t._valueTracker=_1(t))}function bm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Em(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function il(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dc(t,e){var n=e.checked;return ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yd(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Ln(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Tm(t,e){e=e.checked,e!=null&&nh(t,"checked",e,!1)}function Rc(t,e){Tm(t,e);var n=Ln(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Oc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Oc(t,e.type,Ln(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Gd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Oc(t,e,n){(e!=="number"||il(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bs=Array.isArray;function Wi(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Ln(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ac(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Kd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(Bs(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ln(n)}}function Im(t,e){var n=Ln(e.value),i=Ln(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Qd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Pm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Pm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lo,Mm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lo=lo||document.createElement("div"),lo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y1=["Webkit","ms","Moz","O"];Object.keys($s).forEach(function(t){y1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$s[e]=$s[t]})});function Nm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$s.hasOwnProperty(t)&&$s[t]?(""+e).trim():e+"px"}function Dm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=Nm(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var v1=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fc(t,e){if(e){if(v1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function zc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bc=null;function oh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hc=null,ji=null,Vi=null;function qd(t){if(t=Gr(t)){if(typeof Hc!="function")throw Error(E(280));var e=t.stateNode;e&&(e=sa(e),Hc(t.stateNode,t.type,e))}}function Rm(t){ji?Vi?Vi.push(t):Vi=[t]:ji=t}function Om(){if(ji){var t=ji,e=Vi;if(Vi=ji=null,qd(t),e)for(t=0;t<e.length;t++)qd(e[t])}}function Am(t,e){return t(e)}function Lm(){}var La=!1;function Fm(t,e,n){if(La)return t(e,n);La=!0;try{return Am(t,e,n)}finally{La=!1,(ji!==null||Vi!==null)&&(Lm(),Om())}}function pr(t,e){var n=t.stateNode;if(n===null)return null;var i=sa(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var Wc=!1;if(nn)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){Wc=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{Wc=!1}function x1(t,e,n,i,s,r,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ys=!1,sl=null,rl=!1,jc=null,w1={onError:function(t){Ys=!0,sl=t}};function S1(t,e,n,i,s,r,o,l,a){Ys=!1,sl=null,x1.apply(w1,arguments)}function C1(t,e,n,i,s,r,o,l,a){if(S1.apply(this,arguments),Ys){if(Ys){var c=sl;Ys=!1,sl=null}else throw Error(E(198));rl||(rl=!0,jc=c)}}function wi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xd(t){if(wi(t)!==t)throw Error(E(188))}function k1(t){var e=t.alternate;if(!e){if(e=wi(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return Xd(s),t;if(r===i)return Xd(s),e;r=r.sibling}throw Error(E(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==i)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Bm(t){return t=k1(t),t!==null?Hm(t):null}function Hm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Hm(t);if(e!==null)return e;t=t.sibling}return null}var Wm=at.unstable_scheduleCallback,Zd=at.unstable_cancelCallback,E1=at.unstable_shouldYield,b1=at.unstable_requestPaint,pe=at.unstable_now,T1=at.unstable_getCurrentPriorityLevel,lh=at.unstable_ImmediatePriority,jm=at.unstable_UserBlockingPriority,ol=at.unstable_NormalPriority,I1=at.unstable_LowPriority,Vm=at.unstable_IdlePriority,ea=null,jt=null;function P1(t){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ea,t,void 0,(t.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:D1,M1=Math.log,N1=Math.LN2;function D1(t){return t>>>=0,t===0?32:31-(M1(t)/N1|0)|0}var ao=64,co=4194304;function Hs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ll(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?i=Hs(l):(r&=o,r!==0&&(i=Hs(r)))}else o=n&~s,o!==0?i=Hs(o):r!==0&&(i=Hs(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Pt(e),s=1<<n,i|=t[n],e&=~s;return i}function R1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O1(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-Pt(r),l=1<<o,a=s[o];a===-1?(!(l&n)||l&i)&&(s[o]=R1(l,e)):a<=e&&(t.expiredLanes|=l),r&=~l}}function Vc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Um(){var t=ao;return ao<<=1,!(ao&4194240)&&(ao=64),t}function Fa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $r(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pt(e),t[e]=n}function A1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Pt(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}function ah(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Pt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var G=0;function $m(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ym,ch,Gm,Km,Qm,Uc=!1,uo=[],kn=null,En=null,bn=null,gr=new Map,mr=new Map,_n=[],L1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jd(t,e){switch(t){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":gr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mr.delete(e.pointerId)}}function Cs(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Gr(e),e!==null&&ch(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function F1(t,e,n,i,s){switch(e){case"focusin":return kn=Cs(kn,t,e,n,i,s),!0;case"dragenter":return En=Cs(En,t,e,n,i,s),!0;case"mouseover":return bn=Cs(bn,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return gr.set(r,Cs(gr.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,mr.set(r,Cs(mr.get(r)||null,t,e,n,i,s)),!0}return!1}function qm(t){var e=ei(t.target);if(e!==null){var n=wi(e);if(n!==null){if(e=n.tag,e===13){if(e=zm(n),e!==null){t.blockedOn=e,Qm(t.priority,function(){Gm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$c(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Bc=i,n.target.dispatchEvent(i),Bc=null}else return e=Gr(n),e!==null&&ch(e),t.blockedOn=n,!1;e.shift()}return!0}function ef(t,e,n){jo(t)&&n.delete(e)}function z1(){Uc=!1,kn!==null&&jo(kn)&&(kn=null),En!==null&&jo(En)&&(En=null),bn!==null&&jo(bn)&&(bn=null),gr.forEach(ef),mr.forEach(ef)}function ks(t,e){t.blockedOn===e&&(t.blockedOn=null,Uc||(Uc=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,z1)))}function _r(t){function e(s){return ks(s,t)}if(0<uo.length){ks(uo[0],t);for(var n=1;n<uo.length;n++){var i=uo[n];i.blockedOn===t&&(i.blockedOn=null)}}for(kn!==null&&ks(kn,t),En!==null&&ks(En,t),bn!==null&&ks(bn,t),gr.forEach(e),mr.forEach(e),n=0;n<_n.length;n++)i=_n[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<_n.length&&(n=_n[0],n.blockedOn===null);)qm(n),n.blockedOn===null&&_n.shift()}var Ui=hn.ReactCurrentBatchConfig,al=!0;function B1(t,e,n,i){var s=G,r=Ui.transition;Ui.transition=null;try{G=1,uh(t,e,n,i)}finally{G=s,Ui.transition=r}}function H1(t,e,n,i){var s=G,r=Ui.transition;Ui.transition=null;try{G=4,uh(t,e,n,i)}finally{G=s,Ui.transition=r}}function uh(t,e,n,i){if(al){var s=$c(t,e,n,i);if(s===null)Ga(t,e,i,cl,n),Jd(t,i);else if(F1(s,t,e,n,i))i.stopPropagation();else if(Jd(t,i),e&4&&-1<L1.indexOf(t)){for(;s!==null;){var r=Gr(s);if(r!==null&&Ym(r),r=$c(t,e,n,i),r===null&&Ga(t,e,i,cl,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else Ga(t,e,i,null,n)}}var cl=null;function $c(t,e,n,i){if(cl=null,t=oh(i),t=ei(t),t!==null)if(e=wi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cl=t,null}function Xm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T1()){case lh:return 1;case jm:return 4;case ol:case I1:return 16;case Vm:return 536870912;default:return 16}default:return 16}}var vn=null,hh=null,Vo=null;function Zm(){if(Vo)return Vo;var t,e=hh,n=e.length,i,s="value"in vn?vn.value:vn.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===s[r-i];i++);return Vo=s.slice(t,1<i?1-i:void 0)}function Uo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ho(){return!0}function tf(){return!1}function ut(t){function e(n,i,s,r,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?ho:tf,this.isPropagationStopped=tf,this}return ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ho)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ho)},persist:function(){},isPersistent:ho}),e}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dh=ut(fs),Yr=ce({},fs,{view:0,detail:0}),W1=ut(Yr),za,Ba,Es,ta=ce({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Es&&(Es&&t.type==="mousemove"?(za=t.screenX-Es.screenX,Ba=t.screenY-Es.screenY):Ba=za=0,Es=t),za)},movementY:function(t){return"movementY"in t?t.movementY:Ba}}),nf=ut(ta),j1=ce({},ta,{dataTransfer:0}),V1=ut(j1),U1=ce({},Yr,{relatedTarget:0}),Ha=ut(U1),$1=ce({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Y1=ut($1),G1=ce({},fs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),K1=ut(G1),Q1=ce({},fs,{data:0}),sf=ut(Q1),q1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Z1[t])?!!e[t]:!1}function fh(){return J1}var ex=ce({},Yr,{key:function(t){if(t.key){var e=q1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?X1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fh,charCode:function(t){return t.type==="keypress"?Uo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tx=ut(ex),nx=ce({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rf=ut(nx),ix=ce({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fh}),sx=ut(ix),rx=ce({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ox=ut(rx),lx=ce({},ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ax=ut(lx),cx=[9,13,27,32],ph=nn&&"CompositionEvent"in window,Gs=null;nn&&"documentMode"in document&&(Gs=document.documentMode);var ux=nn&&"TextEvent"in window&&!Gs,Jm=nn&&(!ph||Gs&&8<Gs&&11>=Gs),of=" ",lf=!1;function e_(t,e){switch(t){case"keyup":return cx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pi=!1;function hx(t,e){switch(t){case"compositionend":return t_(e);case"keypress":return e.which!==32?null:(lf=!0,of);case"textInput":return t=e.data,t===of&&lf?null:t;default:return null}}function dx(t,e){if(Pi)return t==="compositionend"||!ph&&e_(t,e)?(t=Zm(),Vo=hh=vn=null,Pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jm&&e.locale!=="ko"?null:e.data;default:return null}}var fx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function af(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fx[t.type]:e==="textarea"}function n_(t,e,n,i){Rm(i),e=ul(e,"onChange"),0<e.length&&(n=new dh("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ks=null,yr=null;function px(t){f_(t,0)}function na(t){var e=Di(t);if(bm(e))return t}function gx(t,e){if(t==="change")return e}var i_=!1;if(nn){var Wa;if(nn){var ja="oninput"in document;if(!ja){var cf=document.createElement("div");cf.setAttribute("oninput","return;"),ja=typeof cf.oninput=="function"}Wa=ja}else Wa=!1;i_=Wa&&(!document.documentMode||9<document.documentMode)}function uf(){Ks&&(Ks.detachEvent("onpropertychange",s_),yr=Ks=null)}function s_(t){if(t.propertyName==="value"&&na(yr)){var e=[];n_(e,yr,t,oh(t)),Fm(px,e)}}function mx(t,e,n){t==="focusin"?(uf(),Ks=e,yr=n,Ks.attachEvent("onpropertychange",s_)):t==="focusout"&&uf()}function _x(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return na(yr)}function yx(t,e){if(t==="click")return na(e)}function vx(t,e){if(t==="input"||t==="change")return na(e)}function xx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rt=typeof Object.is=="function"?Object.is:xx;function vr(t,e){if(Rt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Tc.call(e,s)||!Rt(t[s],e[s]))return!1}return!0}function hf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function df(t,e){var n=hf(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hf(n)}}function r_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?r_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function o_(){for(var t=window,e=il();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=il(t.document)}return e}function gh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wx(t){var e=o_(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&r_(n.ownerDocument.documentElement,n)){if(i!==null&&gh(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=df(n,r);var o=df(n,i);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Sx=nn&&"documentMode"in document&&11>=document.documentMode,Mi=null,Yc=null,Qs=null,Gc=!1;function ff(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gc||Mi==null||Mi!==il(i)||(i=Mi,"selectionStart"in i&&gh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Qs&&vr(Qs,i)||(Qs=i,i=ul(Yc,"onSelect"),0<i.length&&(e=new dh("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Mi)))}function fo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ni={animationend:fo("Animation","AnimationEnd"),animationiteration:fo("Animation","AnimationIteration"),animationstart:fo("Animation","AnimationStart"),transitionend:fo("Transition","TransitionEnd")},Va={},l_={};nn&&(l_=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function ia(t){if(Va[t])return Va[t];if(!Ni[t])return t;var e=Ni[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in l_)return Va[t]=e[n];return t}var a_=ia("animationend"),c_=ia("animationiteration"),u_=ia("animationstart"),h_=ia("transitionend"),d_=new Map,pf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wn(t,e){d_.set(t,e),xi(e,[t])}for(var Ua=0;Ua<pf.length;Ua++){var $a=pf[Ua],Cx=$a.toLowerCase(),kx=$a[0].toUpperCase()+$a.slice(1);Wn(Cx,"on"+kx)}Wn(a_,"onAnimationEnd");Wn(c_,"onAnimationIteration");Wn(u_,"onAnimationStart");Wn("dblclick","onDoubleClick");Wn("focusin","onFocus");Wn("focusout","onBlur");Wn(h_,"onTransitionEnd");Zi("onMouseEnter",["mouseout","mouseover"]);Zi("onMouseLeave",["mouseout","mouseover"]);Zi("onPointerEnter",["pointerout","pointerover"]);Zi("onPointerLeave",["pointerout","pointerover"]);xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ex=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ws));function gf(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,C1(i,e,void 0,t),t.currentTarget=null}function f_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var l=i[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==r&&s.isPropagationStopped())break e;gf(s,l,c),r=a}else for(o=0;o<i.length;o++){if(l=i[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==r&&s.isPropagationStopped())break e;gf(s,l,c),r=a}}}if(rl)throw t=jc,rl=!1,jc=null,t}function te(t,e){var n=e[Zc];n===void 0&&(n=e[Zc]=new Set);var i=t+"__bubble";n.has(i)||(p_(e,t,2,!1),n.add(i))}function Ya(t,e,n){var i=0;e&&(i|=4),p_(n,t,i,e)}var po="_reactListening"+Math.random().toString(36).slice(2);function xr(t){if(!t[po]){t[po]=!0,wm.forEach(function(n){n!=="selectionchange"&&(Ex.has(n)||Ya(n,!1,t),Ya(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[po]||(e[po]=!0,Ya("selectionchange",!1,e))}}function p_(t,e,n,i){switch(Xm(e)){case 1:var s=B1;break;case 4:s=H1;break;default:s=uh}n=s.bind(null,e,n,t),s=void 0,!Wc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ga(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ei(l),o===null)return;if(a=o.tag,a===5||a===6){i=r=o;continue e}l=l.parentNode}}i=i.return}Fm(function(){var c=r,u=oh(n),h=[];e:{var d=d_.get(t);if(d!==void 0){var f=dh,p=t;switch(t){case"keypress":if(Uo(n)===0)break e;case"keydown":case"keyup":f=tx;break;case"focusin":p="focus",f=Ha;break;case"focusout":p="blur",f=Ha;break;case"beforeblur":case"afterblur":f=Ha;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=V1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=sx;break;case a_:case c_:case u_:f=Y1;break;case h_:f=ox;break;case"scroll":f=W1;break;case"wheel":f=ax;break;case"copy":case"cut":case"paste":f=K1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=rf}var _=(e&4)!==0,v=!_&&t==="scroll",g=_?d!==null?d+"Capture":null:d;_=[];for(var m=c,y;m!==null;){y=m;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,g!==null&&(x=pr(m,g),x!=null&&_.push(wr(m,x,y)))),v)break;m=m.return}0<_.length&&(d=new f(d,p,null,n,u),h.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Bc&&(p=n.relatedTarget||n.fromElement)&&(ei(p)||p[sn]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?ei(p):null,p!==null&&(v=wi(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(_=nf,x="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=rf,x="onPointerLeave",g="onPointerEnter",m="pointer"),v=f==null?d:Di(f),y=p==null?d:Di(p),d=new _(x,m+"leave",f,n,u),d.target=v,d.relatedTarget=y,x=null,ei(u)===c&&(_=new _(g,m+"enter",p,n,u),_.target=y,_.relatedTarget=v,x=_),v=x,f&&p)t:{for(_=f,g=p,m=0,y=_;y;y=ki(y))m++;for(y=0,x=g;x;x=ki(x))y++;for(;0<m-y;)_=ki(_),m--;for(;0<y-m;)g=ki(g),y--;for(;m--;){if(_===g||g!==null&&_===g.alternate)break t;_=ki(_),g=ki(g)}_=null}else _=null;f!==null&&mf(h,d,f,_,!1),p!==null&&v!==null&&mf(h,v,p,_,!0)}}e:{if(d=c?Di(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var w=gx;else if(af(d))if(i_)w=vx;else{w=_x;var k=mx}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=yx);if(w&&(w=w(t,c))){n_(h,w,n,u);break e}k&&k(t,d,c),t==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&Oc(d,"number",d.value)}switch(k=c?Di(c):window,t){case"focusin":(af(k)||k.contentEditable==="true")&&(Mi=k,Yc=c,Qs=null);break;case"focusout":Qs=Yc=Mi=null;break;case"mousedown":Gc=!0;break;case"contextmenu":case"mouseup":case"dragend":Gc=!1,ff(h,n,u);break;case"selectionchange":if(Sx)break;case"keydown":case"keyup":ff(h,n,u)}var S;if(ph)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Pi?e_(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Jm&&n.locale!=="ko"&&(Pi||C!=="onCompositionStart"?C==="onCompositionEnd"&&Pi&&(S=Zm()):(vn=u,hh="value"in vn?vn.value:vn.textContent,Pi=!0)),k=ul(c,C),0<k.length&&(C=new sf(C,t,null,n,u),h.push({event:C,listeners:k}),S?C.data=S:(S=t_(n),S!==null&&(C.data=S)))),(S=ux?hx(t,n):dx(t,n))&&(c=ul(c,"onBeforeInput"),0<c.length&&(u=new sf("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=S))}f_(h,e)})}function wr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ul(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=pr(t,n),r!=null&&i.unshift(wr(t,r,s)),r=pr(t,e),r!=null&&i.push(wr(t,r,s))),t=t.return}return i}function ki(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mf(t,e,n,i,s){for(var r=e._reactName,o=[];n!==null&&n!==i;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===i)break;l.tag===5&&c!==null&&(l=c,s?(a=pr(n,r),a!=null&&o.unshift(wr(n,a,l))):s||(a=pr(n,r),a!=null&&o.push(wr(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var bx=/\r\n?/g,Tx=/\u0000|\uFFFD/g;function _f(t){return(typeof t=="string"?t:""+t).replace(bx,`
`).replace(Tx,"")}function go(t,e,n){if(e=_f(e),_f(t)!==e&&n)throw Error(E(425))}function hl(){}var Kc=null,Qc=null;function qc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xc=typeof setTimeout=="function"?setTimeout:void 0,Ix=typeof clearTimeout=="function"?clearTimeout:void 0,yf=typeof Promise=="function"?Promise:void 0,Px=typeof queueMicrotask=="function"?queueMicrotask:typeof yf<"u"?function(t){return yf.resolve(null).then(t).catch(Mx)}:Xc;function Mx(t){setTimeout(function(){throw t})}function Ka(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),_r(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);_r(e)}function Tn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ps=Math.random().toString(36).slice(2),Wt="__reactFiber$"+ps,Sr="__reactProps$"+ps,sn="__reactContainer$"+ps,Zc="__reactEvents$"+ps,Nx="__reactListeners$"+ps,Dx="__reactHandles$"+ps;function ei(t){var e=t[Wt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sn]||n[Wt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vf(t);t!==null;){if(n=t[Wt])return n;t=vf(t)}return e}t=n,n=t.parentNode}return null}function Gr(t){return t=t[Wt]||t[sn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Di(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function sa(t){return t[Sr]||null}var Jc=[],Ri=-1;function jn(t){return{current:t}}function se(t){0>Ri||(t.current=Jc[Ri],Jc[Ri]=null,Ri--)}function Z(t,e){Ri++,Jc[Ri]=t.current,t.current=e}var Fn={},Be=jn(Fn),Je=jn(!1),ui=Fn;function Ji(t,e){var n=t.type.contextTypes;if(!n)return Fn;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function et(t){return t=t.childContextTypes,t!=null}function dl(){se(Je),se(Be)}function xf(t,e,n){if(Be.current!==Fn)throw Error(E(168));Z(Be,e),Z(Je,n)}function g_(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(E(108,m1(t)||"Unknown",s));return ce({},n,i)}function fl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fn,ui=Be.current,Z(Be,t),Z(Je,Je.current),!0}function wf(t,e,n){var i=t.stateNode;if(!i)throw Error(E(169));n?(t=g_(t,e,ui),i.__reactInternalMemoizedMergedChildContext=t,se(Je),se(Be),Z(Be,t)):se(Je),Z(Je,n)}var Qt=null,ra=!1,Qa=!1;function m_(t){Qt===null?Qt=[t]:Qt.push(t)}function Rx(t){ra=!0,m_(t)}function Vn(){if(!Qa&&Qt!==null){Qa=!0;var t=0,e=G;try{var n=Qt;for(G=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Qt=null,ra=!1}catch(s){throw Qt!==null&&(Qt=Qt.slice(t+1)),Wm(lh,Vn),s}finally{G=e,Qa=!1}}return null}var Oi=[],Ai=0,pl=null,gl=0,dt=[],ft=0,hi=null,Xt=1,Zt="";function Kn(t,e){Oi[Ai++]=gl,Oi[Ai++]=pl,pl=t,gl=e}function __(t,e,n){dt[ft++]=Xt,dt[ft++]=Zt,dt[ft++]=hi,hi=t;var i=Xt;t=Zt;var s=32-Pt(i)-1;i&=~(1<<s),n+=1;var r=32-Pt(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,Xt=1<<32-Pt(e)+s|n<<s|i,Zt=r+t}else Xt=1<<r|n<<s|i,Zt=t}function mh(t){t.return!==null&&(Kn(t,1),__(t,1,0))}function _h(t){for(;t===pl;)pl=Oi[--Ai],Oi[Ai]=null,gl=Oi[--Ai],Oi[Ai]=null;for(;t===hi;)hi=dt[--ft],dt[ft]=null,Zt=dt[--ft],dt[ft]=null,Xt=dt[--ft],dt[ft]=null}var lt=null,ot=null,re=!1,kt=null;function y_(t,e){var n=pt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,lt=t,ot=Tn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,lt=t,ot=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hi!==null?{id:Xt,overflow:Zt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,lt=t,ot=null,!0):!1;default:return!1}}function eu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tu(t){if(re){var e=ot;if(e){var n=e;if(!Sf(t,e)){if(eu(t))throw Error(E(418));e=Tn(n.nextSibling);var i=lt;e&&Sf(t,e)?y_(i,n):(t.flags=t.flags&-4097|2,re=!1,lt=t)}}else{if(eu(t))throw Error(E(418));t.flags=t.flags&-4097|2,re=!1,lt=t}}}function Cf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;lt=t}function mo(t){if(t!==lt)return!1;if(!re)return Cf(t),re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qc(t.type,t.memoizedProps)),e&&(e=ot)){if(eu(t))throw v_(),Error(E(418));for(;e;)y_(t,e),e=Tn(e.nextSibling)}if(Cf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ot=Tn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ot=null}}else ot=lt?Tn(t.stateNode.nextSibling):null;return!0}function v_(){for(var t=ot;t;)t=Tn(t.nextSibling)}function es(){ot=lt=null,re=!1}function yh(t){kt===null?kt=[t]:kt.push(t)}var Ox=hn.ReactCurrentBatchConfig;function bs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var i=n.stateNode}if(!i)throw Error(E(147,t));var s=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var l=s.refs;o===null?delete l[r]:l[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function _o(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kf(t){var e=t._init;return e(t._payload)}function x_(t){function e(g,m){if(t){var y=g.deletions;y===null?(g.deletions=[m],g.flags|=16):y.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function i(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Nn(g,m),g.index=0,g.sibling=null,g}function r(g,m,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<m?(g.flags|=2,m):y):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,m,y,x){return m===null||m.tag!==6?(m=nc(y,g.mode,x),m.return=g,m):(m=s(m,y),m.return=g,m)}function a(g,m,y,x){var w=y.type;return w===Ii?u(g,m,y.props.children,x,y.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===gn&&kf(w)===m.type)?(x=s(m,y.props),x.ref=bs(g,m,y),x.return=g,x):(x=Xo(y.type,y.key,y.props,null,g.mode,x),x.ref=bs(g,m,y),x.return=g,x)}function c(g,m,y,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=ic(y,g.mode,x),m.return=g,m):(m=s(m,y.children||[]),m.return=g,m)}function u(g,m,y,x,w){return m===null||m.tag!==7?(m=ai(y,g.mode,x,w),m.return=g,m):(m=s(m,y),m.return=g,m)}function h(g,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=nc(""+m,g.mode,y),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ro:return y=Xo(m.type,m.key,m.props,null,g.mode,y),y.ref=bs(g,null,m),y.return=g,y;case Ti:return m=ic(m,g.mode,y),m.return=g,m;case gn:var x=m._init;return h(g,x(m._payload),y)}if(Bs(m)||ws(m))return m=ai(m,g.mode,y,null),m.return=g,m;_o(g,m)}return null}function d(g,m,y,x){var w=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:l(g,m,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ro:return y.key===w?a(g,m,y,x):null;case Ti:return y.key===w?c(g,m,y,x):null;case gn:return w=y._init,d(g,m,w(y._payload),x)}if(Bs(y)||ws(y))return w!==null?null:u(g,m,y,x,null);_o(g,y)}return null}function f(g,m,y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(y)||null,l(m,g,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ro:return g=g.get(x.key===null?y:x.key)||null,a(m,g,x,w);case Ti:return g=g.get(x.key===null?y:x.key)||null,c(m,g,x,w);case gn:var k=x._init;return f(g,m,y,k(x._payload),w)}if(Bs(x)||ws(x))return g=g.get(y)||null,u(m,g,x,w,null);_o(m,x)}return null}function p(g,m,y,x){for(var w=null,k=null,S=m,C=m=0,M=null;S!==null&&C<y.length;C++){S.index>C?(M=S,S=null):M=S.sibling;var I=d(g,S,y[C],x);if(I===null){S===null&&(S=M);break}t&&S&&I.alternate===null&&e(g,S),m=r(I,m,C),k===null?w=I:k.sibling=I,k=I,S=M}if(C===y.length)return n(g,S),re&&Kn(g,C),w;if(S===null){for(;C<y.length;C++)S=h(g,y[C],x),S!==null&&(m=r(S,m,C),k===null?w=S:k.sibling=S,k=S);return re&&Kn(g,C),w}for(S=i(g,S);C<y.length;C++)M=f(S,g,C,y[C],x),M!==null&&(t&&M.alternate!==null&&S.delete(M.key===null?C:M.key),m=r(M,m,C),k===null?w=M:k.sibling=M,k=M);return t&&S.forEach(function(D){return e(g,D)}),re&&Kn(g,C),w}function _(g,m,y,x){var w=ws(y);if(typeof w!="function")throw Error(E(150));if(y=w.call(y),y==null)throw Error(E(151));for(var k=w=null,S=m,C=m=0,M=null,I=y.next();S!==null&&!I.done;C++,I=y.next()){S.index>C?(M=S,S=null):M=S.sibling;var D=d(g,S,I.value,x);if(D===null){S===null&&(S=M);break}t&&S&&D.alternate===null&&e(g,S),m=r(D,m,C),k===null?w=D:k.sibling=D,k=D,S=M}if(I.done)return n(g,S),re&&Kn(g,C),w;if(S===null){for(;!I.done;C++,I=y.next())I=h(g,I.value,x),I!==null&&(m=r(I,m,C),k===null?w=I:k.sibling=I,k=I);return re&&Kn(g,C),w}for(S=i(g,S);!I.done;C++,I=y.next())I=f(S,g,C,I.value,x),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?C:I.key),m=r(I,m,C),k===null?w=I:k.sibling=I,k=I);return t&&S.forEach(function(W){return e(g,W)}),re&&Kn(g,C),w}function v(g,m,y,x){if(typeof y=="object"&&y!==null&&y.type===Ii&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ro:e:{for(var w=y.key,k=m;k!==null;){if(k.key===w){if(w=y.type,w===Ii){if(k.tag===7){n(g,k.sibling),m=s(k,y.props.children),m.return=g,g=m;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===gn&&kf(w)===k.type){n(g,k.sibling),m=s(k,y.props),m.ref=bs(g,k,y),m.return=g,g=m;break e}n(g,k);break}else e(g,k);k=k.sibling}y.type===Ii?(m=ai(y.props.children,g.mode,x,y.key),m.return=g,g=m):(x=Xo(y.type,y.key,y.props,null,g.mode,x),x.ref=bs(g,m,y),x.return=g,g=x)}return o(g);case Ti:e:{for(k=y.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(g,m.sibling),m=s(m,y.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=ic(y,g.mode,x),m.return=g,g=m}return o(g);case gn:return k=y._init,v(g,m,k(y._payload),x)}if(Bs(y))return p(g,m,y,x);if(ws(y))return _(g,m,y,x);_o(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,y),m.return=g,g=m):(n(g,m),m=nc(y,g.mode,x),m.return=g,g=m),o(g)):n(g,m)}return v}var ts=x_(!0),w_=x_(!1),ml=jn(null),_l=null,Li=null,vh=null;function xh(){vh=Li=_l=null}function wh(t){var e=ml.current;se(ml),t._currentValue=e}function nu(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function $i(t,e){_l=t,vh=Li=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qe=!0),t.firstContext=null)}function yt(t){var e=t._currentValue;if(vh!==t)if(t={context:t,memoizedValue:e,next:null},Li===null){if(_l===null)throw Error(E(308));Li=t,_l.dependencies={lanes:0,firstContext:t}}else Li=Li.next=t;return e}var ti=null;function Sh(t){ti===null?ti=[t]:ti.push(t)}function S_(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,Sh(e)):(n.next=s.next,s.next=n),e.interleaved=n,rn(t,i)}function rn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var mn=!1;function Ch(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function en(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function In(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,U&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,rn(t,n)}return s=i.interleaved,s===null?(e.next=e,Sh(i)):(e.next=s.next,s.next=e),i.interleaved=e,rn(t,n)}function $o(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,ah(t,n)}}function Ef(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yl(t,e,n,i){var s=t.updateQueue;mn=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?r=c:o.next=c,o=a;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=a))}if(r!==null){var h=s.baseState;o=0,u=c=a=null,l=r;do{var d=l.lane,f=l.eventTime;if((i&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,_=l;switch(d=e,f=n,_.tag){case 1:if(p=_.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=_.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=ce({},h,d);break e;case 2:mn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[l]:d.push(l))}else f={eventTime:f,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=f,a=h):u=u.next=f,o|=d;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(u===null&&(a=h),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);fi|=o,t.lanes=o,t.memoizedState=h}}function bf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(E(191,s));s.call(i)}}}var Kr={},Vt=jn(Kr),Cr=jn(Kr),kr=jn(Kr);function ni(t){if(t===Kr)throw Error(E(174));return t}function kh(t,e){switch(Z(kr,e),Z(Cr,t),Z(Vt,Kr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lc(e,t)}se(Vt),Z(Vt,e)}function ns(){se(Vt),se(Cr),se(kr)}function k_(t){ni(kr.current);var e=ni(Vt.current),n=Lc(e,t.type);e!==n&&(Z(Cr,t),Z(Vt,n))}function Eh(t){Cr.current===t&&(se(Vt),se(Cr))}var le=jn(0);function vl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qa=[];function bh(){for(var t=0;t<qa.length;t++)qa[t]._workInProgressVersionPrimary=null;qa.length=0}var Yo=hn.ReactCurrentDispatcher,Xa=hn.ReactCurrentBatchConfig,di=0,ae=null,ye=null,Ce=null,xl=!1,qs=!1,Er=0,Ax=0;function Re(){throw Error(E(321))}function Th(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rt(t[n],e[n]))return!1;return!0}function Ih(t,e,n,i,s,r){if(di=r,ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yo.current=t===null||t.memoizedState===null?Bx:Hx,t=n(i,s),qs){r=0;do{if(qs=!1,Er=0,25<=r)throw Error(E(301));r+=1,Ce=ye=null,e.updateQueue=null,Yo.current=Wx,t=n(i,s)}while(qs)}if(Yo.current=wl,e=ye!==null&&ye.next!==null,di=0,Ce=ye=ae=null,xl=!1,e)throw Error(E(300));return t}function Ph(){var t=Er!==0;return Er=0,t}function zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?ae.memoizedState=Ce=t:Ce=Ce.next=t,Ce}function vt(){if(ye===null){var t=ae.alternate;t=t!==null?t.memoizedState:null}else t=ye.next;var e=Ce===null?ae.memoizedState:Ce.next;if(e!==null)Ce=e,ye=t;else{if(t===null)throw Error(E(310));ye=t,t={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Ce===null?ae.memoizedState=Ce=t:Ce=Ce.next=t}return Ce}function br(t,e){return typeof e=="function"?e(t):e}function Za(t){var e=vt(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var i=ye,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var l=o=null,a=null,c=r;do{var u=c.lane;if((di&u)===u)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=i):a=a.next=h,ae.lanes|=u,fi|=u}c=c.next}while(c!==null&&c!==r);a===null?o=i:a.next=l,Rt(i,e.memoizedState)||(qe=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=a,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do r=s.lane,ae.lanes|=r,fi|=r,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ja(t){var e=vt(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do r=t(r,o.action),o=o.next;while(o!==s);Rt(r,e.memoizedState)||(qe=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function E_(){}function b_(t,e){var n=ae,i=vt(),s=e(),r=!Rt(i.memoizedState,s);if(r&&(i.memoizedState=s,qe=!0),i=i.queue,Mh(P_.bind(null,n,i,t),[t]),i.getSnapshot!==e||r||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,Tr(9,I_.bind(null,n,i,s,e),void 0,null),be===null)throw Error(E(349));di&30||T_(n,e,s)}return s}function T_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function I_(t,e,n,i){e.value=n,e.getSnapshot=i,M_(e)&&N_(t)}function P_(t,e,n){return n(function(){M_(e)&&N_(t)})}function M_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rt(t,n)}catch{return!0}}function N_(t){var e=rn(t,1);e!==null&&Mt(e,t,1,-1)}function Tf(t){var e=zt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:t},e.queue=t,t=t.dispatch=zx.bind(null,ae,t),[e.memoizedState,t]}function Tr(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function D_(){return vt().memoizedState}function Go(t,e,n,i){var s=zt();ae.flags|=t,s.memoizedState=Tr(1|e,n,void 0,i===void 0?null:i)}function oa(t,e,n,i){var s=vt();i=i===void 0?null:i;var r=void 0;if(ye!==null){var o=ye.memoizedState;if(r=o.destroy,i!==null&&Th(i,o.deps)){s.memoizedState=Tr(e,n,r,i);return}}ae.flags|=t,s.memoizedState=Tr(1|e,n,r,i)}function If(t,e){return Go(8390656,8,t,e)}function Mh(t,e){return oa(2048,8,t,e)}function R_(t,e){return oa(4,2,t,e)}function O_(t,e){return oa(4,4,t,e)}function A_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function L_(t,e,n){return n=n!=null?n.concat([t]):null,oa(4,4,A_.bind(null,e,t),n)}function Nh(){}function F_(t,e){var n=vt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Th(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function z_(t,e){var n=vt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Th(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function B_(t,e,n){return di&21?(Rt(n,e)||(n=Um(),ae.lanes|=n,fi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qe=!0),t.memoizedState=n)}function Lx(t,e){var n=G;G=n!==0&&4>n?n:4,t(!0);var i=Xa.transition;Xa.transition={};try{t(!1),e()}finally{G=n,Xa.transition=i}}function H_(){return vt().memoizedState}function Fx(t,e,n){var i=Mn(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},W_(t))j_(e,n);else if(n=S_(t,e,n,i),n!==null){var s=Ue();Mt(n,t,i,s),V_(n,e,i)}}function zx(t,e,n){var i=Mn(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(W_(t))j_(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,l=r(o,n);if(s.hasEagerState=!0,s.eagerState=l,Rt(l,o)){var a=e.interleaved;a===null?(s.next=s,Sh(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=S_(t,e,s,i),n!==null&&(s=Ue(),Mt(n,t,i,s),V_(n,e,i))}}function W_(t){var e=t.alternate;return t===ae||e!==null&&e===ae}function j_(t,e){qs=xl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function V_(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,ah(t,n)}}var wl={readContext:yt,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},Bx={readContext:yt,useCallback:function(t,e){return zt().memoizedState=[t,e===void 0?null:e],t},useContext:yt,useEffect:If,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Go(4194308,4,A_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Go(4194308,4,t,e)},useInsertionEffect:function(t,e){return Go(4,2,t,e)},useMemo:function(t,e){var n=zt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=zt();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Fx.bind(null,ae,t),[i.memoizedState,t]},useRef:function(t){var e=zt();return t={current:t},e.memoizedState=t},useState:Tf,useDebugValue:Nh,useDeferredValue:function(t){return zt().memoizedState=t},useTransition:function(){var t=Tf(!1),e=t[0];return t=Lx.bind(null,t[1]),zt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=ae,s=zt();if(re){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),be===null)throw Error(E(349));di&30||T_(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,If(P_.bind(null,i,r,t),[t]),i.flags|=2048,Tr(9,I_.bind(null,i,r,n,e),void 0,null),n},useId:function(){var t=zt(),e=be.identifierPrefix;if(re){var n=Zt,i=Xt;n=(i&~(1<<32-Pt(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Er++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ax++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Hx={readContext:yt,useCallback:F_,useContext:yt,useEffect:Mh,useImperativeHandle:L_,useInsertionEffect:R_,useLayoutEffect:O_,useMemo:z_,useReducer:Za,useRef:D_,useState:function(){return Za(br)},useDebugValue:Nh,useDeferredValue:function(t){var e=vt();return B_(e,ye.memoizedState,t)},useTransition:function(){var t=Za(br)[0],e=vt().memoizedState;return[t,e]},useMutableSource:E_,useSyncExternalStore:b_,useId:H_,unstable_isNewReconciler:!1},Wx={readContext:yt,useCallback:F_,useContext:yt,useEffect:Mh,useImperativeHandle:L_,useInsertionEffect:R_,useLayoutEffect:O_,useMemo:z_,useReducer:Ja,useRef:D_,useState:function(){return Ja(br)},useDebugValue:Nh,useDeferredValue:function(t){var e=vt();return ye===null?e.memoizedState=t:B_(e,ye.memoizedState,t)},useTransition:function(){var t=Ja(br)[0],e=vt().memoizedState;return[t,e]},useMutableSource:E_,useSyncExternalStore:b_,useId:H_,unstable_isNewReconciler:!1};function St(t,e){if(t&&t.defaultProps){e=ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function iu(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var la={isMounted:function(t){return(t=t._reactInternals)?wi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ue(),s=Mn(t),r=en(i,s);r.payload=e,n!=null&&(r.callback=n),e=In(t,r,s),e!==null&&(Mt(e,t,s,i),$o(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ue(),s=Mn(t),r=en(i,s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=In(t,r,s),e!==null&&(Mt(e,t,s,i),$o(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ue(),i=Mn(t),s=en(n,i);s.tag=2,e!=null&&(s.callback=e),e=In(t,s,i),e!==null&&(Mt(e,t,i,n),$o(e,t,i))}};function Pf(t,e,n,i,s,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!vr(n,i)||!vr(s,r):!0}function U_(t,e,n){var i=!1,s=Fn,r=e.contextType;return typeof r=="object"&&r!==null?r=yt(r):(s=et(e)?ui:Be.current,i=e.contextTypes,r=(i=i!=null)?Ji(t,s):Fn),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=la,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function Mf(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&la.enqueueReplaceState(e,e.state,null)}function su(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ch(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=yt(r):(r=et(e)?ui:Be.current,s.context=Ji(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(iu(t,e,r,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&la.enqueueReplaceState(s,s.state,null),yl(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function is(t,e){try{var n="",i=e;do n+=g1(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function ec(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ru(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jx=typeof WeakMap=="function"?WeakMap:Map;function $_(t,e,n){n=en(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Cl||(Cl=!0,gu=i),ru(t,e)},n}function Y_(t,e,n){n=en(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){ru(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){ru(t,e),typeof i!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Nf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new jx;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=nw.bind(null,t,e,n),e.then(t,t))}function Df(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Rf(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=en(-1,1),e.tag=2,In(n,e,1))),n.lanes|=1),t)}var Vx=hn.ReactCurrentOwner,qe=!1;function Ve(t,e,n,i){e.child=t===null?w_(e,null,n,i):ts(e,t.child,n,i)}function Of(t,e,n,i,s){n=n.render;var r=e.ref;return $i(e,s),i=Ih(t,e,n,i,r,s),n=Ph(),t!==null&&!qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,on(t,e,s)):(re&&n&&mh(e),e.flags|=1,Ve(t,e,i,s),e.child)}function Af(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!Bh(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,G_(t,e,r,i,s)):(t=Xo(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:vr,n(o,i)&&t.ref===e.ref)return on(t,e,s)}return e.flags|=1,t=Nn(r,i),t.ref=e.ref,t.return=e,e.child=t}function G_(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(vr(r,i)&&t.ref===e.ref)if(qe=!1,e.pendingProps=i=r,(t.lanes&s)!==0)t.flags&131072&&(qe=!0);else return e.lanes=t.lanes,on(t,e,s)}return ou(t,e,n,i,s)}function K_(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(zi,rt),rt|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Z(zi,rt),rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,Z(zi,rt),rt|=i}else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,Z(zi,rt),rt|=i;return Ve(t,e,s,n),e.child}function Q_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ou(t,e,n,i,s){var r=et(n)?ui:Be.current;return r=Ji(e,r),$i(e,s),n=Ih(t,e,n,i,r,s),i=Ph(),t!==null&&!qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,on(t,e,s)):(re&&i&&mh(e),e.flags|=1,Ve(t,e,n,s),e.child)}function Lf(t,e,n,i,s){if(et(n)){var r=!0;fl(e)}else r=!1;if($i(e,s),e.stateNode===null)Ko(t,e),U_(e,n,i),su(e,n,i,s),i=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=yt(c):(c=et(n)?ui:Be.current,c=Ji(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||a!==c)&&Mf(e,o,i,c),mn=!1;var d=e.memoizedState;o.state=d,yl(e,i,o,s),a=e.memoizedState,l!==i||d!==a||Je.current||mn?(typeof u=="function"&&(iu(e,n,u,i),a=e.memoizedState),(l=mn||Pf(e,n,l,i,d,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=a),o.props=i,o.state=a,o.context=c,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,C_(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:St(e.type,l),o.props=c,h=e.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=yt(a):(a=et(n)?ui:Be.current,a=Ji(e,a));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||d!==a)&&Mf(e,o,i,a),mn=!1,d=e.memoizedState,o.state=d,yl(e,i,o,s);var p=e.memoizedState;l!==h||d!==p||Je.current||mn?(typeof f=="function"&&(iu(e,n,f,i),p=e.memoizedState),(c=mn||Pf(e,n,c,i,d,p,a)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=a,i=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return lu(t,e,n,i,r,s)}function lu(t,e,n,i,s,r){Q_(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&wf(e,n,!1),on(t,e,r);i=e.stateNode,Vx.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=ts(e,t.child,null,r),e.child=ts(e,null,l,r)):Ve(t,e,l,r),e.memoizedState=i.state,s&&wf(e,n,!0),e.child}function q_(t){var e=t.stateNode;e.pendingContext?xf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xf(t,e.context,!1),kh(t,e.containerInfo)}function Ff(t,e,n,i,s){return es(),yh(s),e.flags|=256,Ve(t,e,n,i),e.child}var au={dehydrated:null,treeContext:null,retryLane:0};function cu(t){return{baseLanes:t,cachePool:null,transitions:null}}function X_(t,e,n){var i=e.pendingProps,s=le.current,r=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Z(le,s&1),t===null)return tu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=ua(o,i,0,null),t=ai(t,i,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=cu(n),e.memoizedState=au,t):Dh(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Ux(t,e,o,i,l,s,n);if(r){r=i.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:i.children};return!(o&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=a,e.deletions=null):(i=Nn(s,a),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?r=Nn(l,r):(r=ai(r,o,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=t.child.memoizedState,o=o===null?cu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=au,i}return r=t.child,t=r.sibling,i=Nn(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Dh(t,e){return e=ua({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yo(t,e,n,i){return i!==null&&yh(i),ts(e,t.child,null,n),t=Dh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ux(t,e,n,i,s,r,o){if(n)return e.flags&256?(e.flags&=-257,i=ec(Error(E(422))),yo(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=ua({mode:"visible",children:i.children},s,0,null),r=ai(r,s,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&ts(e,t.child,null,o),e.child.memoizedState=cu(o),e.memoizedState=au,r);if(!(e.mode&1))return yo(t,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,r=Error(E(419)),i=ec(r,i,void 0),yo(t,e,o,i)}if(l=(o&t.childLanes)!==0,qe||l){if(i=be,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,rn(t,s),Mt(i,t,s,-1))}return zh(),i=ec(Error(E(421))),yo(t,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=iw.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,ot=Tn(s.nextSibling),lt=e,re=!0,kt=null,t!==null&&(dt[ft++]=Xt,dt[ft++]=Zt,dt[ft++]=hi,Xt=t.id,Zt=t.overflow,hi=e),e=Dh(e,i.children),e.flags|=4096,e)}function zf(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),nu(t.return,e,n)}function tc(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function Z_(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(Ve(t,e,i.children,n),i=le.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zf(t,n,e);else if(t.tag===19)zf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Z(le,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&vl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),tc(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&vl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}tc(e,!0,n,null,r);break;case"together":tc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ko(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function on(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=Nn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $x(t,e,n){switch(e.tag){case 3:q_(e),es();break;case 5:k_(e);break;case 1:et(e.type)&&fl(e);break;case 4:kh(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;Z(ml,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Z(le,le.current&1),e.flags|=128,null):n&e.child.childLanes?X_(t,e,n):(Z(le,le.current&1),t=on(t,e,n),t!==null?t.sibling:null);Z(le,le.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return Z_(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(le,le.current),i)break;return null;case 22:case 23:return e.lanes=0,K_(t,e,n)}return on(t,e,n)}var J_,uu,ey,ty;J_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uu=function(){};ey=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,ni(Vt.current);var r=null;switch(n){case"input":s=Dc(t,s),i=Dc(t,i),r=[];break;case"select":s=ce({},s,{value:void 0}),i=ce({},i,{value:void 0}),r=[];break;case"textarea":s=Ac(t,s),i=Ac(t,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=hl)}Fc(n,i);var o;n=null;for(c in s)if(!i.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(dr.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in i){var a=i[c];if(l=s!=null?s[c]:void 0,i.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(r||(r=[]),r.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(r=r||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(r=r||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(dr.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&te("scroll",t),r||l===a||(r=[])):(r=r||[]).push(c,a))}n&&(r=r||[]).push("style",n);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};ty=function(t,e,n,i){n!==i&&(e.flags|=4)};function Ts(t,e){if(!re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Oe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Yx(t,e,n){var i=e.pendingProps;switch(_h(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(e),null;case 1:return et(e.type)&&dl(),Oe(e),null;case 3:return i=e.stateNode,ns(),se(Je),se(Be),bh(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(mo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kt!==null&&(yu(kt),kt=null))),uu(t,e),Oe(e),null;case 5:Eh(e);var s=ni(kr.current);if(n=e.type,t!==null&&e.stateNode!=null)ey(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(E(166));return Oe(e),null}if(t=ni(Vt.current),mo(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[Wt]=e,i[Sr]=r,t=(e.mode&1)!==0,n){case"dialog":te("cancel",i),te("close",i);break;case"iframe":case"object":case"embed":te("load",i);break;case"video":case"audio":for(s=0;s<Ws.length;s++)te(Ws[s],i);break;case"source":te("error",i);break;case"img":case"image":case"link":te("error",i),te("load",i);break;case"details":te("toggle",i);break;case"input":Yd(i,r),te("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},te("invalid",i);break;case"textarea":Kd(i,r),te("invalid",i)}Fc(n,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var l=r[o];o==="children"?typeof l=="string"?i.textContent!==l&&(r.suppressHydrationWarning!==!0&&go(i.textContent,l,t),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(r.suppressHydrationWarning!==!0&&go(i.textContent,l,t),s=["children",""+l]):dr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&te("scroll",i)}switch(n){case"input":oo(i),Gd(i,r,!0);break;case"textarea":oo(i),Qd(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=hl)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Pm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Wt]=e,t[Sr]=i,J_(t,e,!1,!1),e.stateNode=t;e:{switch(o=zc(n,i),n){case"dialog":te("cancel",t),te("close",t),s=i;break;case"iframe":case"object":case"embed":te("load",t),s=i;break;case"video":case"audio":for(s=0;s<Ws.length;s++)te(Ws[s],t);s=i;break;case"source":te("error",t),s=i;break;case"img":case"image":case"link":te("error",t),te("load",t),s=i;break;case"details":te("toggle",t),s=i;break;case"input":Yd(t,i),s=Dc(t,i),te("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=ce({},i,{value:void 0}),te("invalid",t);break;case"textarea":Kd(t,i),s=Ac(t,i),te("invalid",t);break;default:s=i}Fc(n,s),l=s;for(r in l)if(l.hasOwnProperty(r)){var a=l[r];r==="style"?Dm(t,a):r==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Mm(t,a)):r==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&fr(t,a):typeof a=="number"&&fr(t,""+a):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(dr.hasOwnProperty(r)?a!=null&&r==="onScroll"&&te("scroll",t):a!=null&&nh(t,r,a,o))}switch(n){case"input":oo(t),Gd(t,i,!1);break;case"textarea":oo(t),Qd(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Ln(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?Wi(t,!!i.multiple,r,!1):i.defaultValue!=null&&Wi(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=hl)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Oe(e),null;case 6:if(t&&e.stateNode!=null)ty(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(E(166));if(n=ni(kr.current),ni(Vt.current),mo(e)){if(i=e.stateNode,n=e.memoizedProps,i[Wt]=e,(r=i.nodeValue!==n)&&(t=lt,t!==null))switch(t.tag){case 3:go(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&go(i.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Wt]=e,e.stateNode=i}return Oe(e),null;case 13:if(se(le),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(re&&ot!==null&&e.mode&1&&!(e.flags&128))v_(),es(),e.flags|=98560,r=!1;else if(r=mo(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(E(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(E(317));r[Wt]=e}else es(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Oe(e),r=!1}else kt!==null&&(yu(kt),kt=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||le.current&1?we===0&&(we=3):zh())),e.updateQueue!==null&&(e.flags|=4),Oe(e),null);case 4:return ns(),uu(t,e),t===null&&xr(e.stateNode.containerInfo),Oe(e),null;case 10:return wh(e.type._context),Oe(e),null;case 17:return et(e.type)&&dl(),Oe(e),null;case 19:if(se(le),r=e.memoizedState,r===null)return Oe(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)Ts(r,!1);else{if(we!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=vl(t),o!==null){for(e.flags|=128,Ts(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Z(le,le.current&1|2),e.child}t=t.sibling}r.tail!==null&&pe()>ss&&(e.flags|=128,i=!0,Ts(r,!1),e.lanes=4194304)}else{if(!i)if(t=vl(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ts(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!re)return Oe(e),null}else 2*pe()-r.renderingStartTime>ss&&n!==1073741824&&(e.flags|=128,i=!0,Ts(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=pe(),e.sibling=null,n=le.current,Z(le,i?n&1|2:n&1),e):(Oe(e),null);case 22:case 23:return Fh(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?rt&1073741824&&(Oe(e),e.subtreeFlags&6&&(e.flags|=8192)):Oe(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Gx(t,e){switch(_h(e),e.tag){case 1:return et(e.type)&&dl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ns(),se(Je),se(Be),bh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Eh(e),null;case 13:if(se(le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));es()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return se(le),null;case 4:return ns(),null;case 10:return wh(e.type._context),null;case 22:case 23:return Fh(),null;case 24:return null;default:return null}}var vo=!1,Le=!1,Kx=typeof WeakSet=="function"?WeakSet:Set,P=null;function Fi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ue(t,e,i)}else n.current=null}function hu(t,e,n){try{n()}catch(i){ue(t,e,i)}}var Bf=!1;function Qx(t,e){if(Kc=al,t=o_(),gh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var f;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==r||i!==0&&h.nodeType!==3||(a=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++c===s&&(l=o),d===r&&++u===i&&(a=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qc={focusedElem:t,selectionRange:n},al=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var _=p.memoizedProps,v=p.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:St(e.type,_),v);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(x){ue(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return p=Bf,Bf=!1,p}function Xs(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&hu(e,n,r)}s=s.next}while(s!==i)}}function aa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function du(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ny(t){var e=t.alternate;e!==null&&(t.alternate=null,ny(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wt],delete e[Sr],delete e[Zc],delete e[Nx],delete e[Dx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iy(t){return t.tag===5||t.tag===3||t.tag===4}function Hf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hl));else if(i!==4&&(t=t.child,t!==null))for(fu(t,e,n),t=t.sibling;t!==null;)fu(t,e,n),t=t.sibling}function pu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(pu(t,e,n),t=t.sibling;t!==null;)pu(t,e,n),t=t.sibling}var Ie=null,Ct=!1;function fn(t,e,n){for(n=n.child;n!==null;)sy(t,e,n),n=n.sibling}function sy(t,e,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ea,n)}catch{}switch(n.tag){case 5:Le||Fi(n,e);case 6:var i=Ie,s=Ct;Ie=null,fn(t,e,n),Ie=i,Ct=s,Ie!==null&&(Ct?(t=Ie,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ie.removeChild(n.stateNode));break;case 18:Ie!==null&&(Ct?(t=Ie,n=n.stateNode,t.nodeType===8?Ka(t.parentNode,n):t.nodeType===1&&Ka(t,n),_r(t)):Ka(Ie,n.stateNode));break;case 4:i=Ie,s=Ct,Ie=n.stateNode.containerInfo,Ct=!0,fn(t,e,n),Ie=i,Ct=s;break;case 0:case 11:case 14:case 15:if(!Le&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&hu(n,e,o),s=s.next}while(s!==i)}fn(t,e,n);break;case 1:if(!Le&&(Fi(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){ue(n,e,l)}fn(t,e,n);break;case 21:fn(t,e,n);break;case 22:n.mode&1?(Le=(i=Le)||n.memoizedState!==null,fn(t,e,n),Le=i):fn(t,e,n);break;default:fn(t,e,n)}}function Wf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Kx),e.forEach(function(i){var s=sw.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function wt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ie=l.stateNode,Ct=!1;break e;case 3:Ie=l.stateNode.containerInfo,Ct=!0;break e;case 4:Ie=l.stateNode.containerInfo,Ct=!0;break e}l=l.return}if(Ie===null)throw Error(E(160));sy(r,o,s),Ie=null,Ct=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){ue(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ry(e,t),e=e.sibling}function ry(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wt(e,t),At(t),i&4){try{Xs(3,t,t.return),aa(3,t)}catch(_){ue(t,t.return,_)}try{Xs(5,t,t.return)}catch(_){ue(t,t.return,_)}}break;case 1:wt(e,t),At(t),i&512&&n!==null&&Fi(n,n.return);break;case 5:if(wt(e,t),At(t),i&512&&n!==null&&Fi(n,n.return),t.flags&32){var s=t.stateNode;try{fr(s,"")}catch(_){ue(t,t.return,_)}}if(i&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&r.type==="radio"&&r.name!=null&&Tm(s,r),zc(l,o);var c=zc(l,r);for(o=0;o<a.length;o+=2){var u=a[o],h=a[o+1];u==="style"?Dm(s,h):u==="dangerouslySetInnerHTML"?Mm(s,h):u==="children"?fr(s,h):nh(s,u,h,c)}switch(l){case"input":Rc(s,r);break;case"textarea":Im(s,r);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var f=r.value;f!=null?Wi(s,!!r.multiple,f,!1):d!==!!r.multiple&&(r.defaultValue!=null?Wi(s,!!r.multiple,r.defaultValue,!0):Wi(s,!!r.multiple,r.multiple?[]:"",!1))}s[Sr]=r}catch(_){ue(t,t.return,_)}}break;case 6:if(wt(e,t),At(t),i&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(_){ue(t,t.return,_)}}break;case 3:if(wt(e,t),At(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{_r(e.containerInfo)}catch(_){ue(t,t.return,_)}break;case 4:wt(e,t),At(t);break;case 13:wt(e,t),At(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(Ah=pe())),i&4&&Wf(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Le=(c=Le)||u,wt(e,t),Le=c):wt(e,t),At(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(P=t,u=t.child;u!==null;){for(h=P=u;P!==null;){switch(d=P,f=d.child,d.tag){case 0:case 11:case 14:case 15:Xs(4,d,d.return);break;case 1:Fi(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){i=d,n=d.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(_){ue(i,n,_)}}break;case 5:Fi(d,d.return);break;case 22:if(d.memoizedState!==null){Vf(h);continue}}f!==null?(f.return=d,P=f):Vf(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Nm("display",o))}catch(_){ue(t,t.return,_)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){ue(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wt(e,t),At(t),i&4&&Wf(t);break;case 21:break;default:wt(e,t),At(t)}}function At(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iy(n)){var i=n;break e}n=n.return}throw Error(E(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(fr(s,""),i.flags&=-33);var r=Hf(t);pu(t,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,l=Hf(t);fu(t,l,o);break;default:throw Error(E(161))}}catch(a){ue(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qx(t,e,n){P=t,oy(t)}function oy(t,e,n){for(var i=(t.mode&1)!==0;P!==null;){var s=P,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||vo;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Le;l=vo;var c=Le;if(vo=o,(Le=a)&&!c)for(P=s;P!==null;)o=P,a=o.child,o.tag===22&&o.memoizedState!==null?Uf(s):a!==null?(a.return=o,P=a):Uf(s);for(;r!==null;)P=r,oy(r),r=r.sibling;P=s,vo=l,Le=c}jf(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,P=r):jf(t)}}function jf(t){for(;P!==null;){var e=P;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Le||aa(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Le)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:St(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&bf(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bf(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&_r(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Le||e.flags&512&&du(e)}catch(d){ue(e,e.return,d)}}if(e===t){P=null;break}if(n=e.sibling,n!==null){n.return=e.return,P=n;break}P=e.return}}function Vf(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var n=e.sibling;if(n!==null){n.return=e.return,P=n;break}P=e.return}}function Uf(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{aa(4,e)}catch(a){ue(e,n,a)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(a){ue(e,s,a)}}var r=e.return;try{du(e)}catch(a){ue(e,r,a)}break;case 5:var o=e.return;try{du(e)}catch(a){ue(e,o,a)}}}catch(a){ue(e,e.return,a)}if(e===t){P=null;break}var l=e.sibling;if(l!==null){l.return=e.return,P=l;break}P=e.return}}var Xx=Math.ceil,Sl=hn.ReactCurrentDispatcher,Rh=hn.ReactCurrentOwner,_t=hn.ReactCurrentBatchConfig,U=0,be=null,_e=null,Me=0,rt=0,zi=jn(0),we=0,Ir=null,fi=0,ca=0,Oh=0,Zs=null,Ke=null,Ah=0,ss=1/0,Kt=null,Cl=!1,gu=null,Pn=null,xo=!1,xn=null,kl=0,Js=0,mu=null,Qo=-1,qo=0;function Ue(){return U&6?pe():Qo!==-1?Qo:Qo=pe()}function Mn(t){return t.mode&1?U&2&&Me!==0?Me&-Me:Ox.transition!==null?(qo===0&&(qo=Um()),qo):(t=G,t!==0||(t=window.event,t=t===void 0?16:Xm(t.type)),t):1}function Mt(t,e,n,i){if(50<Js)throw Js=0,mu=null,Error(E(185));$r(t,n,i),(!(U&2)||t!==be)&&(t===be&&(!(U&2)&&(ca|=n),we===4&&yn(t,Me)),tt(t,i),n===1&&U===0&&!(e.mode&1)&&(ss=pe()+500,ra&&Vn()))}function tt(t,e){var n=t.callbackNode;O1(t,e);var i=ll(t,t===be?Me:0);if(i===0)n!==null&&Zd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Zd(n),e===1)t.tag===0?Rx($f.bind(null,t)):m_($f.bind(null,t)),Px(function(){!(U&6)&&Vn()}),n=null;else{switch($m(i)){case 1:n=lh;break;case 4:n=jm;break;case 16:n=ol;break;case 536870912:n=Vm;break;default:n=ol}n=py(n,ly.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ly(t,e){if(Qo=-1,qo=0,U&6)throw Error(E(327));var n=t.callbackNode;if(Yi()&&t.callbackNode!==n)return null;var i=ll(t,t===be?Me:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=El(t,i);else{e=i;var s=U;U|=2;var r=cy();(be!==t||Me!==e)&&(Kt=null,ss=pe()+500,li(t,e));do try{ew();break}catch(l){ay(t,l)}while(!0);xh(),Sl.current=r,U=s,_e!==null?e=0:(be=null,Me=0,e=we)}if(e!==0){if(e===2&&(s=Vc(t),s!==0&&(i=s,e=_u(t,s))),e===1)throw n=Ir,li(t,0),yn(t,i),tt(t,pe()),n;if(e===6)yn(t,i);else{if(s=t.current.alternate,!(i&30)&&!Zx(s)&&(e=El(t,i),e===2&&(r=Vc(t),r!==0&&(i=r,e=_u(t,r))),e===1))throw n=Ir,li(t,0),yn(t,i),tt(t,pe()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(E(345));case 2:Qn(t,Ke,Kt);break;case 3:if(yn(t,i),(i&130023424)===i&&(e=Ah+500-pe(),10<e)){if(ll(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){Ue(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Xc(Qn.bind(null,t,Ke,Kt),e);break}Qn(t,Ke,Kt);break;case 4:if(yn(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var o=31-Pt(i);r=1<<o,o=e[o],o>s&&(s=o),i&=~r}if(i=s,i=pe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Xx(i/1960))-i,10<i){t.timeoutHandle=Xc(Qn.bind(null,t,Ke,Kt),i);break}Qn(t,Ke,Kt);break;case 5:Qn(t,Ke,Kt);break;default:throw Error(E(329))}}}return tt(t,pe()),t.callbackNode===n?ly.bind(null,t):null}function _u(t,e){var n=Zs;return t.current.memoizedState.isDehydrated&&(li(t,e).flags|=256),t=El(t,e),t!==2&&(e=Ke,Ke=n,e!==null&&yu(e)),t}function yu(t){Ke===null?Ke=t:Ke.push.apply(Ke,t)}function Zx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!Rt(r(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yn(t,e){for(e&=~Oh,e&=~ca,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pt(e),i=1<<n;t[n]=-1,e&=~i}}function $f(t){if(U&6)throw Error(E(327));Yi();var e=ll(t,0);if(!(e&1))return tt(t,pe()),null;var n=El(t,e);if(t.tag!==0&&n===2){var i=Vc(t);i!==0&&(e=i,n=_u(t,i))}if(n===1)throw n=Ir,li(t,0),yn(t,e),tt(t,pe()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qn(t,Ke,Kt),tt(t,pe()),null}function Lh(t,e){var n=U;U|=1;try{return t(e)}finally{U=n,U===0&&(ss=pe()+500,ra&&Vn())}}function pi(t){xn!==null&&xn.tag===0&&!(U&6)&&Yi();var e=U;U|=1;var n=_t.transition,i=G;try{if(_t.transition=null,G=1,t)return t()}finally{G=i,_t.transition=n,U=e,!(U&6)&&Vn()}}function Fh(){rt=zi.current,se(zi)}function li(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ix(n)),_e!==null)for(n=_e.return;n!==null;){var i=n;switch(_h(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&dl();break;case 3:ns(),se(Je),se(Be),bh();break;case 5:Eh(i);break;case 4:ns();break;case 13:se(le);break;case 19:se(le);break;case 10:wh(i.type._context);break;case 22:case 23:Fh()}n=n.return}if(be=t,_e=t=Nn(t.current,null),Me=rt=e,we=0,Ir=null,Oh=ca=fi=0,Ke=Zs=null,ti!==null){for(e=0;e<ti.length;e++)if(n=ti[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}n.pending=i}ti=null}return t}function ay(t,e){do{var n=_e;try{if(xh(),Yo.current=wl,xl){for(var i=ae.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}xl=!1}if(di=0,Ce=ye=ae=null,qs=!1,Er=0,Rh.current=null,n===null||n.return===null){we=1,Ir=e,_e=null;break}e:{var r=t,o=n.return,l=n,a=e;if(e=Me,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Df(o);if(f!==null){f.flags&=-257,Rf(f,o,l,r,e),f.mode&1&&Nf(r,c,e),e=f,a=c;var p=e.updateQueue;if(p===null){var _=new Set;_.add(a),e.updateQueue=_}else p.add(a);break e}else{if(!(e&1)){Nf(r,c,e),zh();break e}a=Error(E(426))}}else if(re&&l.mode&1){var v=Df(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Rf(v,o,l,r,e),yh(is(a,l));break e}}r=a=is(a,l),we!==4&&(we=2),Zs===null?Zs=[r]:Zs.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var g=$_(r,a,e);Ef(r,g);break e;case 1:l=a;var m=r.type,y=r.stateNode;if(!(r.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Pn===null||!Pn.has(y)))){r.flags|=65536,e&=-e,r.lanes|=e;var x=Y_(r,l,e);Ef(r,x);break e}}r=r.return}while(r!==null)}hy(n)}catch(w){e=w,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(!0)}function cy(){var t=Sl.current;return Sl.current=wl,t===null?wl:t}function zh(){(we===0||we===3||we===2)&&(we=4),be===null||!(fi&268435455)&&!(ca&268435455)||yn(be,Me)}function El(t,e){var n=U;U|=2;var i=cy();(be!==t||Me!==e)&&(Kt=null,li(t,e));do try{Jx();break}catch(s){ay(t,s)}while(!0);if(xh(),U=n,Sl.current=i,_e!==null)throw Error(E(261));return be=null,Me=0,we}function Jx(){for(;_e!==null;)uy(_e)}function ew(){for(;_e!==null&&!E1();)uy(_e)}function uy(t){var e=fy(t.alternate,t,rt);t.memoizedProps=t.pendingProps,e===null?hy(t):_e=e,Rh.current=null}function hy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Gx(n,e),n!==null){n.flags&=32767,_e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{we=6,_e=null;return}}else if(n=Yx(n,e,rt),n!==null){_e=n;return}if(e=e.sibling,e!==null){_e=e;return}_e=e=t}while(e!==null);we===0&&(we=5)}function Qn(t,e,n){var i=G,s=_t.transition;try{_t.transition=null,G=1,tw(t,e,n,i)}finally{_t.transition=s,G=i}return null}function tw(t,e,n,i){do Yi();while(xn!==null);if(U&6)throw Error(E(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(A1(t,r),t===be&&(_e=be=null,Me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xo||(xo=!0,py(ol,function(){return Yi(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=_t.transition,_t.transition=null;var o=G;G=1;var l=U;U|=4,Rh.current=null,Qx(t,n),ry(n,t),wx(Qc),al=!!Kc,Qc=Kc=null,t.current=n,qx(n),b1(),U=l,G=o,_t.transition=r}else t.current=n;if(xo&&(xo=!1,xn=t,kl=s),r=t.pendingLanes,r===0&&(Pn=null),P1(n.stateNode),tt(t,pe()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(Cl)throw Cl=!1,t=gu,gu=null,t;return kl&1&&t.tag!==0&&Yi(),r=t.pendingLanes,r&1?t===mu?Js++:(Js=0,mu=t):Js=0,Vn(),null}function Yi(){if(xn!==null){var t=$m(kl),e=_t.transition,n=G;try{if(_t.transition=null,G=16>t?16:t,xn===null)var i=!1;else{if(t=xn,xn=null,kl=0,U&6)throw Error(E(331));var s=U;for(U|=4,P=t.current;P!==null;){var r=P,o=r.child;if(P.flags&16){var l=r.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(P=c;P!==null;){var u=P;switch(u.tag){case 0:case 11:case 15:Xs(8,u,r)}var h=u.child;if(h!==null)h.return=u,P=h;else for(;P!==null;){u=P;var d=u.sibling,f=u.return;if(ny(u),u===c){P=null;break}if(d!==null){d.return=f,P=d;break}P=f}}}var p=r.alternate;if(p!==null){var _=p.child;if(_!==null){p.child=null;do{var v=_.sibling;_.sibling=null,_=v}while(_!==null)}}P=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,P=o;else e:for(;P!==null;){if(r=P,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Xs(9,r,r.return)}var g=r.sibling;if(g!==null){g.return=r.return,P=g;break e}P=r.return}}var m=t.current;for(P=m;P!==null;){o=P;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,P=y;else e:for(o=m;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:aa(9,l)}}catch(w){ue(l,l.return,w)}if(l===o){P=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,P=x;break e}P=l.return}}if(U=s,Vn(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ea,t)}catch{}i=!0}return i}finally{G=n,_t.transition=e}}return!1}function Yf(t,e,n){e=is(n,e),e=$_(t,e,1),t=In(t,e,1),e=Ue(),t!==null&&($r(t,1,e),tt(t,e))}function ue(t,e,n){if(t.tag===3)Yf(t,t,n);else for(;e!==null;){if(e.tag===3){Yf(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Pn===null||!Pn.has(i))){t=is(n,t),t=Y_(e,t,1),e=In(e,t,1),t=Ue(),e!==null&&($r(e,1,t),tt(e,t));break}}e=e.return}}function nw(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Ue(),t.pingedLanes|=t.suspendedLanes&n,be===t&&(Me&n)===n&&(we===4||we===3&&(Me&130023424)===Me&&500>pe()-Ah?li(t,0):Oh|=n),tt(t,e)}function dy(t,e){e===0&&(t.mode&1?(e=co,co<<=1,!(co&130023424)&&(co=4194304)):e=1);var n=Ue();t=rn(t,e),t!==null&&($r(t,e,n),tt(t,n))}function iw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dy(t,n)}function sw(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(E(314))}i!==null&&i.delete(e),dy(t,n)}var fy;fy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Je.current)qe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qe=!1,$x(t,e,n);qe=!!(t.flags&131072)}else qe=!1,re&&e.flags&1048576&&__(e,gl,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Ko(t,e),t=e.pendingProps;var s=Ji(e,Be.current);$i(e,n),s=Ih(null,e,i,t,s,n);var r=Ph();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,et(i)?(r=!0,fl(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ch(e),s.updater=la,e.stateNode=s,s._reactInternals=e,su(e,i,t,n),e=lu(null,e,i,!0,r,n)):(e.tag=0,re&&r&&mh(e),Ve(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Ko(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=ow(i),t=St(i,t),s){case 0:e=ou(null,e,i,t,n);break e;case 1:e=Lf(null,e,i,t,n);break e;case 11:e=Of(null,e,i,t,n);break e;case 14:e=Af(null,e,i,St(i.type,t),n);break e}throw Error(E(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:St(i,s),ou(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:St(i,s),Lf(t,e,i,s,n);case 3:e:{if(q_(e),t===null)throw Error(E(387));i=e.pendingProps,r=e.memoizedState,s=r.element,C_(t,e),yl(e,i,null,n);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=is(Error(E(423)),e),e=Ff(t,e,i,n,s);break e}else if(i!==s){s=is(Error(E(424)),e),e=Ff(t,e,i,n,s);break e}else for(ot=Tn(e.stateNode.containerInfo.firstChild),lt=e,re=!0,kt=null,n=w_(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(es(),i===s){e=on(t,e,n);break e}Ve(t,e,i,n)}e=e.child}return e;case 5:return k_(e),t===null&&tu(e),i=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,o=s.children,qc(i,s)?o=null:r!==null&&qc(i,r)&&(e.flags|=32),Q_(t,e),Ve(t,e,o,n),e.child;case 6:return t===null&&tu(e),null;case 13:return X_(t,e,n);case 4:return kh(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=ts(e,null,i,n):Ve(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:St(i,s),Of(t,e,i,s,n);case 7:return Ve(t,e,e.pendingProps,n),e.child;case 8:return Ve(t,e,e.pendingProps.children,n),e.child;case 12:return Ve(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,Z(ml,i._currentValue),i._currentValue=o,r!==null)if(Rt(r.value,o)){if(r.children===s.children&&!Je.current){e=on(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var l=r.dependencies;if(l!==null){o=r.child;for(var a=l.firstContext;a!==null;){if(a.context===i){if(r.tag===1){a=en(-1,n&-n),a.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?a.next=a:(a.next=u.next,u.next=a),c.pending=a}}r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),nu(r.return,n,e),l.lanes|=n;break}a=a.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(E(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),nu(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Ve(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,$i(e,n),s=yt(s),i=i(s),e.flags|=1,Ve(t,e,i,n),e.child;case 14:return i=e.type,s=St(i,e.pendingProps),s=St(i.type,s),Af(t,e,i,s,n);case 15:return G_(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:St(i,s),Ko(t,e),e.tag=1,et(i)?(t=!0,fl(e)):t=!1,$i(e,n),U_(e,i,s),su(e,i,s,n),lu(null,e,i,!0,t,n);case 19:return Z_(t,e,n);case 22:return K_(t,e,n)}throw Error(E(156,e.tag))};function py(t,e){return Wm(t,e)}function rw(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(t,e,n,i){return new rw(t,e,n,i)}function Bh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ow(t){if(typeof t=="function")return Bh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sh)return 11;if(t===rh)return 14}return 2}function Nn(t,e){var n=t.alternate;return n===null?(n=pt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xo(t,e,n,i,s,r){var o=2;if(i=t,typeof t=="function")Bh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ii:return ai(n.children,s,r,e);case ih:o=8,s|=8;break;case Ic:return t=pt(12,n,e,s|2),t.elementType=Ic,t.lanes=r,t;case Pc:return t=pt(13,n,e,s),t.elementType=Pc,t.lanes=r,t;case Mc:return t=pt(19,n,e,s),t.elementType=Mc,t.lanes=r,t;case km:return ua(n,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Sm:o=10;break e;case Cm:o=9;break e;case sh:o=11;break e;case rh:o=14;break e;case gn:o=16,i=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=pt(o,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function ai(t,e,n,i){return t=pt(7,t,i,e),t.lanes=n,t}function ua(t,e,n,i){return t=pt(22,t,i,e),t.elementType=km,t.lanes=n,t.stateNode={isHidden:!1},t}function nc(t,e,n){return t=pt(6,t,null,e),t.lanes=n,t}function ic(t,e,n){return e=pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lw(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fa(0),this.expirationTimes=Fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fa(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hh(t,e,n,i,s,r,o,l,a){return t=new lw(t,e,n,l,a),e===1?(e=1,r===!0&&(e|=8)):e=0,r=pt(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ch(r),t}function aw(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ti,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function gy(t){if(!t)return Fn;t=t._reactInternals;e:{if(wi(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(et(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(et(n))return g_(t,n,e)}return e}function my(t,e,n,i,s,r,o,l,a){return t=Hh(n,i,!0,t,s,r,o,l,a),t.context=gy(null),n=t.current,i=Ue(),s=Mn(n),r=en(i,s),r.callback=e??null,In(n,r,s),t.current.lanes=s,$r(t,s,i),tt(t,i),t}function ha(t,e,n,i){var s=e.current,r=Ue(),o=Mn(s);return n=gy(n),e.context===null?e.context=n:e.pendingContext=n,e=en(r,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=In(s,e,o),t!==null&&(Mt(t,s,o,r),$o(t,s,o)),o}function bl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Gf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wh(t,e){Gf(t,e),(t=t.alternate)&&Gf(t,e)}function cw(){return null}var _y=typeof reportError=="function"?reportError:function(t){console.error(t)};function jh(t){this._internalRoot=t}da.prototype.render=jh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));ha(t,e,null,null)};da.prototype.unmount=jh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pi(function(){ha(null,t,null,null)}),e[sn]=null}};function da(t){this._internalRoot=t}da.prototype.unstable_scheduleHydration=function(t){if(t){var e=Km();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_n.length&&e!==0&&e<_n[n].priority;n++);_n.splice(n,0,t),n===0&&qm(t)}};function Vh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kf(){}function uw(t,e,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var c=bl(o);r.call(c)}}var o=my(e,i,t,0,null,!1,!1,"",Kf);return t._reactRootContainer=o,t[sn]=o.current,xr(t.nodeType===8?t.parentNode:t),pi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var c=bl(a);l.call(c)}}var a=Hh(t,0,!1,null,null,!1,!1,"",Kf);return t._reactRootContainer=a,t[sn]=a.current,xr(t.nodeType===8?t.parentNode:t),pi(function(){ha(e,a,n,i)}),a}function pa(t,e,n,i,s){var r=n._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var l=s;s=function(){var a=bl(o);l.call(a)}}ha(e,o,t,s)}else o=uw(n,e,t,s,i);return bl(o)}Ym=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Hs(e.pendingLanes);n!==0&&(ah(e,n|1),tt(e,pe()),!(U&6)&&(ss=pe()+500,Vn()))}break;case 13:pi(function(){var i=rn(t,1);if(i!==null){var s=Ue();Mt(i,t,1,s)}}),Wh(t,1)}};ch=function(t){if(t.tag===13){var e=rn(t,134217728);if(e!==null){var n=Ue();Mt(e,t,134217728,n)}Wh(t,134217728)}};Gm=function(t){if(t.tag===13){var e=Mn(t),n=rn(t,e);if(n!==null){var i=Ue();Mt(n,t,e,i)}Wh(t,e)}};Km=function(){return G};Qm=function(t,e){var n=G;try{return G=t,e()}finally{G=n}};Hc=function(t,e,n){switch(e){case"input":if(Rc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=sa(i);if(!s)throw Error(E(90));bm(i),Rc(i,s)}}}break;case"textarea":Im(t,n);break;case"select":e=n.value,e!=null&&Wi(t,!!n.multiple,e,!1)}};Am=Lh;Lm=pi;var hw={usingClientEntryPoint:!1,Events:[Gr,Di,sa,Rm,Om,Lh]},Is={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dw={bundleType:Is.bundleType,version:Is.version,rendererPackageName:Is.rendererPackageName,rendererConfig:Is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Bm(t),t===null?null:t.stateNode},findFiberByHostInstance:Is.findFiberByHostInstance||cw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wo.isDisabled&&wo.supportsFiber)try{ea=wo.inject(dw),jt=wo}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hw;ct.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vh(e))throw Error(E(200));return aw(t,e,null,n)};ct.createRoot=function(t,e){if(!Vh(t))throw Error(E(299));var n=!1,i="",s=_y;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Hh(t,1,!1,null,null,n,!1,i,s),t[sn]=e.current,xr(t.nodeType===8?t.parentNode:t),new jh(e)};ct.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Bm(e),t=t===null?null:t.stateNode,t};ct.flushSync=function(t){return pi(t)};ct.hydrate=function(t,e,n){if(!fa(e))throw Error(E(200));return pa(null,t,e,!0,n)};ct.hydrateRoot=function(t,e,n){if(!Vh(t))throw Error(E(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",o=_y;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=my(e,null,t,1,n??null,s,!1,r,o),t[sn]=e.current,xr(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new da(e)};ct.render=function(t,e,n){if(!fa(e))throw Error(E(200));return pa(null,t,e,!1,n)};ct.unmountComponentAtNode=function(t){if(!fa(t))throw Error(E(40));return t._reactRootContainer?(pi(function(){pa(null,null,t,!1,function(){t._reactRootContainer=null,t[sn]=null})}),!0):!1};ct.unstable_batchedUpdates=Lh;ct.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!fa(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return pa(t,e,n,!1,i)};ct.version="18.3.1-next-f1338f8080-20240426";function yy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yy)}catch(t){console.error(t)}}yy(),ym.exports=ct;var fw=ym.exports,vy,Qf=fw;vy=Qf.createRoot,Qf.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),gs=(t,e)=>{const n=fe.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:l="",children:a,...c},u)=>fe.createElement("svg",{ref:u,...pw,width:s,height:s,stroke:i,strokeWidth:o?Number(r)*24/Number(s):r,className:["lucide",`lucide-${gw(t)}`,l].join(" "),...c},[...e.map(([h,d])=>fe.createElement(h,d)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=gs("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=gs("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=gs("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=gs("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=gs("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=gs("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ww=()=>N.jsxs("header",{className:"bg-white px-6 py-4 flex items-center justify-between shadow-sm",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(xy,{className:"w-6 h-6 text-blue-500"}),N.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Mi hogar"})]}),N.jsx("button",{className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors",children:N.jsx(yw,{className:"w-6 h-6 text-gray-600"})})]}),Sw=()=>N.jsxs("div",{className:"bg-white px-6 flex gap-8 border-b border-gray-200",children:[N.jsxs("button",{className:"py-4 relative text-blue-500 font-medium",children:["Favoritos",N.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500"})]}),N.jsx("button",{className:"py-4 text-gray-500 font-medium hover:text-gray-700 transition-colors",children:"Sala"})]});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Qr(t){return t+.5|0}const wn=(t,e,n)=>Math.max(Math.min(t,n),e);function js(t){return wn(Qr(t*2.55),0,255)}function Dn(t){return wn(Qr(t*255),0,255)}function qt(t){return wn(Qr(t/2.55)/100,0,1)}function qf(t){return wn(Qr(t*100),0,100)}const ht={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},vu=[..."0123456789ABCDEF"],Cw=t=>vu[t&15],kw=t=>vu[(t&240)>>4]+vu[t&15],So=t=>(t&240)>>4===(t&15),Ew=t=>So(t.r)&&So(t.g)&&So(t.b)&&So(t.a);function bw(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ht[t[1]]*17,g:255&ht[t[2]]*17,b:255&ht[t[3]]*17,a:e===5?ht[t[4]]*17:255}:(e===7||e===9)&&(n={r:ht[t[1]]<<4|ht[t[2]],g:ht[t[3]]<<4|ht[t[4]],b:ht[t[5]]<<4|ht[t[6]],a:e===9?ht[t[7]]<<4|ht[t[8]]:255})),n}const Tw=(t,e)=>t<255?e(t):"";function Iw(t){var e=Ew(t)?Cw:kw;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Tw(t.a,e):void 0}const Pw=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function wy(t,e,n){const i=e*Math.min(n,1-n),s=(r,o=(r+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function Mw(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function Nw(t,e,n){const i=wy(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function Dw(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function Uh(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),l=(r+o)/2;let a,c,u;return r!==o&&(u=r-o,c=l>.5?u/(2-r-o):u/(r+o),a=Dw(n,i,s,u,r),a=a*60+.5),[a|0,c||0,l]}function $h(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Dn)}function Yh(t,e,n){return $h(wy,t,e,n)}function Rw(t,e,n){return $h(Nw,t,e,n)}function Ow(t,e,n){return $h(Mw,t,e,n)}function Sy(t){return(t%360+360)%360}function Aw(t){const e=Pw.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?js(+e[5]):Dn(+e[5]));const s=Sy(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=Rw(s,r,o):e[1]==="hsv"?i=Ow(s,r,o):i=Yh(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function Lw(t,e){var n=Uh(t);n[0]=Sy(n[0]+e),n=Yh(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Fw(t){if(!t)return;const e=Uh(t),n=e[0],i=qf(e[1]),s=qf(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${qt(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const Xf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Zf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function zw(){const t={},e=Object.keys(Zf),n=Object.keys(Xf);let i,s,r,o,l;for(i=0;i<e.length;i++){for(o=l=e[i],s=0;s<n.length;s++)r=n[s],l=l.replace(r,Xf[r]);r=parseInt(Zf[o],16),t[l]=[r>>16&255,r>>8&255,r&255]}return t}let Co;function Bw(t){Co||(Co=zw(),Co.transparent=[0,0,0,0]);const e=Co[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Hw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Ww(t){const e=Hw.exec(t);let n=255,i,s,r;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?js(o):wn(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?js(i):wn(i,0,255)),s=255&(e[4]?js(s):wn(s,0,255)),r=255&(e[6]?js(r):wn(r,0,255)),{r:i,g:s,b:r,a:n}}}function jw(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${qt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const sc=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ei=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Vw(t,e,n){const i=Ei(qt(t.r)),s=Ei(qt(t.g)),r=Ei(qt(t.b));return{r:Dn(sc(i+n*(Ei(qt(e.r))-i))),g:Dn(sc(s+n*(Ei(qt(e.g))-s))),b:Dn(sc(r+n*(Ei(qt(e.b))-r))),a:t.a+n*(e.a-t.a)}}function ko(t,e,n){if(t){let i=Uh(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Yh(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Cy(t,e){return t&&Object.assign(e||{},t)}function Jf(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Dn(t[3]))):(e=Cy(t,{r:0,g:0,b:0,a:1}),e.a=Dn(e.a)),e}function Uw(t){return t.charAt(0)==="r"?Ww(t):Aw(t)}class Pr{constructor(e){if(e instanceof Pr)return e;const n=typeof e;let i;n==="object"?i=Jf(e):n==="string"&&(i=bw(e)||Bw(e)||Uw(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Cy(this._rgb);return e&&(e.a=qt(e.a)),e}set rgb(e){this._rgb=Jf(e)}rgbString(){return this._valid?jw(this._rgb):void 0}hexString(){return this._valid?Iw(this._rgb):void 0}hslString(){return this._valid?Fw(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const o=n===r?.5:n,l=2*o-1,a=i.a-s.a,c=((l*a===-1?l:(l+a)/(1+l*a))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=Vw(this._rgb,e._rgb,n)),this}clone(){return new Pr(this.rgb)}alpha(e){return this._rgb.a=Dn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Qr(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ko(this._rgb,2,e),this}darken(e){return ko(this._rgb,2,-e),this}saturate(e){return ko(this._rgb,1,e),this}desaturate(e){return ko(this._rgb,1,-e),this}rotate(e){return Lw(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function $t(){}const $w=(()=>{let t=0;return()=>t++})();function J(t){return t==null}function ve(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function V(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function He(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Lt(t,e){return He(t)?t:e}function j(t,e){return typeof t>"u"?e:t}const Yw=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ne(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Y(t,e,n,i){let s,r,o;if(ve(t))for(r=t.length,s=0;s<r;s++)e.call(n,t[s],s);else if(V(t))for(o=Object.keys(t),r=o.length,s=0;s<r;s++)e.call(n,t[o[s]],o[s])}function Tl(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Il(t){if(ve(t))return t.map(Il);if(V(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=Il(t[n[s]]);return e}return t}function ky(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Gw(t,e,n,i){if(!ky(t))return;const s=e[t],r=n[t];V(s)&&V(r)?Mr(s,r,i):e[t]=Il(r)}function Mr(t,e,n){const i=ve(e)?e:[e],s=i.length;if(!V(t))return t;n=n||{};const r=n.merger||Gw;let o;for(let l=0;l<s;++l){if(o=i[l],!V(o))continue;const a=Object.keys(o);for(let c=0,u=a.length;c<u;++c)r(a[c],t,o,n)}return t}function er(t,e){return Mr(t,e,{merger:Kw})}function Kw(t,e,n){if(!ky(t))return;const i=e[t],s=n[t];V(i)&&V(s)?er(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Il(s))}const ep={"":t=>t,x:t=>t.x,y:t=>t.y};function Qw(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function qw(t){const e=Qw(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Pl(t,e){return(ep[e]||(ep[e]=qw(e)))(t)}function Gh(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ml=t=>typeof t<"u",zn=t=>typeof t=="function",tp=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Xw(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Te=Math.PI,Nt=2*Te,Zw=Nt+Te,Nl=Number.POSITIVE_INFINITY,Jw=Te/180,bt=Te/2,$n=Te/4,np=Te*2/3,Ey=Math.log10,rs=Math.sign;function tr(t,e,n){return Math.abs(t-e)<n}function ip(t){const e=Math.round(t);t=tr(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ey(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function eS(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function tS(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Nr(t){return!tS(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function nS(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function iS(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function ii(t){return t*(Te/180)}function sS(t){return t*(180/Te)}function sp(t){if(!He(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function rS(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Te&&(r+=Nt),{angle:r,distance:s}}function xu(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function oS(t,e){return(t-e+Zw)%Nt-Te}function Ht(t){return(t%Nt+Nt)%Nt}function by(t,e,n,i){const s=Ht(t),r=Ht(e),o=Ht(n),l=Ht(r-s),a=Ht(o-s),c=Ht(s-r),u=Ht(s-o);return s===r||s===o||i&&r===o||l>a&&c<u}function gt(t,e,n){return Math.max(e,Math.min(n,t))}function lS(t){return gt(t,-32768,32767)}function Bi(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Kh(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const si=(t,e,n,i)=>Kh(t,n,i?s=>{const r=t[s][e];return r<n||r===n&&t[s+1][e]===n}:s=>t[s][e]<n),aS=(t,e,n)=>Kh(t,n,i=>t[i][e]>=n);function cS(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const Ty=["push","pop","shift","splice","unshift"];function uS(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Ty.forEach(n=>{const i="_onData"+Gh(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return t._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...r)}),o}})})}function rp(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(Ty.forEach(r=>{delete t[r]}),delete t._chartjs)}function hS(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Iy=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Py(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,Iy.call(window,()=>{i=!1,t.apply(e,n)}))}}function dS(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Qh=t=>t==="start"?"left":t==="end"?"right":"center",Ae=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,fS=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function pS(t,e,n){const i=e.length;let s=0,r=i;if(t._sorted){const{iScale:o,vScale:l,_parsed:a}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:d,minDefined:f,maxDefined:p}=o.getUserBounds();if(f){if(s=Math.min(si(a,u,h).lo,n?i:si(e,u,o.getPixelForValue(h)).lo),c){const _=a.slice(0,s+1).reverse().findIndex(v=>!J(v[l.axis]));s-=Math.max(0,_)}s=gt(s,0,i-1)}if(p){let _=Math.max(si(a,o.axis,d,!0).hi+1,n?0:si(e,u,o.getPixelForValue(d),!0).hi+1);if(c){const v=a.slice(_-1).findIndex(g=>!J(g[l.axis]));_+=Math.max(0,v)}r=gt(_,s,i)-s}else r=i-s}return{start:s,count:r}}function gS(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const Eo=t=>t===0||t===1,op=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Nt/n)),lp=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Nt/n)+1,nr={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*bt)+1,easeOutSine:t=>Math.sin(t*bt),easeInOutSine:t=>-.5*(Math.cos(Te*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Eo(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Eo(t)?t:op(t,.075,.3),easeOutElastic:t=>Eo(t)?t:lp(t,.075,.3),easeInOutElastic(t){return Eo(t)?t:t<.5?.5*op(t*2,.1125,.45):.5+.5*lp(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-nr.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?nr.easeInBounce(t*2)*.5:nr.easeOutBounce(t*2-1)*.5+.5};function qh(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ap(t){return qh(t)?t:new Pr(t)}function rc(t){return qh(t)?t:new Pr(t).saturate(.5).darken(.1).hexString()}const mS=["x","y","borderWidth","radius","tension"],_S=["color","borderColor","backgroundColor"];function yS(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:_S},numbers:{type:"number",properties:mS}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function vS(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const cp=new Map;function xS(t,e){e=e||{};const n=t+JSON.stringify(e);let i=cp.get(n);return i||(i=new Intl.NumberFormat(t,e),cp.set(n,i)),i}function My(t,e,n){return xS(e,n).format(t)}const wS={values(t){return ve(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=SS(t,n)}const o=Ey(Math.abs(r)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),a={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(a,this.options.ticks.format),My(t,i,a)}};function SS(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Ny={formatters:wS};function CS(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ny.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const gi=Object.create(null),wu=Object.create(null);function ir(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function oc(t,e,n){return typeof e=="string"?Mr(ir(t,e),n):Mr(ir(t,""),e)}class kS{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>rc(s.backgroundColor),this.hoverBorderColor=(i,s)=>rc(s.borderColor),this.hoverColor=(i,s)=>rc(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return oc(this,e,n)}get(e){return ir(this,e)}describe(e,n){return oc(wu,e,n)}override(e,n){return oc(gi,e,n)}route(e,n,i,s){const r=ir(this,e),o=ir(this,i),l="_"+n;Object.defineProperties(r,{[l]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const a=this[l],c=o[s];return V(a)?Object.assign({},c,a):j(a,c)},set(a){this[l]=a}}})}apply(e){e.forEach(n=>n(this))}}var ge=new kS({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[yS,vS,CS]);function ES(t){return!t||J(t.size)||J(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function up(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function Yn(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function hp(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Su(t,e,n,i){Dy(t,e,n,i,null)}function Dy(t,e,n,i,s){let r,o,l,a,c,u,h,d;const f=e.pointStyle,p=e.rotation,_=e.radius;let v=(p||0)*Jw;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(v),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),f){default:s?t.ellipse(n,i,s/2,_,0,0,Nt):t.arc(n,i,_,0,Nt),t.closePath();break;case"triangle":u=s?s/2:_,t.moveTo(n+Math.sin(v)*u,i-Math.cos(v)*_),v+=np,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*_),v+=np,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*_),t.closePath();break;case"rectRounded":c=_*.516,a=_-c,o=Math.cos(v+$n)*a,h=Math.cos(v+$n)*(s?s/2-c:a),l=Math.sin(v+$n)*a,d=Math.sin(v+$n)*(s?s/2-c:a),t.arc(n-h,i-l,c,v-Te,v-bt),t.arc(n+d,i-o,c,v-bt,v),t.arc(n+h,i+l,c,v,v+bt),t.arc(n-d,i+o,c,v+bt,v+Te),t.closePath();break;case"rect":if(!p){a=Math.SQRT1_2*_,u=s?s/2:a,t.rect(n-u,i-a,2*u,2*a);break}v+=$n;case"rectRot":h=Math.cos(v)*(s?s/2:_),o=Math.cos(v)*_,l=Math.sin(v)*_,d=Math.sin(v)*(s?s/2:_),t.moveTo(n-h,i-l),t.lineTo(n+d,i-o),t.lineTo(n+h,i+l),t.lineTo(n-d,i+o),t.closePath();break;case"crossRot":v+=$n;case"cross":h=Math.cos(v)*(s?s/2:_),o=Math.cos(v)*_,l=Math.sin(v)*_,d=Math.sin(v)*(s?s/2:_),t.moveTo(n-h,i-l),t.lineTo(n+h,i+l),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"star":h=Math.cos(v)*(s?s/2:_),o=Math.cos(v)*_,l=Math.sin(v)*_,d=Math.sin(v)*(s?s/2:_),t.moveTo(n-h,i-l),t.lineTo(n+h,i+l),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o),v+=$n,h=Math.cos(v)*(s?s/2:_),o=Math.cos(v)*_,l=Math.sin(v)*_,d=Math.sin(v)*(s?s/2:_),t.moveTo(n-h,i-l),t.lineTo(n+h,i+l),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"line":o=s?s/2:Math.cos(v)*_,l=Math.sin(v)*_,t.moveTo(n-o,i-l),t.lineTo(n+o,i+l);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(v)*(s?s/2:_),i+Math.sin(v)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Dr(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function ga(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ma(t){t.restore()}function bS(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function TS(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function IS(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),J(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function PS(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,l=e+r.actualBoundingBoxRight,a=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(a+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,u),t.lineTo(l,u),t.stroke()}}function MS(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Rr(t,e,n,i,s,r={}){const o=ve(e)?e:[e],l=r.strokeWidth>0&&r.strokeColor!=="";let a,c;for(t.save(),t.font=s.string,IS(t,r),a=0;a<o.length;++a)c=o[a],r.backdrop&&MS(t,r.backdrop),l&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),J(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,i,r.maxWidth)),t.fillText(c,n,i,r.maxWidth),PS(t,n,i,c,r),i+=Number(s.lineHeight);t.restore()}function Cu(t,e){const{x:n,y:i,w:s,h:r,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Te,Te,!0),t.lineTo(n,i+r-o.bottomLeft),t.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Te,bt,!0),t.lineTo(n+s-o.bottomRight,i+r),t.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,bt,0,!0),t.lineTo(n+s,i+o.topRight),t.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-bt,!0),t.lineTo(n+o.topLeft,i)}const NS=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,DS=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function RS(t,e){const n=(""+t).match(NS);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const OS=t=>+t||0;function Ry(t,e){const n={},i=V(e),s=i?Object.keys(e):e,r=V(t)?i?o=>j(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=OS(r(o));return n}function AS(t){return Ry(t,{top:"y",right:"x",bottom:"y",left:"x"})}function sr(t){return Ry(t,["topLeft","topRight","bottomLeft","bottomRight"])}function xt(t){const e=AS(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ze(t,e){t=t||{},e=e||ge.font;let n=j(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=j(t.style,e.style);i&&!(""+i).match(DS)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:j(t.family,e.family),lineHeight:RS(j(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:j(t.weight,e.weight),string:""};return s.string=ES(s),s}function bo(t,e,n,i){let s,r,o;for(s=0,r=t.length;s<r;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function LS(t,e,n){const{min:i,max:s}=t,r=Yw(e,(s-i)/2),o=(l,a)=>n&&l===0?0:l+a;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function Si(t,e){return Object.assign(Object.create(t),e)}function Xh(t,e=[""],n,i,s=()=>t[0]){const r=n||t;typeof i>"u"&&(i=Fy("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:s,override:l=>Xh([l,...t],e,r,i)};return new Proxy(o,{deleteProperty(l,a){return delete l[a],delete l._keys,delete t[0][a],!0},get(l,a){return Ay(l,a,()=>US(a,e,t,l))},getOwnPropertyDescriptor(l,a){return Reflect.getOwnPropertyDescriptor(l._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,a){return fp(l).includes(a)},ownKeys(l){return fp(l)},set(l,a,c){const u=l._storage||(l._storage=s());return l[a]=u[a]=c,delete l._keys,!0}})}function os(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Oy(t,i),setContext:r=>os(t,r,n,i),override:r=>os(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,l){return Ay(r,o,()=>zS(r,o,l))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,l){return t[o]=l,delete r[o],!0}})}function Oy(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:zn(n)?n:()=>n,isIndexable:zn(i)?i:()=>i}}const FS=(t,e)=>t?t+Gh(e):e,Zh=(t,e)=>V(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Ay(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function zS(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=t;let l=i[e];return zn(l)&&o.isScriptable(e)&&(l=BS(e,l,t,n)),ve(l)&&l.length&&(l=HS(e,l,t,o.isIndexable)),Zh(e,l)&&(l=os(l,s,r&&r[e],o)),l}function BS(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let a=e(r,o||i);return l.delete(t),Zh(t,a)&&(a=Jh(s._scopes,s,t,a)),a}function HS(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:l}=n;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if(V(e[0])){const a=e,c=s._scopes.filter(u=>u!==a);e=[];for(const u of a){const h=Jh(c,s,t,u);e.push(os(h,r,o&&o[t],l))}}return e}function Ly(t,e,n){return zn(t)?t(e,n):t}const WS=(t,e)=>t===!0?e:typeof t=="string"?Pl(e,t):void 0;function jS(t,e,n,i,s){for(const r of e){const o=WS(n,r);if(o){t.add(o);const l=Ly(o._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==i)return l}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Jh(t,e,n,i){const s=e._rootScopes,r=Ly(e._fallback,n,i),o=[...t,...s],l=new Set;l.add(i);let a=dp(l,o,n,r||n,i);return a===null||typeof r<"u"&&r!==n&&(a=dp(l,o,r,a,i),a===null)?!1:Xh(Array.from(l),[""],s,r,()=>VS(e,n,i))}function dp(t,e,n,i,s){for(;n;)n=jS(t,e,n,i,s);return n}function VS(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return ve(s)&&V(n)?n:s||{}}function US(t,e,n,i){let s;for(const r of e)if(s=Fy(FS(r,t),n),typeof s<"u")return Zh(t,s)?Jh(n,i,t,s):s}function Fy(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function fp(t){let e=t._keys;return e||(e=t._keys=$S(t._scopes)),e}function $S(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}const YS=Number.EPSILON||1e-14,ls=(t,e)=>e<t.length&&!t[e].skip&&t[e],zy=t=>t==="x"?"y":"x";function GS(t,e,n,i){const s=t.skip?e:t,r=e,o=n.skip?e:n,l=xu(r,s),a=xu(o,r);let c=l/(l+a),u=a/(l+a);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:r.x-h*(o.x-s.x),y:r.y-h*(o.y-s.y)},next:{x:r.x+d*(o.x-s.x),y:r.y+d*(o.y-s.y)}}}function KS(t,e,n){const i=t.length;let s,r,o,l,a,c=ls(t,0);for(let u=0;u<i-1;++u)if(a=c,c=ls(t,u+1),!(!a||!c)){if(tr(e[u],0,YS)){n[u]=n[u+1]=0;continue}s=n[u]/e[u],r=n[u+1]/e[u],l=Math.pow(s,2)+Math.pow(r,2),!(l<=9)&&(o=3/Math.sqrt(l),n[u]=s*o*e[u],n[u+1]=r*o*e[u])}}function QS(t,e,n="x"){const i=zy(n),s=t.length;let r,o,l,a=ls(t,0);for(let c=0;c<s;++c){if(o=l,l=a,a=ls(t,c+1),!l)continue;const u=l[n],h=l[i];o&&(r=(u-o[n])/3,l[`cp1${n}`]=u-r,l[`cp1${i}`]=h-r*e[c]),a&&(r=(a[n]-u)/3,l[`cp2${n}`]=u+r,l[`cp2${i}`]=h+r*e[c])}}function qS(t,e="x"){const n=zy(e),i=t.length,s=Array(i).fill(0),r=Array(i);let o,l,a,c=ls(t,0);for(o=0;o<i;++o)if(l=a,a=c,c=ls(t,o+1),!!a){if(c){const u=c[e]-a[e];s[o]=u!==0?(c[n]-a[n])/u:0}r[o]=l?c?rs(s[o-1])!==rs(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}KS(t,s,r),QS(t,r,e)}function To(t,e,n){return Math.max(Math.min(t,n),e)}function XS(t,e){let n,i,s,r,o,l=Dr(t[0],e);for(n=0,i=t.length;n<i;++n)o=r,r=l,l=n<i-1&&Dr(t[n+1],e),r&&(s=t[n],o&&(s.cp1x=To(s.cp1x,e.left,e.right),s.cp1y=To(s.cp1y,e.top,e.bottom)),l&&(s.cp2x=To(s.cp2x,e.left,e.right),s.cp2y=To(s.cp2y,e.top,e.bottom)))}function ZS(t,e,n,i,s){let r,o,l,a;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")qS(t,s);else{let c=i?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)l=t[r],a=GS(c,l,t[Math.min(r+1,o-(i?0:1))%o],e.tension),l.cp1x=a.previous.x,l.cp1y=a.previous.y,l.cp2x=a.next.x,l.cp2y=a.next.y,c=l}e.capBezierPoints&&XS(t,n)}function ed(){return typeof window<"u"&&typeof document<"u"}function td(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Dl(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const _a=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function JS(t,e){return _a(t).getPropertyValue(e)}const eC=["top","right","bottom","left"];function ci(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=eC[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const tC=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function nC(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let o=!1,l,a;if(tC(s,r,t.target))l=s,a=r;else{const c=e.getBoundingClientRect();l=i.clientX-c.left,a=i.clientY-c.top,o=!0}return{x:l,y:a,box:o}}function qn(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=_a(n),r=s.boxSizing==="border-box",o=ci(s,"padding"),l=ci(s,"border","width"),{x:a,y:c,box:u}=nC(t,n),h=o.left+(u&&l.left),d=o.top+(u&&l.top);let{width:f,height:p}=e;return r&&(f-=o.width+l.width,p-=o.height+l.height),{x:Math.round((a-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}function iC(t,e,n){let i,s;if(e===void 0||n===void 0){const r=t&&td(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),l=_a(r),a=ci(l,"border","width"),c=ci(l,"padding");e=o.width-c.width-a.width,n=o.height-c.height-a.height,i=Dl(l.maxWidth,r,"clientWidth"),s=Dl(l.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||Nl,maxHeight:s||Nl}}const Sn=t=>Math.round(t*10)/10;function sC(t,e,n,i){const s=_a(t),r=ci(s,"margin"),o=Dl(s.maxWidth,t,"clientWidth")||Nl,l=Dl(s.maxHeight,t,"clientHeight")||Nl,a=iC(t,e,n);let{width:c,height:u}=a;if(s.boxSizing==="content-box"){const d=ci(s,"border","width"),f=ci(s,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=Sn(Math.min(c,o,a.maxWidth)),u=Sn(Math.min(u,l,a.maxHeight)),c&&!u&&(u=Sn(c/2)),(e!==void 0||n!==void 0)&&i&&a.height&&u>a.height&&(u=a.height,c=Sn(Math.floor(u*i))),{width:c,height:u}}function pp(t,e,n){const i=e||1,s=Sn(t.height*i),r=Sn(t.width*i);t.height=Sn(t.height),t.width=Sn(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(t.currentDevicePixelRatio=i,o.height=s,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const rC=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};ed()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function gp(t,e){const n=JS(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Xn(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function oC(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function lC(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Xn(t,s,n),l=Xn(s,r,n),a=Xn(r,e,n),c=Xn(o,l,n),u=Xn(l,a,n);return Xn(c,u,n)}const aC=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},cC=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Gi(t,e,n){return t?aC(e,n):cC()}function By(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Hy(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Wy(t){return t==="angle"?{between:by,compare:oS,normalize:Ht}:{between:Bi,compare:(e,n)=>e-n,normalize:e=>e}}function mp({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function uC(t,e,n){const{property:i,start:s,end:r}=n,{between:o,normalize:l}=Wy(i),a=e.length;let{start:c,end:u,loop:h}=t,d,f;if(h){for(c+=a,u+=a,d=0,f=a;d<f&&o(l(e[c%a][i]),s,r);++d)c--,u--;c%=a,u%=a}return u<c&&(u+=a),{start:c,end:u,loop:h,style:t.style}}function jy(t,e,n){if(!n)return[t];const{property:i,start:s,end:r}=n,o=e.length,{compare:l,between:a,normalize:c}=Wy(i),{start:u,end:h,loop:d,style:f}=uC(t,e,n),p=[];let _=!1,v=null,g,m,y;const x=()=>a(s,y,g)&&l(s,y)!==0,w=()=>l(r,g)===0||a(r,y,g),k=()=>_||x(),S=()=>!_||w();for(let C=u,M=u;C<=h;++C)m=e[C%o],!m.skip&&(g=c(m[i]),g!==y&&(_=a(g,s,r),v===null&&k()&&(v=l(g,s)===0?C:M),v!==null&&S()&&(p.push(mp({start:v,end:C,loop:d,count:o,style:f})),v=null),M=C,y=g));return v!==null&&p.push(mp({start:v,end:h,loop:d,count:o,style:f})),p}function Vy(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const r=jy(i[s],t.points,e);r.length&&n.push(...r)}return n}function hC(t,e,n,i){let s=0,r=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}function dC(t,e,n,i){const s=t.length,r=[];let o=e,l=t[e],a;for(a=e+1;a<=n;++a){const c=t[a%s];c.skip||c.stop?l.skip||(i=!1,r.push({start:e%s,end:(a-1)%s,loop:i}),e=o=c.stop?a:null):(o=a,l.skip&&(e=a)),l=c}return o!==null&&r.push({start:e%s,end:o%s,loop:i}),r}function fC(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const r=!!t._loop,{start:o,end:l}=hC(n,s,r,i);if(i===!0)return _p(t,[{start:o,end:l,loop:r}],n,e);const a=l<o?l+s:l,c=!!t._fullLoop&&o===0&&l===s-1;return _p(t,dC(n,o,a,c),n,e)}function _p(t,e,n,i){return!i||!i.setContext||!n?e:pC(t,e,n,i)}function pC(t,e,n,i){const s=t._chart.getContext(),r=yp(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,a=n.length,c=[];let u=r,h=e[0].start,d=h;function f(p,_,v,g){const m=l?-1:1;if(p!==_){for(p+=a;n[p%a].skip;)p-=m;for(;n[_%a].skip;)_+=m;p%a!==_%a&&(c.push({start:p%a,end:_%a,loop:v,style:g}),u=g,h=_%a)}}for(const p of e){h=l?h:p.start;let _=n[h%a],v;for(d=h+1;d<=p.end;d++){const g=n[d%a];v=yp(i.setContext(Si(s,{type:"segment",p0:_,p1:g,p0DataIndex:(d-1)%a,p1DataIndex:d%a,datasetIndex:o}))),gC(v,u)&&f(h,d-1,p.loop,u),_=g,u=v}h<d-1&&f(h,d-1,p.loop,u)}return c}function yp(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function gC(t,e){if(!e)return!1;const n=[],i=function(s,r){return qh(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function Io(t,e,n){return t.options.clip?t[n]:e[n]}function mC(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Io(n,e,"left"),right:Io(n,e,"right"),top:Io(i,e,"top"),bottom:Io(i,e,"bottom")}:e}function Uy(t,e){const n=e._clip;if(n.disabled)return!1;const i=mC(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class _C{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(l=>l({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Iy.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,l=!1,a;for(;o>=0;--o)a=r[o],a._active?(a._total>i.duration&&(i.duration=a._total),a.tick(e),l=!0):(r[o]=r[r.length-1],r.pop());l&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Yt=new _C;const vp="transparent",yC={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=ap(t||vp),s=i.valid&&ap(e||vp);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class vC{constructor(e,n,i,s){const r=n[i];s=bo([e.to,s,r,e.from]);const o=bo([e.from,r,s]);this._active=!0,this._fn=e.fn||yC[e.type||typeof o],this._easing=nr[e.easing]||nr.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=bo([e.to,n,s,e.from]),this._from=bo([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,l=this._to;let a;if(this._active=r!==l&&(o||n<i),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=r;return}a=n/i%2,a=o&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[s]=this._fn(r,l,a)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class $y{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!V(e))return;const n=Object.keys(ge.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!V(r))return;const o={};for(const l of n)o[l]=r[l];(ve(r.properties)&&r.properties||[s]).forEach(l=>{(l===s||!i.has(l))&&i.set(l,o)})})}_animateOptions(e,n){const i=n.options,s=wC(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&xC(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),l=Date.now();let a;for(a=o.length-1;a>=0;--a){const c=o[a];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[c];let h=r[c];const d=i.get(c);if(h)if(d&&h.active()){h.update(d,u,l);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}r[c]=h=new vC(d,e,c,u),s.push(h)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Yt.add(this._chart,i),!0}}function xC(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function wC(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function xp(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function SC(t,e,n){if(n===!1)return!1;const i=xp(t,n),s=xp(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function CC(t){let e,n,i,s;return V(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function Yy(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function wp(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let o,l,a,c;if(e===null)return;let u=!1;for(o=0,l=s.length;o<l;++o){if(a=+s[o],a===n){if(u=!0,i.all)continue;break}c=t.values[a],He(c)&&(r||e===0||rs(e)===rs(c))&&(e+=c)}return!u&&!i.all?0:e}function kC(t,e){const{iScale:n,vScale:i}=e,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let a,c,u;for(a=0,c=o.length;a<c;++a)u=o[a],l[a]={[s]:u,[r]:t[u]};return l}function lc(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function EC(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function bC(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function TC(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Sp(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function Cp(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:l}=i,a=r.axis,c=o.axis,u=EC(r,o,i),h=e.length;let d;for(let f=0;f<h;++f){const p=e[f],{[a]:_,[c]:v}=p,g=p._stacks||(p._stacks={});d=g[c]=TC(s,u,_),d[l]=v,d._top=Sp(d,o,!0,i.type),d._bottom=Sp(d,o,!1,i.type);const m=d._visualValues||(d._visualValues={});m[l]=v}}function ac(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function IC(t,e){return Si(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function PC(t,e,n){return Si(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Ps(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const cc=t=>t==="reset"||t==="none",kp=(t,e)=>e?t:Object.assign({},t),MC=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Yy(n,!0),values:null};class rr{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=lc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ps(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(h,d,f,p)=>h==="x"?d:h==="r"?p:f,r=n.xAxisID=j(i.xAxisID,ac(e,"x")),o=n.yAxisID=j(i.yAxisID,ac(e,"y")),l=n.rAxisID=j(i.rAxisID,ac(e,"r")),a=n.indexAxis,c=n.iAxisID=s(a,r,o,l),u=n.vAxisID=s(a,o,r,l);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&rp(this._data,this),e._stacked&&Ps(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(V(n)){const s=this._cachedMeta;this._data=kC(n,s)}else if(i!==n){if(i){rp(i,this);const s=this._cachedMeta;Ps(s),s._parsed=[]}n&&Object.isExtensible(n)&&uS(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=lc(n.vScale,n),n.stack!==i.stack&&(s=!0,Ps(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&(Cp(this,n._parsed),n._stacked=lc(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,l=r.axis;let a=e===0&&n===s.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,h,d;if(this._parsing===!1)i._parsed=s,i._sorted=!0,d=s;else{ve(s[e])?d=this.parseArrayData(i,s,e,n):V(s[e])?d=this.parseObjectData(i,s,e,n):d=this.parsePrimitiveData(i,s,e,n);const f=()=>h[l]===null||c&&h[l]<c[l];for(u=0;u<n;++u)i._parsed[u+e]=h=d[u],a&&(f()&&(a=!1),c=h);i._sorted=a}o&&Cp(this,d)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:o}=e,l=r.axis,a=o.axis,c=r.getLabels(),u=r===o,h=new Array(s);let d,f,p;for(d=0,f=s;d<f;++d)p=d+i,h[d]={[l]:u||r.parse(c[p],p),[a]:o.parse(n[p],p)};return h}parseArrayData(e,n,i,s){const{xScale:r,yScale:o}=e,l=new Array(s);let a,c,u,h;for(a=0,c=s;a<c;++a)u=a+i,h=n[u],l[a]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(e,n,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:l="x",yAxisKey:a="y"}=this._parsing,c=new Array(s);let u,h,d,f;for(u=0,h=s;u<h;++u)d=u+i,f=n[d],c[u]={x:r.parse(Pl(f,l),d),y:o.parse(Pl(f,a),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,o=n[e.axis],l={keys:Yy(s,!0),values:n._stacks[e.axis]._visualValues};return wp(l,o,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const l=s&&i._stacks[n.axis];s&&l&&(s.values=l,o=wp(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,l=this._getOtherScale(e),a=MC(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=bC(l);let d,f;function p(){f=s[d];const _=f[l.axis];return!He(f[e.axis])||u>_||h<_}for(d=0;d<o&&!(!p()&&(this.updateRangeFromParsed(c,e,f,a),r));++d);if(r){for(d=o-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(c,e,f,a);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][e.axis],He(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=CC(j(this.options.clip,SC(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],l=this._drawStart||0,a=this._drawCount||s.length-l,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,r,l,a),u=l;u<l+a;++u){const h=s[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=PC(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=IC(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=e+"-"+n,l=r[o],a=this.enableOptionSharing&&Ml(i);if(l)return kp(l,a);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(ge.elements[e]),p=()=>this.getContext(i,s,n),_=c.resolveNamedOptions(d,f,p,h);return _.$shared&&(_.$shared=a,r[o]=Object.freeze(kp(_,a))),_}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,l=r[o];if(l)return l;let a;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);a=u.createResolver(d,this.getContext(e,i,n))}const c=new $y(s,a&&a.animations);return a&&a._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||cc(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(e,n,i,s){cc(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!cc(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[l,a,c]of this._syncList)this[l](a,c);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,o=e+n;let l;const a=c=>{for(c.length+=n,l=c.length-1;l>=o;l--)c[l]=c[l-n]};for(a(r),l=e;l<o;++l)r[l]=new this.dataElementType;this._parsing&&a(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&Ps(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}L(rr,"defaults",{}),L(rr,"datasetElementType",null),L(rr,"dataElementType",null);class Zo extends rr{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:l,count:a}=pS(n,s,o);this._drawStart=l,this._drawCount=a,gS(n)&&(l=0,a=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(s,l,a,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:l,_stacked:a,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),d=o.axis,f=l.axis,{spanGaps:p,segment:_}=this.options,v=Nr(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||r||s==="none",m=n+i,y=e.length;let x=n>0&&this.getParsed(n-1);for(let w=0;w<y;++w){const k=e[w],S=g?k:{};if(w<n||w>=m){S.skip=!0;continue}const C=this.getParsed(w),M=J(C[f]),I=S[d]=o.getPixelForValue(C[d],w),D=S[f]=r||M?l.getBasePixel():l.getPixelForValue(a?this.applyStack(l,C,a):C[f],w);S.skip=isNaN(I)||isNaN(D)||M,S.stop=w>0&&Math.abs(C[d]-x[d])>v,_&&(S.parsed=C,S.raw=c.data[w]),h&&(S.options=u||this.resolveDataElementOptions(w,k.active?"active":s)),g||this.updateElement(k,w,S,s),x=C}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}L(Zo,"id","line"),L(Zo,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),L(Zo,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Gn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class nd{constructor(e){L(this,"options");this.options=e||{}}static override(e){Object.assign(nd.prototype,e)}init(){}formats(){return Gn()}parse(){return Gn()}format(){return Gn()}add(){return Gn()}diff(){return Gn()}startOf(){return Gn()}endOf(){return Gn()}}var NC={_date:nd};function DC(t,e,n,i){const{controller:s,data:r,_sorted:o}=t,l=s._cachedMeta.iScale,a=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&r.length){const c=l._reversePixels?aS:si;if(i){if(s._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const d=c(r,e,n-h),f=c(r,e,n+h);return{lo:d.lo,hi:f.hi}}}}else{const u=c(r,e,n);if(a){const{vScale:h}=s._cachedMeta,{_parsed:d}=t,f=d.slice(0,u.lo+1).reverse().findIndex(_=>!J(_[h.axis]));u.lo-=Math.max(0,f);const p=d.slice(u.hi).findIndex(_=>!J(_[h.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:r.length-1}}function ya(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let l=0,a=r.length;l<a;++l){const{index:c,data:u}=r[l],{lo:h,hi:d}=DC(r[l],e,o,s);for(let f=h;f<=d;++f){const p=u[f];p.skip||i(p,c,f)}}}function RC(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function uc(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||ya(t,n,e,function(l,a,c){!s&&!Dr(l,t.chartArea,0)||l.inRange(e.x,e.y,i)&&r.push({element:l,datasetIndex:a,index:c})},!0),r}function OC(t,e,n,i){let s=[];function r(o,l,a){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=rS(o,{x:e.x,y:e.y});by(h,c,u)&&s.push({element:o,datasetIndex:l,index:a})}return ya(t,n,e,r),s}function AC(t,e,n,i,s,r){let o=[];const l=RC(n);let a=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,s);if(i&&!f)return;const p=u.getCenterPoint(s);if(!(!!r||t.isPointInArea(p))&&!f)return;const v=l(e,p);v<a?(o=[{element:u,datasetIndex:h,index:d}],a=v):v===a&&o.push({element:u,datasetIndex:h,index:d})}return ya(t,n,e,c),o}function hc(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?OC(t,e,n,s):AC(t,e,n,i,s,r)}function Ep(t,e,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let l=!1;return ya(t,n,e,(a,c,u)=>{a[o]&&a[o](e[n],s)&&(r.push({element:a,datasetIndex:c,index:u}),l=l||a.inRange(e.x,e.y,s))}),i&&!l?[]:r}var LC={modes:{index(t,e,n,i){const s=qn(e,t),r=n.axis||"x",o=n.includeInvisible||!1,l=n.intersect?uc(t,s,r,i,o):hc(t,s,r,!1,i,o),a=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=l[0].index,h=c.data[u];h&&!h.skip&&a.push({element:h,datasetIndex:c.index,index:u})}),a):[]},dataset(t,e,n,i){const s=qn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let l=n.intersect?uc(t,s,r,i,o):hc(t,s,r,!1,i,o);if(l.length>0){const a=l[0].datasetIndex,c=t.getDatasetMeta(a).data;l=[];for(let u=0;u<c.length;++u)l.push({element:c[u],datasetIndex:a,index:u})}return l},point(t,e,n,i){const s=qn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return uc(t,s,r,i,o)},nearest(t,e,n,i){const s=qn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return hc(t,s,r,n.intersect,i,o)},x(t,e,n,i){const s=qn(e,t);return Ep(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=qn(e,t);return Ep(t,s,"y",n.intersect,i)}}};const Gy=["left","top","right","bottom"];function Ms(t,e){return t.filter(n=>n.pos===e)}function bp(t,e){return t.filter(n=>Gy.indexOf(n.pos)===-1&&n.box.axis===e)}function Ns(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function FC(t){const e=[];let n,i,s,r,o,l;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:o,stackWeight:l=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:l});return e}function zC(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!Gy.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function BC(t,e){const n=zC(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,l;for(r=0,o=t.length;r<o;++r){l=t[r];const{fullSize:a}=l.box,c=n[l.stack],u=c&&l.stackWeight/c.weight;l.horizontal?(l.width=u?u*i:a&&e.availableWidth,l.height=s):(l.width=i,l.height=u?u*s:a&&e.availableHeight)}return n}function HC(t){const e=FC(t),n=Ns(e.filter(c=>c.box.fullSize),!0),i=Ns(Ms(e,"left"),!0),s=Ns(Ms(e,"right")),r=Ns(Ms(e,"top"),!0),o=Ns(Ms(e,"bottom")),l=bp(e,"x"),a=bp(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(a).concat(o).concat(l),chartArea:Ms(e,"chartArea"),vertical:i.concat(s).concat(a),horizontal:r.concat(o).concat(l)}}function Tp(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function Ky(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function WC(t,e,n,i){const{pos:s,box:r}=n,o=t.maxPadding;if(!V(s)){n.size&&(t[s]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[s]+=n.size}r.getPadding&&Ky(o,r.getPadding());const l=Math.max(0,e.outerWidth-Tp(o,t,"left","right")),a=Math.max(0,e.outerHeight-Tp(o,t,"top","bottom")),c=l!==t.w,u=a!==t.h;return t.w=l,t.h=a,n.horizontal?{same:c,other:u}:{same:u,other:c}}function jC(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function VC(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return i(t?["left","right"]:["top","bottom"])}function Vs(t,e,n,i){const s=[];let r,o,l,a,c,u;for(r=0,o=t.length,c=0;r<o;++r){l=t[r],a=l.box,a.update(l.width||e.w,l.height||e.h,VC(l.horizontal,e));const{same:h,other:d}=WC(e,n,l,i);c|=h&&s.length,u=u||d,a.fullSize||s.push(l)}return c&&Vs(s,e,n,i)||u}function Po(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function Ip(t,e,n,i){const s=n.padding;let{x:r,y:o}=e;for(const l of t){const a=l.box,c=i[l.stack]||{placed:0,weight:1},u=l.stackWeight/c.weight||1;if(l.horizontal){const h=e.w*u,d=c.size||a.height;Ml(c.start)&&(o=c.start),a.fullSize?Po(a,s.left,o,n.outerWidth-s.right-s.left,d):Po(a,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=a.bottom}else{const h=e.h*u,d=c.size||a.width;Ml(c.start)&&(r=c.start),a.fullSize?Po(a,r,s.top,d,n.outerHeight-s.bottom-s.top):Po(a,r,e.top+c.placed,d,h),c.start=r,c.placed+=h,r=a.right}}e.x=r,e.y=o}var mt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=xt(t.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(n-s.height,0),l=HC(t.boxes),a=l.vertical,c=l.horizontal;Y(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const u=a.reduce((_,v)=>v.box.options&&v.box.options.display===!1?_:_+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},s);Ky(d,xt(i));const f=Object.assign({maxPadding:d,w:r,h:o,x:s.left,y:s.top},s),p=BC(a.concat(c),h);Vs(l.fullSize,f,h,p),Vs(a,f,h,p),Vs(c,f,h,p)&&Vs(a,f,h,p),jC(f),Ip(l.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,Ip(l.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Y(l.chartArea,_=>{const v=_.box;Object.assign(v,t.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Qy{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class UC extends Qy{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Jo="$chartjs",$C={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Pp=t=>t===null||t==="";function YC(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[Jo]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Pp(s)){const r=gp(t,"width");r!==void 0&&(t.width=r)}if(Pp(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=gp(t,"height");r!==void 0&&(t.height=r)}return t}const qy=rC?{passive:!0}:!1;function GC(t,e,n){t&&t.addEventListener(e,n,qy)}function KC(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,qy)}function QC(t,e){const n=$C[t.type]||t.type,{x:i,y:s}=qn(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Rl(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function qC(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const l of r)o=o||Rl(l.addedNodes,i),o=o&&!Rl(l.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function XC(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const l of r)o=o||Rl(l.removedNodes,i),o=o&&!Rl(l.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Or=new Map;let Mp=0;function Xy(){const t=window.devicePixelRatio;t!==Mp&&(Mp=t,Or.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function ZC(t,e){Or.size||window.addEventListener("resize",Xy),Or.set(t,e)}function JC(t){Or.delete(t),Or.size||window.removeEventListener("resize",Xy)}function ek(t,e,n){const i=t.canvas,s=i&&td(i);if(!s)return;const r=Py((l,a)=>{const c=s.clientWidth;n(l,a),c<s.clientWidth&&n()},window),o=new ResizeObserver(l=>{const a=l[0],c=a.contentRect.width,u=a.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),ZC(t,r),o}function dc(t,e,n){n&&n.disconnect(),e==="resize"&&JC(t)}function tk(t,e,n){const i=t.canvas,s=Py(r=>{t.ctx!==null&&n(QC(r,t))},t);return GC(i,e,s),s}class nk extends Qy{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(YC(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Jo])return!1;const i=n[Jo].initial;["height","width"].forEach(r=>{const o=i[r];J(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[Jo],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:qC,detach:XC,resize:ek}[n]||tk;s[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:dc,detach:dc,resize:dc}[n]||KC)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return sC(e,n,i,s)}isAttached(e){const n=e&&td(e);return!!(n&&n.isConnected)}}function ik(t){return!ed()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?UC:nk}class ln{constructor(){L(this,"x");L(this,"y");L(this,"active",!1);L(this,"options");L(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Nr(this.x)&&Nr(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}L(ln,"defaults",{}),L(ln,"defaultRoutes");function sk(t,e){const n=t.options.ticks,i=rk(t),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?lk(e):[],o=r.length,l=r[0],a=r[o-1],c=[];if(o>s)return ak(e,c,r,o/s),c;const u=ok(r,e,s);if(o>0){let h,d;const f=o>1?Math.round((a-l)/(o-1)):null;for(Mo(e,c,u,J(f)?0:l-f,l),h=0,d=o-1;h<d;h++)Mo(e,c,u,r[h],r[h+1]);return Mo(e,c,u,a,J(f)?e.length:a+f),c}return Mo(e,c,u),c}function rk(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function ok(t,e,n){const i=ck(t),s=e.length/n;if(!i)return Math.max(s,1);const r=eS(i);for(let o=0,l=r.length-1;o<l;o++){const a=r[o];if(a>s)return a}return Math.max(s,1)}function lk(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function ak(t,e,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===r&&(e.push(t[o]),s++,r=n[s*i])}function Mo(t,e,n,i,s){const r=j(i,0),o=Math.min(j(s,t.length),t.length);let l=0,a,c,u;for(n=Math.ceil(n),s&&(a=s-i,n=a/Math.floor(a/n)),u=r;u<0;)l++,u=Math.round(r+l*n);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),l++,u=Math.round(r+l*n))}function ck(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const uk=t=>t==="left"?"right":t==="right"?"left":t,Np=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Dp=(t,e)=>Math.min(e||t,t);function Rp(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function hk(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,l=1e-6;let a=t.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(a-r,o-a):e===0?c=(t.getPixelForTick(1)-a)/2:c=(a-t.getPixelForTick(s-1))/2,a+=s<e?c:-c,a<r-l||a>o+l)))return a}function dk(t,e){Y(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function Ds(t){return t.drawTicks?t.tickLength:0}function Op(t,e){if(!t.display)return 0;const n=ze(t.font,e),i=xt(t.padding);return(ve(t.text)?t.text.length:1)*n.lineHeight+i.height}function fk(t,e){return Si(t,{scale:e,type:"scale"})}function pk(t,e,n){return Si(t,{tick:n,index:e,type:"tick"})}function gk(t,e,n){let i=Qh(t);return(n&&e!=="right"||!n&&e==="right")&&(i=uk(i)),i}function mk(t,e,n,i){const{top:s,left:r,bottom:o,right:l,chart:a}=t,{chartArea:c,scales:u}=a;let h=0,d,f,p;const _=o-s,v=l-r;if(t.isHorizontal()){if(f=Ae(i,r,l),V(n)){const g=Object.keys(n)[0],m=n[g];p=u[g].getPixelForValue(m)+_-e}else n==="center"?p=(c.bottom+c.top)/2+_-e:p=Np(t,n,e);d=l-r}else{if(V(n)){const g=Object.keys(n)[0],m=n[g];f=u[g].getPixelForValue(m)-v+e}else n==="center"?f=(c.left+c.right)/2-v+e:f=Np(t,n,e);p=Ae(i,o,s),h=n==="left"?-bt:bt}return{titleX:f,titleY:p,maxWidth:d,rotation:h}}class ms extends ln{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=Lt(e,Number.POSITIVE_INFINITY),n=Lt(n,Number.NEGATIVE_INFINITY),i=Lt(i,Number.POSITIVE_INFINITY),s=Lt(s,Number.NEGATIVE_INFINITY),{min:Lt(e,i),max:Lt(n,s),minDefined:He(e),maxDefined:He(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const l=this.getMatchingVisibleMetas();for(let a=0,c=l.length;a<c;++a)o=l[a].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:Lt(n,Lt(i,n)),max:Lt(i,Lt(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ne(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=LS(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=l<this.ticks.length;this._convertTicksToLabels(a?Rp(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=sk(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ne(this.options.afterUpdate,[this])}beforeSetDimensions(){ne(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ne(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ne(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ne(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=ne(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){ne(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ne(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=Dp(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,l,a,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=gt(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/i:f/(i-1),h+6>l&&(l=f/(i-(e.offset?.5:1)),a=this.maxHeight-Ds(e.grid)-n.padding-Op(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=sS(Math.min(Math.asin(gt((u.highest.height+6)/l,-1,1)),Math.asin(gt(a/c,-1,1))-Math.asin(gt(d/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){ne(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ne(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const a=Op(s,n.options.font);if(l?(e.width=this.maxWidth,e.height=Ds(r)+a):(e.height=this.maxHeight,e.width=Ds(r)+a),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=i.padding*2,p=ii(this.labelRotation),_=Math.cos(p),v=Math.sin(p);if(l){const g=i.mirror?0:v*h.width+_*d.height;e.height=Math.min(this.maxHeight,e.height+g+f)}else{const g=i.mirror?0:_*h.width+v*d.height;e.width=Math.min(this.maxWidth,e.width+g+f)}this._calculatePadding(c,u,v,_)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:o},position:l}=this.options,a=this.labelRotation!==0,c=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;a?c?(d=s*e.width,f=i*n.height):(d=i*e.height,f=s*n.width):r==="start"?f=n.width:r==="end"?d=e.width:r!=="inner"&&(d=e.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ne(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)J(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Rp(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],l=[],a=Math.floor(n/Dp(n,i));let c=0,u=0,h,d,f,p,_,v,g,m,y,x,w;for(h=0;h<n;h+=a){if(p=e[h].label,_=this._resolveTickFontOptions(h),s.font=v=_.string,g=r[v]=r[v]||{data:{},gc:[]},m=_.lineHeight,y=x=0,!J(p)&&!ve(p))y=up(s,g.data,g.gc,y,p),x=m;else if(ve(p))for(d=0,f=p.length;d<f;++d)w=p[d],!J(w)&&!ve(w)&&(y=up(s,g.data,g.gc,y,w),x+=m);o.push(y),l.push(x),c=Math.max(y,c),u=Math.max(x,u)}dk(r,n);const k=o.indexOf(c),S=l.indexOf(u),C=M=>({width:o[M]||0,height:l[M]||0});return{first:C(0),last:C(n-1),widest:C(k),highest:C(S),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return lS(this._alignToPixels?Yn(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=pk(this.getContext(),e,i))}return this.$context||(this.$context=fk(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ii(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,l=r?r.widest.width+o:0,a=r?r.highest.height+o:0;return this.isHorizontal()?a*i>l*s?l/i:a/s:a*s<l*i?a/i:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:l}=s,a=r.offset,c=this.isHorizontal(),h=this.ticks.length+(a?1:0),d=Ds(r),f=[],p=l.setContext(this.getContext()),_=p.display?p.width:0,v=_/2,g=function(de){return Yn(i,de,_)};let m,y,x,w,k,S,C,M,I,D,W,me;if(o==="top")m=g(this.bottom),S=this.bottom-d,M=m-v,D=g(e.top)+v,me=e.bottom;else if(o==="bottom")m=g(this.top),D=e.top,me=g(e.bottom)-v,S=m+v,M=this.top+d;else if(o==="left")m=g(this.right),k=this.right-d,C=m-v,I=g(e.left)+v,W=e.right;else if(o==="right")m=g(this.left),I=e.left,W=g(e.right)-v,k=m+v,C=this.left+d;else if(n==="x"){if(o==="center")m=g((e.top+e.bottom)/2+.5);else if(V(o)){const de=Object.keys(o)[0],De=o[de];m=g(this.chart.scales[de].getPixelForValue(De))}D=e.top,me=e.bottom,S=m+v,M=S+d}else if(n==="y"){if(o==="center")m=g((e.left+e.right)/2);else if(V(o)){const de=Object.keys(o)[0],De=o[de];m=g(this.chart.scales[de].getPixelForValue(De))}k=m-v,C=k-d,I=e.left,W=e.right}const st=j(s.ticks.maxTicksLimit,h),oe=Math.max(1,Math.ceil(h/st));for(y=0;y<h;y+=oe){const de=this.getContext(y),De=r.setContext(de),T=l.setContext(de),O=De.lineWidth,A=De.color,Q=T.dash||[],ee=T.dashOffset,Ot=De.tickWidth,We=De.tickColor,Ut=De.tickBorderDash||[],je=De.tickBorderDashOffset;x=hk(this,y,a),x!==void 0&&(w=Yn(i,x,O),c?k=C=I=W=w:S=M=D=me=w,f.push({tx1:k,ty1:S,tx2:C,ty2:M,x1:I,y1:D,x2:W,y2:me,width:O,color:A,borderDash:Q,borderDashOffset:ee,tickWidth:Ot,tickColor:We,tickBorderDash:Ut,tickBorderDashOffset:je}))}return this._ticksLength=h,this._borderValue=m,f}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),l=this.ticks,{align:a,crossAlign:c,padding:u,mirror:h}=r,d=Ds(i.grid),f=d+u,p=h?-u:f,_=-ii(this.labelRotation),v=[];let g,m,y,x,w,k,S,C,M,I,D,W,me="middle";if(s==="top")k=this.bottom-p,S=this._getXAxisLabelAlignment();else if(s==="bottom")k=this.top+p,S=this._getXAxisLabelAlignment();else if(s==="left"){const oe=this._getYAxisLabelAlignment(d);S=oe.textAlign,w=oe.x}else if(s==="right"){const oe=this._getYAxisLabelAlignment(d);S=oe.textAlign,w=oe.x}else if(n==="x"){if(s==="center")k=(e.top+e.bottom)/2+f;else if(V(s)){const oe=Object.keys(s)[0],de=s[oe];k=this.chart.scales[oe].getPixelForValue(de)+f}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")w=(e.left+e.right)/2-f;else if(V(s)){const oe=Object.keys(s)[0],de=s[oe];w=this.chart.scales[oe].getPixelForValue(de)}S=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(a==="start"?me="top":a==="end"&&(me="bottom"));const st=this._getLabelSizes();for(g=0,m=l.length;g<m;++g){y=l[g],x=y.label;const oe=r.setContext(this.getContext(g));C=this.getPixelForTick(g)+r.labelOffset,M=this._resolveTickFontOptions(g),I=M.lineHeight,D=ve(x)?x.length:1;const de=D/2,De=oe.color,T=oe.textStrokeColor,O=oe.textStrokeWidth;let A=S;o?(w=C,S==="inner"&&(g===m-1?A=this.options.reverse?"left":"right":g===0?A=this.options.reverse?"right":"left":A="center"),s==="top"?c==="near"||_!==0?W=-D*I+I/2:c==="center"?W=-st.highest.height/2-de*I+I:W=-st.highest.height+I/2:c==="near"||_!==0?W=I/2:c==="center"?W=st.highest.height/2-de*I:W=st.highest.height-D*I,h&&(W*=-1),_!==0&&!oe.showLabelBackdrop&&(w+=I/2*Math.sin(_))):(k=C,W=(1-D)*I/2);let Q;if(oe.showLabelBackdrop){const ee=xt(oe.backdropPadding),Ot=st.heights[g],We=st.widths[g];let Ut=W-ee.top,je=0-ee.left;switch(me){case"middle":Ut-=Ot/2;break;case"bottom":Ut-=Ot;break}switch(S){case"center":je-=We/2;break;case"right":je-=We;break;case"inner":g===m-1?je-=We:g>0&&(je-=We/2);break}Q={left:je,top:Ut,width:We+ee.width,height:Ot+ee.height,color:oe.backdropColor}}v.push({label:x,font:M,textOffset:W,options:{rotation:_,color:De,strokeColor:T,strokeWidth:O,textAlign:A,textBaseline:me,translation:[w,k],backdrop:Q}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ii(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),l=e+r,a=o.widest.width;let c,u;return n==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=a/2):(c="right",u+=a)):(u=this.right-l,i==="near"?c="right":i==="center"?(c="center",u-=a/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=a/2):(c="left",u-=a)):(u=this.left+l,i==="near"?c="left":i==="center"?(c="center",u+=a/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const l=(a,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(a.x,a.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const a=s[r];n.drawOnChartArea&&l({x:a.x1,y:a.y1},{x:a.x2,y:a.y2},a),n.drawTicks&&l({x:a.tx1,y:a.ty1},{x:a.tx2,y:a.ty2},{color:a.tickColor,width:a.tickWidth,borderDash:a.tickBorderDash,borderDashOffset:a.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const l=s.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=Yn(e,this.left,o)-o/2,u=Yn(e,this.right,l)+l/2,h=d=a):(h=Yn(e,this.top,o)-o/2,d=Yn(e,this.bottom,l)+l/2,c=u=a),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&ga(i,s);const r=this.getLabelItems(e);for(const o of r){const l=o.options,a=o.font,c=o.label,u=o.textOffset;Rr(i,c,0,u,a,l)}s&&ma(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=ze(i.font),o=xt(i.padding),l=i.align;let a=r.lineHeight/2;n==="bottom"||n==="center"||V(n)?(a+=o.bottom,ve(i.text)&&(a+=r.lineHeight*(i.text.length-1))):a+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=mk(this,a,n,l);Rr(e,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:d,textAlign:gk(l,n,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=j(e.grid&&e.grid.z,-1),s=j(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ms.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const l=n[r];l[i]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ze(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class No{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;vk(n)&&(i=this.register(n));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,_k(e,o,i),this.override&&ge.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in ge[s]&&(delete ge[s][i],this.override&&delete gi[i])}}function _k(t,e,n){const i=Mr(Object.create(null),[n?ge.get(n):{},ge.get(e),t.defaults]);ge.set(e,i),t.defaultRoutes&&yk(e,t.defaultRoutes),t.descriptors&&ge.describe(e,t.descriptors)}function yk(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),o=e[n].split("."),l=o.pop(),a=o.join(".");ge.route(r,s,a,l)})}function vk(t){return"id"in t&&"defaults"in t}class xk{constructor(){this.controllers=new No(rr,"datasets",!0),this.elements=new No(ln,"elements"),this.plugins=new No(Object,"plugins"),this.scales=new No(ms,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):Y(s,o=>{const l=i||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,n,i){const s=Gh(e);ne(i["before"+s],[],i),n[e](i),ne(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var Bt=new xk;class wk{constructor(){this._init=void 0}notify(e,n,i,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,i,s){s=s||{};for(const r of e){const o=r.plugin,l=o[i],a=[n,s,r.options];if(ne(l,a,o)===!1&&s.cancelable)return!1}return!0}invalidate(){J(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=j(i.options&&i.options.plugins,{}),r=Sk(i);return s===!1&&!n?[]:kk(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(l=>!o.some(a=>l.plugin.id===a.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function Sk(t){const e={},n=[],i=Object.keys(Bt.plugins.items);for(let r=0;r<i.length;r++)n.push(Bt.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function Ck(t,e){return!e&&t===!1?null:t===!0?{}:t}function kk(t,{plugins:e,localIds:n},i,s){const r=[],o=t.getContext();for(const l of e){const a=l.id,c=Ck(i[a],s);c!==null&&r.push({plugin:l,options:Ek(t.config,{plugin:l,local:n[a]},c,o)})}return r}function Ek(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(i,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ku(t,e){const n=ge.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function bk(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Tk(t,e){return t===e?"_index_":"_value_"}function Ap(t){if(t==="x"||t==="y"||t==="r")return t}function Ik(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Eu(t,...e){if(Ap(t))return t;for(const n of e){const i=n.axis||Ik(n.position)||t.length>1&&Ap(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Lp(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Pk(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return Lp(t,"x",n[0])||Lp(t,"y",n[0])}return{}}function Mk(t,e){const n=gi[t.type]||{scales:{}},i=e.scales||{},s=ku(t.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const l=i[o];if(!V(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const a=Eu(o,l,Pk(o,t),ge.scales[l.type]),c=Tk(a,s),u=n.scales||{};r[o]=er(Object.create(null),[{axis:a},l,u[a],u[c]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,a=o.indexAxis||ku(l,e),u=(gi[l]||{}).scales||{};Object.keys(u).forEach(h=>{const d=bk(h,a),f=o[d+"AxisID"]||d;r[f]=r[f]||Object.create(null),er(r[f],[{axis:d},i[f],u[h]])})}),Object.keys(r).forEach(o=>{const l=r[o];er(l,[ge.scales[l.type],ge.scale])}),r}function Zy(t){const e=t.options||(t.options={});e.plugins=j(e.plugins,{}),e.scales=Mk(t,e)}function Jy(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Nk(t){return t=t||{},t.data=Jy(t.data),Zy(t),t}const Fp=new Map,ev=new Set;function Do(t,e){let n=Fp.get(t);return n||(n=e(),Fp.set(t,n),ev.add(n)),n}const Rs=(t,e,n)=>{const i=Pl(e,n);i!==void 0&&t.add(i)};class Dk{constructor(e){this._config=Nk(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Jy(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Zy(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Do(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Do(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Do(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Do(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),l=o.get(n);if(l)return l;const a=new Set;n.forEach(u=>{e&&(a.add(e),u.forEach(h=>Rs(a,e,h))),u.forEach(h=>Rs(a,s,h)),u.forEach(h=>Rs(a,gi[r]||{},h)),u.forEach(h=>Rs(a,ge,h)),u.forEach(h=>Rs(a,wu,h))});const c=Array.from(a);return c.length===0&&c.push(Object.create(null)),ev.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,gi[n]||{},ge.datasets[n]||{},{type:n},ge,wu]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:l}=zp(this._resolverCache,e,s);let a=o;if(Ok(o,n)){r.$shared=!1,i=zn(i)?i():i;const c=this.createResolver(e,i,l);a=os(o,i,c)}for(const c of n)r[c]=a[c];return r}createResolver(e,n,i=[""],s){const{resolver:r}=zp(this._resolverCache,e,i);return V(n)?os(r,n,void 0,s):r}}function zp(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:Xh(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},i.set(s,r)),r}const Rk=t=>V(t)&&Object.getOwnPropertyNames(t).some(e=>zn(t[e]));function Ok(t,e){const{isScriptable:n,isIndexable:i}=Oy(t);for(const s of e){const r=n(s),o=i(s),l=(o||r)&&t[s];if(r&&(zn(l)||Rk(l))||o&&ve(l))return!0}return!1}var Ak="4.5.1";const Lk=["top","bottom","left","right","chartArea"];function Bp(t,e){return t==="top"||t==="bottom"||Lk.indexOf(t)===-1&&e==="x"}function Hp(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Wp(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ne(n&&n.onComplete,[t],e)}function Fk(t){const e=t.chart,n=e.options.animation;ne(n&&n.onProgress,[t],e)}function tv(t){return ed()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const el={},jp=t=>{const e=tv(t);return Object.values(el).filter(n=>n.canvas===e).pop()};function zk(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const o=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=o)}}}function Bk(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var pn;let va=(pn=class{static register(...e){Bt.add(...e),Vp()}static unregister(...e){Bt.remove(...e),Vp()}constructor(e,n){const i=this.config=new Dk(n),s=tv(e),r=jp(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||ik(s)),this.platform.updateConfig(i);const l=this.platform.acquireContext(s,o.aspectRatio),a=l&&l.canvas,c=a&&a.height,u=a&&a.width;if(this.id=$w(),this.ctx=l,this.canvas=a,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wk,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=dS(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],el[this.id]=this,!l||!a){console.error("Failed to create chart: can't acquire context from the given item");return}Yt.listen(this,"complete",Wp),Yt.listen(this,"progress",Fk),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return J(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Bt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():pp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return hp(this.canvas,this.ctx),this}stop(){return Yt.stop(this),this}resize(e,n){Yt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,r),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,pp(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),ne(i.onResize,[this,o],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Y(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((o,l)=>(o[l]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const l=n[o],a=Eu(o,l),c=a==="r",u=a==="x";return{options:l,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Y(r,o=>{const l=o.options,a=l.id,c=Eu(a,l),u=j(l.type,o.dtype);(l.position===void 0||Bp(l.position,c)!==Bp(o.dposition))&&(l.position=o.dposition),s[a]=!0;let h=null;if(a in i&&i[a].type===u)h=i[a];else{const d=Bt.getScale(u);h=new d({id:a,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(l,e)}),Y(s,(o,l)=>{o||delete i[l]}),Y(i,o=>{mt.configure(this,o,o.options),mt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Hp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const l=r.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=l,o.indexAxis=r.indexAxis||ku(l,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const a=Bt.getController(l),{datasetElementType:c,dataElementType:u}=ge.datasets[l];Object.assign(a,{dataElementType:Bt.getElement(u),datasetElementType:c&&Bt.getElement(c)}),o.controller=new a(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Y(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!s&&r.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||Y(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Hp("z","_idx"));const{_active:l,_lastEvent:a}=this;a?this._eventHandler(a,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Y(this.scales,e=>{mt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!tp(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;zk(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,l)=>l+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!tp(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;mt.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Y(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,zn(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Yt.has(this)?this.attached&&!Yt.running(this)&&Yt.start(this):(this.draw(),Wp({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=Uy(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&ga(n,s),e.controller.draw(),s&&ma(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Dr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=LC.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Si(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);Ml(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Yt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),hp(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete el[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},s=(r,o,l)=>{r.offsetX=o,r.offsetY=l,this._eventHandler(r)};Y(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(a,c)=>{n.addEventListener(this,a,c),e[a]=c},s=(a,c)=>{e[a]&&(n.removeEventListener(this,a,c),delete e[a])},r=(a,c)=>{this.canvas&&this.resize(a,c)};let o;const l=()=>{s("attach",l),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){Y(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Y(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,o,l,a;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),l=0,a=e.length;l<a;++l){o=e[l];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[o],index:o}});!Tl(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(a,c)=>a.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,e),l=i?e:r(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,o=n,l=this._getActiveElements(e,s,i,o),a=Xw(e),c=Bk(e,this._lastEvent,i,a);i&&(this._lastEvent=null,ne(r.onHover,[e,l,this],this),a&&ne(r.onClick,[e,l,this],this));const u=!Tl(l,s);return(u||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}},L(pn,"defaults",ge),L(pn,"instances",el),L(pn,"overrides",gi),L(pn,"registry",Bt),L(pn,"version",Ak),L(pn,"getChart",jp),pn);function Vp(){return Y(va.instances,t=>t._plugins.invalidate())}function nv(t,e,n=e){t.lineCap=j(n.borderCapStyle,e.borderCapStyle),t.setLineDash(j(n.borderDash,e.borderDash)),t.lineDashOffset=j(n.borderDashOffset,e.borderDashOffset),t.lineJoin=j(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=j(n.borderWidth,e.borderWidth),t.strokeStyle=j(n.borderColor,e.borderColor)}function Hk(t,e,n){t.lineTo(n.x,n.y)}function Wk(t){return t.stepped?bS:t.tension||t.cubicInterpolationMode==="monotone"?TS:Hk}function iv(t,e,n={}){const i=t.length,{start:s=0,end:r=i-1}=n,{start:o,end:l}=e,a=Math.max(s,o),c=Math.min(r,l),u=s<o&&r<o||s>l&&r>l;return{count:i,start:a,loop:e.loop,ilen:c<a&&!u?i+c-a:c-a}}function jk(t,e,n,i){const{points:s,options:r}=e,{count:o,start:l,loop:a,ilen:c}=iv(s,n,i),u=Wk(r);let{move:h=!0,reverse:d}=i||{},f,p,_;for(f=0;f<=c;++f)p=s[(l+(d?c-f:f))%o],!p.skip&&(h?(t.moveTo(p.x,p.y),h=!1):u(t,_,p,d,r.stepped),_=p);return a&&(p=s[(l+(d?c:0))%o],u(t,_,p,d,r.stepped)),!!a}function Vk(t,e,n,i){const s=e.points,{count:r,start:o,ilen:l}=iv(s,n,i),{move:a=!0,reverse:c}=i||{};let u=0,h=0,d,f,p,_,v,g;const m=x=>(o+(c?l-x:x))%r,y=()=>{_!==v&&(t.lineTo(u,v),t.lineTo(u,_),t.lineTo(u,g))};for(a&&(f=s[m(0)],t.moveTo(f.x,f.y)),d=0;d<=l;++d){if(f=s[m(d)],f.skip)continue;const x=f.x,w=f.y,k=x|0;k===p?(w<_?_=w:w>v&&(v=w),u=(h*u+x)/++h):(y(),t.lineTo(x,w),p=k,h=0,_=v=w),g=w}y()}function bu(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?Vk:jk}function Uk(t){return t.stepped?oC:t.tension||t.cubicInterpolationMode==="monotone"?lC:Xn}function $k(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),nv(t,e.options),t.stroke(s)}function Yk(t,e,n,i){const{segments:s,options:r}=e,o=bu(e);for(const l of s)nv(t,r,l.style),t.beginPath(),o(t,e,l,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const Gk=typeof Path2D=="function";function Kk(t,e,n,i){Gk&&!e.options.segment?$k(t,e,n,i):Yk(t,e,n,i)}class Cn extends ln{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;ZS(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=fC(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],r=this.points,o=Vy(this,{property:n,start:s,end:s});if(!o.length)return;const l=[],a=Uk(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=r[h],p=r[d];if(f===p){l.push(f);continue}const _=Math.abs((s-f[n])/(p[n]-f[n])),v=a(f,p,_,i.stepped);v[n]=e[n],l.push(v)}return l.length===1?l[0]:l}pathSegment(e,n,i){return bu(this)(e,this,n,i)}path(e,n,i){const s=this.segments,r=bu(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const l of s)o&=r(e,this,l,{start:n,end:n+i-1});return!!o}draw(e,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),Kk(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}L(Cn,"id","line"),L(Cn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),L(Cn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),L(Cn,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Up(t,e,n,i){const s=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<s.radius+s.hitRadius}class tl extends ln{constructor(n){super();L(this,"parsed");L(this,"skip");L(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:o,y:l}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(i-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return Up(this,n,"x",i)}inYRange(n,i){return Up(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!Dr(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,Su(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}L(tl,"id","point"),L(tl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),L(tl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Qk(t,e,n){const i=t.segments,s=t.points,r=e.points,o=[];for(const l of i){let{start:a,end:c}=l;c=xa(a,c,s);const u=Tu(n,s[a],s[c],l.loop);if(!e.segments){o.push({source:l,target:u,start:s[a],end:s[c]});continue}const h=Vy(e,u);for(const d of h){const f=Tu(n,r[d.start],r[d.end],d.loop),p=jy(l,s,f);for(const _ of p)o.push({source:_,target:d,start:{[n]:$p(u,f,"start",Math.max)},end:{[n]:$p(u,f,"end",Math.min)}})}}return o}function Tu(t,e,n,i){if(i)return;let s=e[t],r=n[t];return t==="angle"&&(s=Ht(s),r=Ht(r)),{property:t,start:s,end:r}}function qk(t,e){const{x:n=null,y:i=null}=t||{},s=e.points,r=[];return e.segments.forEach(({start:o,end:l})=>{l=xa(o,l,s);const a=s[o],c=s[l];i!==null?(r.push({x:a.x,y:i}),r.push({x:c.x,y:i})):n!==null&&(r.push({x:n,y:a.y}),r.push({x:n,y:c.y}))}),r}function xa(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function $p(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function sv(t,e){let n=[],i=!1;return ve(t)?(i=!0,n=t):n=qk(t,e),n.length?new Cn({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Yp(t){return t&&t.fill!==!1}function Xk(t,e,n){let s=t[e].fill;const r=[e];let o;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!He(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function Zk(t,e,n){const i=nE(t);if(V(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return He(s)&&Math.floor(s)===s?Jk(i[0],e,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Jk(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function eE(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:V(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function tE(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:V(t)?i=t.value:i=e.getBaseValue(),i}function nE(t){const e=t.options,n=e.fill;let i=j(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function iE(t){const{scale:e,index:n,line:i}=t,s=[],r=i.segments,o=i.points,l=sE(e,n);l.push(sv({x:null,y:e.bottom},i));for(let a=0;a<r.length;a++){const c=r[a];for(let u=c.start;u<=c.end;u++)rE(s,o[u],l)}return new Cn({points:s,options:{}})}function sE(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function rE(t,e,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:l,point:a}=oE(r,e,"x");if(!(!a||o&&l)){if(o)i.unshift(a);else if(t.push(a),!l)break}}t.push(...i)}function oE(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const s=i[n],r=t.segments,o=t.points;let l=!1,a=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][n],d=o[u.end][n];if(Bi(s,h,d)){l=s===h,a=s===d;break}}return{first:l,last:a,point:i}}class rv{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:s,y:r,radius:o}=this;return n=n||{start:0,end:Nt},e.arc(s,r,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:s}=this,r=e.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function lE(t){const{chart:e,fill:n,line:i}=t;if(He(n))return aE(e,n);if(n==="stack")return iE(t);if(n==="shape")return!0;const s=cE(t);return s instanceof rv?s:sv(s,i)}function aE(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function cE(t){return(t.scale||{}).getPointPositionForValue?hE(t):uE(t)}function uE(t){const{scale:e={},fill:n}=t,i=eE(n,e);if(He(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function hE(t){const{scale:e,fill:n}=t,i=e.options,s=e.getLabels().length,r=i.reverse?e.max:e.min,o=tE(n,e,r),l=[];if(i.grid.circular){const a=e.getPointPositionForValue(0,r);return new rv({x:a.x,y:a.y,radius:e.getDistanceFromCenterForValue(o)})}for(let a=0;a<s;++a)l.push(e.getPointPositionForValue(a,o));return l}function fc(t,e,n){const i=lE(e),{chart:s,index:r,line:o,scale:l,axis:a}=e,c=o.options,u=c.fill,h=c.backgroundColor,{above:d=h,below:f=h}=u||{},p=s.getDatasetMeta(r),_=Uy(s,p);i&&o.points.length&&(ga(t,n),dE(t,{line:o,target:i,above:d,below:f,area:n,scale:l,axis:a,clip:_}),ma(t))}function dE(t,e){const{line:n,target:i,above:s,below:r,area:o,scale:l,clip:a}=e,c=n._loop?"angle":e.axis;t.save();let u=r;r!==s&&(c==="x"?(Gp(t,i,o.top),pc(t,{line:n,target:i,color:s,scale:l,property:c,clip:a}),t.restore(),t.save(),Gp(t,i,o.bottom)):c==="y"&&(Kp(t,i,o.left),pc(t,{line:n,target:i,color:r,scale:l,property:c,clip:a}),t.restore(),t.save(),Kp(t,i,o.right),u=s)),pc(t,{line:n,target:i,color:u,scale:l,property:c,clip:a}),t.restore()}function Gp(t,e,n){const{segments:i,points:s}=e;let r=!0,o=!1;t.beginPath();for(const l of i){const{start:a,end:c}=l,u=s[a],h=s[xa(a,c,s)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Kp(t,e,n){const{segments:i,points:s}=e;let r=!0,o=!1;t.beginPath();for(const l of i){const{start:a,end:c}=l,u=s[a],h=s[xa(a,c,s)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(n,u.y),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(n,h.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function pc(t,e){const{line:n,target:i,property:s,color:r,scale:o,clip:l}=e,a=Qk(n,i,s);for(const{source:c,target:u,start:h,end:d}of a){const{style:{backgroundColor:f=r}={}}=c,p=i!==!0;t.save(),t.fillStyle=f,fE(t,o,l,p&&Tu(s,h,d)),t.beginPath();const _=!!n.pathSegment(t,c);let v;if(p){_?t.closePath():Qp(t,i,d,s);const g=!!i.pathSegment(t,u,{move:_,reverse:!0});v=_&&g,v||Qp(t,i,h,s)}t.closePath(),t.fill(v?"evenodd":"nonzero"),t.restore()}}function fE(t,e,n,i){const s=e.chart.chartArea,{property:r,start:o,end:l}=i||{};if(r==="x"||r==="y"){let a,c,u,h;r==="x"?(a=o,c=s.top,u=l,h=s.bottom):(a=s.left,c=o,u=s.right,h=l),t.beginPath(),n&&(a=Math.max(a,n.left),u=Math.min(u,n.right),c=Math.max(c,n.top),h=Math.min(h,n.bottom)),t.rect(a,c,u-a,h-c),t.clip()}}function Qp(t,e,n,i){const s=e.interpolate(n,i);s&&t.lineTo(s.x,s.y)}var pE={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,s=[];let r,o,l,a;for(o=0;o<i;++o)r=t.getDatasetMeta(o),l=r.dataset,a=null,l&&l.options&&l instanceof Cn&&(a={visible:t.isDatasetVisible(o),index:o,fill:Zk(l,o,i),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:l}),r.$filler=a,s.push(a);for(o=0;o<i;++o)a=s[o],!(!a||a.fill===!1)&&(a.fill=Xk(s,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=s.length-1;o>=0;--o){const l=s[o].$filler;l&&(l.line.updateControlPoints(r,l.axis),i&&l.fill&&fc(t.ctx,l,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;Yp(r)&&fc(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!Yp(i)||n.drawTime!=="beforeDatasetDraw"||fc(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const qp=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},gE=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Xp extends ln{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ne(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=ze(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:a}=qp(i,r);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,l,a)+10):(u=this.maxHeight,c=this._fitCols(o,s,l,a)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:l}}}=this,a=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+l;let h=e;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((p,_)=>{const v=i+n/2+r.measureText(p.text).width;(_===0||c[c.length-1]+v+2*l>o)&&(h+=u,c[c.length-(_>0?0:1)]=0,f+=u,d++),a[_]={left:0,top:f,row:d,width:v,height:s},c[c.length-1]+=v+l}),h}_fitCols(e,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:l}}}=this,a=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=l,d=0,f=0,p=0,_=0;return this.legendItems.forEach((v,g)=>{const{itemWidth:m,itemHeight:y}=mE(i,n,r,v,s);g>0&&f+y+2*l>u&&(h+=d+l,c.push({width:d,height:f}),p+=d+l,_++,d=f=0),a[g]={left:p,top:f,col:_,width:m,height:y},d=Math.max(d,m),f+=y+l}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Gi(r,this.left,this.width);if(this.isHorizontal()){let l=0,a=Ae(i,this.left+s,this.right-this.lineWidths[l]);for(const c of n)l!==c.row&&(l=c.row,a=Ae(i,this.left+s,this.right-this.lineWidths[l])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(a),c.width),a+=c.width+s}else{let l=0,a=Ae(i,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const c of n)c.col!==l&&(l=c.col,a=Ae(i,this.top+e+s,this.bottom-this.columnSizes[l].height)),c.top=a,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),a+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;ga(e,this),this._draw(),ma(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,l=ge.color,a=Gi(e.rtl,this.left,this.width),c=ze(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),s.textAlign=a.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:p,boxHeight:_,itemHeight:v}=qp(o,h),g=function(k,S,C){if(isNaN(p)||p<=0||isNaN(_)||_<0)return;s.save();const M=j(C.lineWidth,1);if(s.fillStyle=j(C.fillStyle,l),s.lineCap=j(C.lineCap,"butt"),s.lineDashOffset=j(C.lineDashOffset,0),s.lineJoin=j(C.lineJoin,"miter"),s.lineWidth=M,s.strokeStyle=j(C.strokeStyle,l),s.setLineDash(j(C.lineDash,[])),o.usePointStyle){const I={radius:_*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:M},D=a.xPlus(k,p/2),W=S+d;Dy(s,I,D,W,o.pointStyleWidth&&p)}else{const I=S+Math.max((h-_)/2,0),D=a.leftForLtr(k,p),W=sr(C.borderRadius);s.beginPath(),Object.values(W).some(me=>me!==0)?Cu(s,{x:D,y:I,w:p,h:_,radius:W}):s.rect(D,I,p,_),s.fill(),M!==0&&s.stroke()}s.restore()},m=function(k,S,C){Rr(s,C.text,k,S+v/2,c,{strikethrough:C.hidden,textAlign:a.textAlign(C.textAlign)})},y=this.isHorizontal(),x=this._computeTitleHeight();y?f={x:Ae(r,this.left+u,this.right-i[0]),y:this.top+u+x,line:0}:f={x:this.left+u,y:Ae(r,this.top+x+u,this.bottom-n[0].height),line:0},By(this.ctx,e.textDirection);const w=v+u;this.legendItems.forEach((k,S)=>{s.strokeStyle=k.fontColor,s.fillStyle=k.fontColor;const C=s.measureText(k.text).width,M=a.textAlign(k.textAlign||(k.textAlign=o.textAlign)),I=p+d+C;let D=f.x,W=f.y;a.setWidth(this.width),y?S>0&&D+I+u>this.right&&(W=f.y+=w,f.line++,D=f.x=Ae(r,this.left+u,this.right-i[f.line])):S>0&&W+w>this.bottom&&(D=f.x=D+n[f.line].width+u,f.line++,W=f.y=Ae(r,this.top+x+u,this.bottom-n[f.line].height));const me=a.x(D);if(g(me,W,k),D=fS(M,D+p+d,y?D+I:this.right,e.rtl),m(a.x(D),W,k),y)f.x+=I+u;else if(typeof k.text!="string"){const st=c.lineHeight;f.y+=ov(k,st)+u}else f.y+=w}),Hy(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=ze(n.font),s=xt(n.padding);if(!n.display)return;const r=Gi(e.rtl,this.left,this.width),o=this.ctx,l=n.position,a=i.size/2,c=s.top+a;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=Ae(e.align,h,this.right-d);else{const p=this.columnSizes.reduce((_,v)=>Math.max(_,v.height),0);u=c+Ae(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=Ae(l,h,h+d);o.textAlign=r.textAlign(Qh(l)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Rr(o,n.text,f,u,i)}_computeTitleHeight(){const e=this.options.title,n=ze(e.font),i=xt(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if(Bi(e,this.left,this.right)&&Bi(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],Bi(e,s.left,s.left+s.width)&&Bi(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!vE(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=gE(s,i);s&&!r&&ne(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&ne(n.onHover,[e,i,this],this)}else i&&ne(n.onClick,[e,i,this],this)}}function mE(t,e,n,i,s){const r=_E(i,t,e,n),o=yE(s,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function _E(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+i.measureText(s).width}function yE(t,e,n){let i=t;return typeof e.text!="string"&&(i=ov(e,n)),i}function ov(t,e){const n=t.text?t.text.length:0;return e*n}function vE(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var xE={id:"legend",_element:Xp,start(t,e,n){const i=t.legend=new Xp({ctx:t.ctx,options:n,chart:t});mt.configure(t,i,n),mt.addBox(t,i)},stop(t){mt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;mt.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(a=>{const c=a.controller.getStyle(n?0:void 0),u=xt(c.borderWidth);return{text:e[a.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!a.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(l||c.borderRadius),datasetIndex:a.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class lv extends ln{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=ve(i.text)?i.text.length:1;this._padding=xt(i.padding);const r=s*ze(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:o}=this,l=o.align;let a=0,c,u,h;return this.isHorizontal()?(u=Ae(l,i,r),h=n+e,c=r-i):(o.position==="left"?(u=i+e,h=Ae(l,s,n),a=Te*-.5):(u=r-e,h=Ae(l,n,s),a=Te*.5),c=s-n),{titleX:u,titleY:h,maxWidth:c,rotation:a}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=ze(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:a,rotation:c}=this._drawArgs(r);Rr(e,n.text,0,0,i,{color:n.color,maxWidth:a,rotation:c,textAlign:Qh(n.align),textBaseline:"middle",translation:[o,l]})}}function wE(t,e){const n=new lv({ctx:t.ctx,options:e,chart:t});mt.configure(t,n,e),mt.addBox(t,n),t.titleBlock=n}var SE={id:"title",_element:lv,start(t,e,n){wE(t,n)},stop(t){const e=t.titleBlock;mt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;mt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Us={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,r=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const a=l.tooltipPosition();i.add(a.x),s+=a.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((l,a)=>l+a)/i.size,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,l;for(r=0,o=t.length;r<o;++r){const a=t[r].element;if(a&&a.hasValue()){const c=a.getCenterPoint(),u=xu(e,c);u<s&&(s=u,l=a)}}if(l){const a=l.tooltipPosition();n=a.x,i=a.y}return{x:n,y:i}}};function Ft(t,e){return e&&(ve(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Gt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function CE(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:o,value:l}=r.getLabelAndValue(s);return{chart:t,label:o,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:l,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function Zp(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:o,boxHeight:l}=e,a=ze(e.bodyFont),c=ze(e.titleFont),u=ze(e.footerFont),h=r.length,d=s.length,f=i.length,p=xt(e.padding);let _=p.height,v=0,g=i.reduce((x,w)=>x+w.before.length+w.lines.length+w.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,h&&(_+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),g){const x=e.displayColors?Math.max(l,a.lineHeight):a.lineHeight;_+=f*x+(g-f)*a.lineHeight+(g-1)*e.bodySpacing}d&&(_+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let m=0;const y=function(x){v=Math.max(v,n.measureText(x).width+m)};return n.save(),n.font=c.string,Y(t.title,y),n.font=a.string,Y(t.beforeBody.concat(t.afterBody),y),m=e.displayColors?o+2+e.boxPadding:0,Y(i,x=>{Y(x.before,y),Y(x.lines,y),Y(x.after,y)}),m=0,n.font=u.string,Y(t.footer,y),n.restore(),v+=p.width,{width:v,height:_}}function kE(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function EE(t,e,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&s+r+o>e.width||t==="right"&&s-r-o<0)return!0}function bE(t,e,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:l,right:a}}=t;let c="center";return i==="center"?c=s<=(l+a)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),EE(c,t,e,n)&&(c="center"),c}function Jp(t,e,n){const i=n.yAlign||e.yAlign||kE(t,n);return{xAlign:n.xAlign||e.xAlign||bE(t,e,n,i),yAlign:i}}function TE(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function IE(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function eg(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=t,{xAlign:l,yAlign:a}=n,c=s+r,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=sr(o);let p=TE(e,l);const _=IE(e,a,c);return a==="center"?l==="left"?p+=c:l==="right"&&(p-=c):l==="left"?p-=Math.max(u,d)+s:l==="right"&&(p+=Math.max(h,f)+s),{x:gt(p,0,i.width-e.width),y:gt(_,0,i.height-e.height)}}function Ro(t,e,n){const i=xt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function tg(t){return Ft([],Gt(t))}function PE(t,e,n){return Si(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function ng(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const av={beforeTitle:$t,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:$t,beforeBody:$t,beforeLabel:$t,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return J(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:$t,afterBody:$t,beforeFooter:$t,footer:$t,afterFooter:$t};function Ge(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?av[e].call(n,i):s}class Iu extends ln{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new $y(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=PE(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=Ge(i,"beforeTitle",this,e),r=Ge(i,"title",this,e),o=Ge(i,"afterTitle",this,e);let l=[];return l=Ft(l,Gt(s)),l=Ft(l,Gt(r)),l=Ft(l,Gt(o)),l}getBeforeBody(e,n){return tg(Ge(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return Y(e,r=>{const o={before:[],lines:[],after:[]},l=ng(i,r);Ft(o.before,Gt(Ge(l,"beforeLabel",this,r))),Ft(o.lines,Ge(l,"label",this,r)),Ft(o.after,Gt(Ge(l,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(e,n){return tg(Ge(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=Ge(i,"beforeFooter",this,e),r=Ge(i,"footer",this,e),o=Ge(i,"afterFooter",this,e);let l=[];return l=Ft(l,Gt(s)),l=Ft(l,Gt(r)),l=Ft(l,Gt(o)),l}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let l=[],a,c;for(a=0,c=n.length;a<c;++a)l.push(CE(this.chart,n[a]));return e.filter&&(l=l.filter((u,h,d)=>e.filter(u,h,d,i))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,i))),Y(l,u=>{const h=ng(e.callbacks,u);s.push(Ge(h,"labelColor",this,u)),r.push(Ge(h,"labelPointStyle",this,u)),o.push(Ge(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=l,l}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const l=Us[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const a=this._size=Zp(this,i),c=Object.assign({},l,a),u=Jp(this.chart,i,c),h=eg(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:a.width,height:a.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:l}=i,{topLeft:a,topRight:c,bottomLeft:u,bottomRight:h}=sr(l),{x:d,y:f}=e,{width:p,height:_}=n;let v,g,m,y,x,w;return r==="center"?(x=f+_/2,s==="left"?(v=d,g=v-o,y=x+o,w=x-o):(v=d+p,g=v+o,y=x-o,w=x+o),m=v):(s==="left"?g=d+Math.max(a,u)+o:s==="right"?g=d+p-Math.max(c,h)-o:g=this.caretX,r==="top"?(y=f,x=y-o,v=g-o,m=g+o):(y=f+_,x=y+o,v=g+o,m=g-o),w=y),{x1:v,x2:g,x3:m,y1:y,y2:x,y3:w}}drawTitle(e,n,i){const s=this.title,r=s.length;let o,l,a;if(r){const c=Gi(i.rtl,this.x,this.width);for(e.x=Ro(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=ze(i.titleFont),l=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,a+1===r&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,n,i,s,r){const o=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:a,boxWidth:c}=r,u=ze(r.bodyFont),h=Ro(this,"left",r),d=s.x(h),f=a<u.lineHeight?(u.lineHeight-a)/2:0,p=n.y+f;if(r.usePointStyle){const _={radius:Math.min(c,a)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},v=s.leftForLtr(d,c)+c/2,g=p+a/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Su(e,_,v,g),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Su(e,_,v,g)}else{e.lineWidth=V(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const _=s.leftForLtr(d,c),v=s.leftForLtr(s.xPlus(d,1),c-2),g=sr(o.borderRadius);Object.values(g).some(m=>m!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Cu(e,{x:_,y:p,w:c,h:a,radius:g}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Cu(e,{x:v,y:p+1,w:c-2,h:a-2,radius:g}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(_,p,c,a),e.strokeRect(_,p,c,a),e.fillStyle=o.backgroundColor,e.fillRect(v,p+1,c-2,a-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:l,boxHeight:a,boxWidth:c,boxPadding:u}=i,h=ze(i.bodyFont);let d=h.lineHeight,f=0;const p=Gi(i.rtl,this.x,this.width),_=function(C){n.fillText(C,p.x(e.x+f),e.y+d/2),e.y+=d+r},v=p.textAlign(o);let g,m,y,x,w,k,S;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Ro(this,v,i),n.fillStyle=i.bodyColor,Y(this.beforeBody,_),f=l&&v!=="right"?o==="center"?c/2+u:c+2+u:0,x=0,k=s.length;x<k;++x){for(g=s[x],m=this.labelTextColors[x],n.fillStyle=m,Y(g.before,_),y=g.lines,l&&y.length&&(this._drawColorBox(n,e,x,p,i),d=Math.max(h.lineHeight,a)),w=0,S=y.length;w<S;++w)_(y[w]),d=h.lineHeight;Y(g.after,_)}f=0,d=h.lineHeight,Y(this.afterBody,_),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let o,l;if(r){const a=Gi(i.rtl,this.x,this.width);for(e.x=Ro(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=a.textAlign(i.footerAlign),n.textBaseline="middle",o=ze(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],a.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:o}=this,{x:l,y:a}=e,{width:c,height:u}=i,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=sr(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+h,a),o==="top"&&this.drawCaret(e,n,i,s),n.lineTo(l+c-d,a),n.quadraticCurveTo(l+c,a,l+c,a+d),o==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(l+c,a+u-p),n.quadraticCurveTo(l+c,a+u,l+c-p,a+u),o==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(l+f,a+u),n.quadraticCurveTo(l,a+u,l,a+u-f),o==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(l,a+h),n.quadraticCurveTo(l,a,l+h,a),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=Us[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=Zp(this,e),a=Object.assign({},o,this._size),c=Jp(n,e,a),u=eg(e,a,c,n);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=xt(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),By(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),Hy(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:l,index:a})=>{const c=this.chart.getDatasetMeta(l);if(!c)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:c.data[a],index:a}}),r=!Tl(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,i),l=this._positionChanged(o,e),a=n||!Tl(o,r)||l;return a&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),a}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,o=Us[r.position].call(this,e,n);return o!==!1&&(i!==o.x||s!==o.y)}}L(Iu,"positioners",Us);var ME={id:"tooltip",_element:Iu,positioners:Us,afterInit(t,e,n){n&&(t.tooltip=new Iu({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:av},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const NE=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function DE(t,e,n,i){const s=t.indexOf(e);if(s===-1)return NE(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const RE=(t,e)=>t===null?null:gt(Math.round(t),0,e);function ig(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Pu extends ms{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(J(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:DE(i,e,j(n,e),this._addedLabels),RE(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return ig.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}L(Pu,"id","category"),L(Pu,"defaults",{ticks:{callback:ig}});function OE(t,e){const n=[],{bounds:s,step:r,min:o,max:l,precision:a,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=t,f=r||1,p=u-1,{min:_,max:v}=e,g=!J(o),m=!J(l),y=!J(c),x=(v-_)/(h+1);let w=ip((v-_)/p/f)*f,k,S,C,M;if(w<1e-14&&!g&&!m)return[{value:_},{value:v}];M=Math.ceil(v/w)-Math.floor(_/w),M>p&&(w=ip(M*w/p/f)*f),J(a)||(k=Math.pow(10,a),w=Math.ceil(w*k)/k),s==="ticks"?(S=Math.floor(_/w)*w,C=Math.ceil(v/w)*w):(S=_,C=v),g&&m&&r&&nS((l-o)/r,w/1e3)?(M=Math.round(Math.min((l-o)/w,u)),w=(l-o)/M,S=o,C=l):y?(S=g?o:S,C=m?l:C,M=c-1,w=(C-S)/M):(M=(C-S)/w,tr(M,Math.round(M),w/1e3)?M=Math.round(M):M=Math.ceil(M));const I=Math.max(sp(w),sp(S));k=Math.pow(10,J(a)?I:a),S=Math.round(S*k)/k,C=Math.round(C*k)/k;let D=0;for(g&&(d&&S!==o?(n.push({value:o}),S<o&&D++,tr(Math.round((S+D*w)*k)/k,o,sg(o,x,t))&&D++):S<o&&D++);D<M;++D){const W=Math.round((S+D*w)*k)/k;if(m&&W>l)break;n.push({value:W})}return m&&d&&C!==l?n.length&&tr(n[n.length-1].value,l,sg(l,x,t))?n[n.length-1].value=l:n.push({value:l}):(!m||C===l)&&n.push({value:C}),n}function sg(t,e,{horizontal:n,minRotation:i}){const s=ii(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class AE extends ms{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return J(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=a=>s=n?s:a,l=a=>r=i?r:a;if(e){const a=rs(s),c=rs(r);a<0&&c<0?l(0):a>0&&c>0&&o(0)}if(s===r){let a=r===0?1:Math.abs(r*.05);l(r+a),e||o(s-a)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=OE(s,r);return e.bounds==="ticks"&&iS(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return My(e,this.chart.options.locale,this.options.ticks.format)}}class Mu extends AE{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=He(e)?e:0,this.max=He(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=ii(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}L(Mu,"id","linear"),L(Mu,"defaults",{ticks:{callback:Ny.formatters.numeric}});const wa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Qe=Object.keys(wa);function rg(t,e){return t-e}function og(t,e){if(J(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),He(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Nr(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function lg(t,e,n,i){const s=Qe.length;for(let r=Qe.indexOf(t);r<s-1;++r){const o=wa[Qe[r]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(l*o.size))<=i)return Qe[r]}return Qe[s-1]}function LE(t,e,n,i,s){for(let r=Qe.length-1;r>=Qe.indexOf(n);r--){const o=Qe[r];if(wa[o].common&&t._adapter.diff(s,i,o)>=e-1)return o}return Qe[n?Qe.indexOf(n):0]}function FE(t){for(let e=Qe.indexOf(t)+1,n=Qe.length;e<n;++e)if(wa[Qe[e]].common)return Qe[e]}function ag(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=Kh(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function zE(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let l,a;for(l=r;l<=o;l=+s.add(l,1,i))a=n[l],a>=0&&(e[a].major=!0);return e}function cg(t,e,n){const i=[],s={},r=e.length;let o,l;for(o=0;o<r;++o)l=e[o],s[l]=o,i.push({value:l,major:!1});return r===0||!n?i:zE(t,i,s,n)}class Ol extends ms{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new NC._date(e.adapters.date);s.init(n),er(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:og(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:l}=this.getUserBounds();function a(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!l&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!l)&&(a(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&a(this.getMinMax(!1))),s=He(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=He(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,l=cS(s,r,o);return this._unit=n.unit||(i.autoSkip?lg(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):LE(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:FE(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),cg(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=gt(n,0,o),i=gt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||lg(r.minUnit,n,i,this._getLabelCapacity(n)),l=j(s.ticks.stepSize,1),a=o==="week"?r.isoWeekday:!1,c=Nr(a)||a===!0,u={};let h=n,d,f;if(c&&(h=+e.startOf(h,"isoWeek",a)),h=+e.startOf(h,c?"day":o),e.diff(i,n,o)>1e5*l)throw new Error(n+" and "+i+" are too far apart with stepSize of "+l+" "+o);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<i;d=+e.add(d,l,o),f++)ag(u,d,p);return(d===i||s.bounds==="ticks"||f===1)&&ag(u,d,p),Object.keys(u).sort(rg).map(_=>+_)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return ne(o,[e,n,i],this);const l=r.time.displayFormats,a=this._unit,c=this._majorUnit,u=a&&l[a],h=c&&l[c],d=i[n],f=c&&h&&d&&d.major;return this._adapter.format(e,s||(f?h:u))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=ii(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:i*r+l*o,h:i*o+l*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,cg(this,[e],this._majorUnit),s),o=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(og(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return hS(e.sort(rg))}}L(Ol,"id","time"),L(Ol,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Oo(t,e,n){let i=0,s=t.length-1,r,o,l,a;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=si(t,"pos",e)),{pos:r,time:l}=t[i],{pos:o,time:a}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=si(t,"time",e)),{time:r,pos:l}=t[i],{time:o,pos:a}=t[s]);const c=o-r;return c?l+(a-l)*(e-r)/c:l}class ug extends Ol{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Oo(n,this.min),this._tableRange=Oo(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let o,l,a,c,u;for(o=0,l=e.length;o<l;++o)c=e[o],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,l=s.length;o<l;++o)u=s[o+1],a=s[o-1],c=s[o],Math.round((u+a)/2)!==c&&r.push({time:c,pos:o/(l-1)});return r}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Oo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Oo(this._table,i*this._tableRange+this._minPos,!0)}}L(ug,"id","timeseries"),L(ug,"defaults",Ol.defaults);const cv="label";function hg(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function BE(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function uv(t,e){t.labels=e}function hv(t,e,n=cv){const i=[];t.datasets=e.map(s=>{const r=t.datasets.find(o=>o[n]===s[n]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function HE(t,e=cv){const n={labels:[],datasets:[]};return uv(n,t.labels),hv(n,t.datasets,e),n}function WE(t,e){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:o,data:l,options:a,plugins:c=[],fallbackContent:u,updateMode:h,...d}=t,f=fe.useRef(null),p=fe.useRef(null),_=()=>{f.current&&(p.current=new va(f.current,{type:o,data:HE(l,r),options:a&&{...a},plugins:c}),hg(e,p.current))},v=()=>{hg(e,null),p.current&&(p.current.destroy(),p.current=null)};return fe.useEffect(()=>{!s&&p.current&&a&&BE(p.current,a)},[s,a]),fe.useEffect(()=>{!s&&p.current&&uv(p.current.config.data,l.labels)},[s,l.labels]),fe.useEffect(()=>{!s&&p.current&&l.datasets&&hv(p.current.config.data,l.datasets,r)},[s,l.datasets]),fe.useEffect(()=>{p.current&&(s?(v(),setTimeout(_)):p.current.update(h))},[s,a,l.labels,l.datasets,h]),fe.useEffect(()=>{p.current&&(v(),setTimeout(_))},[o]),fe.useEffect(()=>(_(),()=>v()),[]),N.jsx("canvas",{ref:f,role:"img",height:n,width:i,...d,children:u})}const jE=fe.forwardRef(WE);function VE(t,e){return va.register(e),fe.forwardRef((n,i)=>N.jsx(jE,{...n,ref:i,type:t}))}const UE=VE("line",Zo);va.register(Pu,Mu,tl,Cn,SE,ME,xE,pE);const Ao=({title:t,value:e,unit:n,emoji:i,connected:s,history:r,color:o})=>{const l={labels:Array(r.length).fill(""),datasets:[{data:r,borderColor:o,backgroundColor:`${o}20`,borderWidth:2,tension:.4,fill:!0,pointRadius:0,pointHoverRadius:4}]},a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,backgroundColor:"rgba(0, 0, 0, 0.8)",padding:8,displayColors:!1,callbacks:{label:c=>`${c.parsed.y.toFixed(1)}${n}`}}},scales:{x:{display:!1},y:{display:!1}}};return N.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-lg hover:shadow-xl transition-shadow",children:[N.jsxs("div",{className:"flex items-start justify-between mb-4",children:[N.jsxs("div",{children:[N.jsx("h3",{className:"text-gray-500 text-sm font-medium mb-1",children:t}),N.jsxs("div",{className:"flex items-baseline gap-1",children:[N.jsx("span",{className:"text-3xl font-bold text-gray-800",children:e.toFixed(1)}),N.jsx("span",{className:"text-lg text-gray-500",children:n})]})]}),N.jsx("div",{className:"text-4xl",children:i})]}),N.jsx("div",{className:"mb-3",children:N.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${s?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:s?"Conectado":"Desconectado"})}),N.jsx("div",{className:"h-24 mt-4",children:N.jsx(UE,{data:l,options:a})})]})},dg=({name:t,location:e,emoji:n,isOn:i,onToggle:s})=>N.jsx("div",{className:"bg-white rounded-3xl p-5 shadow-lg hover:shadow-xl transition-all",children:N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center text-2xl transition-all ${i?"bg-gradient-to-br from-green-400 to-green-600 shadow-lg shadow-green-200":"bg-gray-100"}`,children:n}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-gray-800 font-semibold text-base",children:t}),N.jsx("p",{className:"text-gray-500 text-sm",children:i?"Encendido":e})]})]}),N.jsx("button",{onClick:s,className:`w-12 h-12 rounded-full flex items-center justify-center transition-all transform hover:scale-110 active:scale-95 ${i?"bg-gradient-to-br from-green-400 to-green-600 text-white shadow-lg shadow-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:N.jsx(vw,{className:"w-6 h-6"})})]})}),$E=()=>{const t=[{icon:xy,label:"Mi hogar",active:!0,notification:!1},{icon:_w,label:"Escena",active:!1,notification:!1},{icon:mw,label:"Inteligente",active:!1,notification:!0},{icon:xw,label:"Yo",active:!1,notification:!0}];return N.jsx("nav",{className:"bg-white border-t border-gray-200 px-6 py-3 shadow-lg",children:N.jsx("div",{className:"flex justify-around items-center",children:t.map(e=>N.jsxs("button",{className:"flex flex-col items-center gap-1 relative py-2 px-4 rounded-xl hover:bg-gray-50 transition-colors",children:[e.notification&&N.jsx("div",{className:"absolute top-1 right-3 w-2 h-2 bg-red-500 rounded-full"}),N.jsx(e.icon,{className:`w-6 h-6 ${e.active?"text-blue-500":"text-gray-400"}`}),N.jsx("span",{className:`text-xs font-medium ${e.active?"text-blue-500":"text-gray-400"}`,children:e.label})]},e.label))})})},YE=()=>{};var fg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b=function(t,e){if(!t)throw _s(e)},_s=function(t){return new Error("Firebase Database ("+dv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},GE=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],l=t[n++],a=((s&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(a&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},id={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,l=o?t[s+1]:0,a=s+2<t.length,c=a?t[s+2]:0,u=r>>2,h=(r&3)<<4|l>>4;let d=(l&15)<<2|c>>6,f=c&63;a||(f=64,o||(d=64)),i.push(n[u],n[h],n[d],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||l==null||c==null||h==null)throw new KE;const d=r<<2|l>>4;if(i.push(d),c!==64){const f=l<<4&240|c>>2;if(i.push(f),h!==64){const p=c<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pv=function(t){const e=fv(t);return id.encodeByteArray(e,!0)},Al=function(t){return pv(t).replace(/\./g,"")},Nu=function(t){try{return id.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t){return gv(void 0,t)}function gv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!qE(n)||(t[n]=gv(t[n],e[n]));return t}function qE(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=()=>XE().__FIREBASE_DEFAULTS__,JE=()=>{if(typeof process>"u"||typeof fg>"u")return;const t=fg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nu(t[1]);return e&&JSON.parse(e)},mv=()=>{try{return YE()||ZE()||JE()||eb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tb=t=>{var e,n;return(n=(e=mv())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},nb=t=>{const e=tb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},_v=()=>{var t;return(t=mv())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ib(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Al(JSON.stringify(n)),Al(JSON.stringify(o)),""].join(".")}const or={};function rb(){const t={prod:[],emulator:[]};for(const e of Object.keys(or))or[e]?t.emulator.push(e):t.prod.push(e);return t}function ob(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let pg=!1;function lb(t,e){if(typeof window>"u"||typeof document>"u"||!sd(window.location.host)||or[t]===e||or[t]||pg)return;or[t]=e;function n(d){return`__firebase__banner__${d}`}const i="__firebase__banner",r=rb().prod.length>0;function o(){const d=document.getElementById(i);d&&d.remove()}function l(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function a(d,f){d.setAttribute("width","24"),d.setAttribute("id",f),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{pg=!0,o()},d}function u(d,f){d.setAttribute("id",f),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function h(){const d=ob(i),f=n("text"),p=document.getElementById(f)||document.createElement("span"),_=n("learnmore"),v=document.getElementById(_)||document.createElement("a"),g=n("preprendIcon"),m=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const y=d.element;l(y),u(v,_);const x=c();a(m,g),y.append(m,p,v,x),document.body.appendChild(y)}r?(p.innerText="Preview backend disconnected.",m.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(m.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ab())}function cb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ub(){return dv.NODE_ADMIN===!0}function hb(){try{return typeof indexedDB=="object"}catch{return!1}}function db(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)==null?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="FirebaseError";class qr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=fb,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vv.prototype.create)}}class vv{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?pb(r,i):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new qr(s,l,i)}}function pb(t,e){return t.replace(gb,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const gb=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t){return JSON.parse(t)}function Ee(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=Ar(Nu(r[0])||""),n=Ar(Nu(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},mb=function(t){const e=xv(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},_b=function(t){const e=xv(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function as(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function gg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ll(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function Fl(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(mg(r)&&mg(o)){if(!Fl(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function mg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)i[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)i[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const d=i[h-3]^i[h-8]^i[h-14]^i[h-16];i[h]=(d<<1|d>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=l^r&(o^l),u=1518500249):(c=r^o^l,u=1859775393):h<60?(c=r&o|l&(r|o),u=2400959708):(c=r^o^l,u=3395469782);const d=(s<<5|s>>>27)+c+a+u+i[h]&4294967295;a=l,l=o,o=(r<<30|r>>>2)&4294967295,r=s,s=d}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}else for(;s<n;)if(r[o]=e[s],++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function rd(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,b(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;s=65536+(r<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Ca=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t){return t&&t._delegate?t._delegate:t}class Lr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Sa;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Cb(e))try{this.getOrInitializeService({instanceIdentifier:Zn})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Zn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zn){return this.instances.has(e)}getOptions(e=Zn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&o.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&e(r,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Sb(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Zn){return this.component?this.component.multipleInstances?e:Zn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sb(t){return t===Zn?void 0:t}function Cb(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(q||(q={}));const Eb={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},bb=q.INFO,Tb={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},Ib=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=Tb[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wv{constructor(e){this.name=e,this._logLevel=bb,this._logHandler=Ib,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Eb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...e),this._logHandler(this,q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...e),this._logHandler(this,q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,q.INFO,...e),this._logHandler(this,q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,q.WARN,...e),this._logHandler(this,q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...e),this._logHandler(this,q.ERROR,...e)}}const Pb=(t,e)=>e.some(n=>t instanceof n);let _g,yg;function Mb(){return _g||(_g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nb(){return yg||(yg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sv=new WeakMap,Du=new WeakMap,Cv=new WeakMap,gc=new WeakMap,od=new WeakMap;function Db(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Rn(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Sv.set(n,t)}).catch(()=>{}),od.set(e,t),e}function Rb(t){if(Du.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Du.set(t,e)}let Ru={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Du.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Cv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ob(t){Ru=t(Ru)}function Ab(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(mc(this),e,...n);return Cv.set(i,e.sort?e.sort():[e]),Rn(i)}:Nb().includes(t)?function(...e){return t.apply(mc(this),e),Rn(Sv.get(this))}:function(...e){return Rn(t.apply(mc(this),e))}}function Lb(t){return typeof t=="function"?Ab(t):(t instanceof IDBTransaction&&Rb(t),Pb(t,Mb())?new Proxy(t,Ru):t)}function Rn(t){if(t instanceof IDBRequest)return Db(t);if(gc.has(t))return gc.get(t);const e=Lb(t);return e!==t&&(gc.set(t,e),od.set(e,t)),e}const mc=t=>od.get(t);function Fb(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),l=Rn(o);return i&&o.addEventListener("upgradeneeded",a=>{i(Rn(o.result),a.oldVersion,a.newVersion,Rn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{r&&a.addEventListener("close",()=>r()),s&&a.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const zb=["get","getKey","getAll","getAllKeys","count"],Bb=["put","add","delete","clear"],_c=new Map;function vg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_c.get(e))return _c.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=Bb.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||zb.includes(n)))return;const r=async function(o,...l){const a=this.transaction(o,s?"readwrite":"readonly");let c=a.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&a.done]))[0]};return _c.set(e,r),r}Ob(t=>({...t,get:(e,n,i)=>vg(e,n)||t.get(e,n,i),has:(e,n)=>!!vg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Wb(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Wb(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ou="@firebase/app",xg="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new wv("@firebase/app"),jb="@firebase/app-compat",Vb="@firebase/analytics-compat",Ub="@firebase/analytics",$b="@firebase/app-check-compat",Yb="@firebase/app-check",Gb="@firebase/auth",Kb="@firebase/auth-compat",Qb="@firebase/database",qb="@firebase/data-connect",Xb="@firebase/database-compat",Zb="@firebase/functions",Jb="@firebase/functions-compat",eT="@firebase/installations",tT="@firebase/installations-compat",nT="@firebase/messaging",iT="@firebase/messaging-compat",sT="@firebase/performance",rT="@firebase/performance-compat",oT="@firebase/remote-config",lT="@firebase/remote-config-compat",aT="@firebase/storage",cT="@firebase/storage-compat",uT="@firebase/firestore",hT="@firebase/ai",dT="@firebase/firestore-compat",fT="firebase",pT="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au="[DEFAULT]",gT={[Ou]:"fire-core",[jb]:"fire-core-compat",[Ub]:"fire-analytics",[Vb]:"fire-analytics-compat",[Yb]:"fire-app-check",[$b]:"fire-app-check-compat",[Gb]:"fire-auth",[Kb]:"fire-auth-compat",[Qb]:"fire-rtdb",[qb]:"fire-data-connect",[Xb]:"fire-rtdb-compat",[Zb]:"fire-fn",[Jb]:"fire-fn-compat",[eT]:"fire-iid",[tT]:"fire-iid-compat",[nT]:"fire-fcm",[iT]:"fire-fcm-compat",[sT]:"fire-perf",[rT]:"fire-perf-compat",[oT]:"fire-rc",[lT]:"fire-rc-compat",[aT]:"fire-gcs",[cT]:"fire-gcs-compat",[uT]:"fire-fst",[dT]:"fire-fst-compat",[hT]:"fire-vertex","fire-js":"fire-js",[fT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=new Map,mT=new Map,Lu=new Map;function wg(t,e){try{t.container.addComponent(e)}catch(n){an.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bl(t){const e=t.name;if(Lu.has(e))return an.debug(`There were multiple attempts to register component ${e}.`),!1;Lu.set(e,t);for(const n of zl.values())wg(n,t);for(const n of mT.values())wg(n,t);return!0}function _T(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yT(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},On=new vv("app","Firebase",vT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=pT;function kv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Au,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw On.create("bad-app-name",{appName:String(s)});if(n||(n=_v()),!n)throw On.create("no-options");const r=zl.get(s);if(r){if(Fl(n,r.options)&&Fl(i,r.config))return r;throw On.create("duplicate-app",{appName:s})}const o=new kb(s);for(const a of Lu.values())o.addComponent(a);const l=new xT(n,i,o);return zl.set(s,l),l}function ST(t=Au){const e=zl.get(t);if(!e&&t===Au&&_v())return kv();if(!e)throw On.create("no-app",{appName:t});return e}function Ki(t,e,n){let i=gT[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),r=e.match(/\s|\//);if(s||r){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&r&&o.push("and"),r&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),an.warn(o.join(" "));return}Bl(new Lr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="firebase-heartbeat-database",kT=1,Fr="firebase-heartbeat-store";let yc=null;function Ev(){return yc||(yc=Fb(CT,kT,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fr)}catch(n){console.warn(n)}}}}).catch(t=>{throw On.create("idb-open",{originalErrorMessage:t.message})})),yc}async function ET(t){try{const n=(await Ev()).transaction(Fr),i=await n.objectStore(Fr).get(bv(t));return await n.done,i}catch(e){if(e instanceof qr)an.warn(e.message);else{const n=On.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});an.warn(n.message)}}}async function Sg(t,e){try{const i=(await Ev()).transaction(Fr,"readwrite");await i.objectStore(Fr).put(e,bv(t)),await i.done}catch(n){if(n instanceof qr)an.warn(n.message);else{const i=On.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});an.warn(i.message)}}}function bv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=1024,TT=30;class IT{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MT(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Cg();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>TT){const o=NT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){an.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cg(),{heartbeatsToSend:i,unsentEntries:s}=PT(this._heartbeatsCache.heartbeats),r=Al(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return an.warn(n),""}}}function Cg(){return new Date().toISOString().substring(0,10)}function PT(t,e=bT){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),kg(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),kg(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class MT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hb()?db().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ET(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Sg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Sg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function kg(t){return Al(JSON.stringify({version:2,heartbeats:t})).length}function NT(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(t){Bl(new Lr("platform-logger",e=>new Hb(e),"PRIVATE")),Bl(new Lr("heartbeat",e=>new IT(e),"PRIVATE")),Ki(Ou,xg,t),Ki(Ou,xg,"esm2020"),Ki("fire-js","")}DT("");var Eg={};const bg="@firebase/database",Tg="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tv="";function RT(t){Tv=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ee(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ar(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return dn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new OT(e)}}catch{}return new AT},ri=Iv("localStorage"),LT=Iv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new wv("@firebase/database"),FT=function(){let t=1;return function(){return t++}}(),Pv=function(t){const e=xb(t),n=new vb;n.update(e);const i=n.digest();return id.encodeByteArray(i)},Zr=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Zr.apply(null,i):typeof i=="object"?e+=Ee(i):e+=i,e+=" "}return e};let lr=null,Ig=!0;const zT=function(t,e){b(!0,"Can't turn on custom loggers persistently."),Qi.logLevel=q.VERBOSE,lr=Qi.log.bind(Qi)},Fe=function(...t){if(Ig===!0&&(Ig=!1,lr===null&&LT.get("logging_enabled")===!0&&zT()),lr){const e=Zr.apply(null,t);lr(e)}},Jr=function(t){return function(...e){Fe(t,...e)}},Fu=function(...t){const e="FIREBASE INTERNAL ERROR: "+Zr(...t);Qi.error(e)},cn=function(...t){const e=`FIREBASE FATAL ERROR: ${Zr(...t)}`;throw Qi.error(e),new Error(e)},nt=function(...t){const e="FIREBASE WARNING: "+Zr(...t);Qi.warn(e)},BT=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Mv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},HT=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},cs="[MIN_NAME]",mi="[MAX_NAME]",ys=function(t,e){if(t===e)return 0;if(t===cs||e===mi)return-1;if(e===cs||t===mi)return 1;{const n=Pg(t),i=Pg(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},WT=function(t,e){return t===e?0:t<e?-1:1},Os=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ee(e))},ld=function(t){if(typeof t!="object"||t===null)return Ee(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Ee(e[i]),n+=":",n+=ld(t[e[i]]);return n+="}",n},Nv=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function it(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Dv=function(t){b(!Mv(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,o,l,a;t===0?(r=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=l+i,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(a=n;a;a-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(s?1:0),c.reverse();const u=c.join("");let h="";for(a=0;a<64;a+=8){let d=parseInt(u.substr(a,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},jT=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},VT=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function UT(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const $T=new RegExp("^-?(0*)\\d{1,10}$"),YT=-2147483648,GT=2147483647,Pg=function(t){if($T.test(t)){const e=Number(t);if(e>=YT&&e<=GT)return e}return null},vs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw nt("Exception was thrown by user callback.",n),e},Math.floor(0))}},KT=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ar=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,yT(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){nt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Fe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nt(e)}}class nl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}nl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="5",Rv="v",Ov="s",Av="r",Lv="f",Fv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,zv="ls",Bv="p",zu="ac",Hv="websocket",Wv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n,i,s,r=!1,o="",l=!1,a=!1,c=null){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ri.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ri.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function XT(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Vv(t,e,n){b(typeof e=="string","typeof type must == string"),b(typeof n=="object","typeof params must == object");let i;if(e===Hv)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Wv)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);XT(t)&&(n.ns=t.namespace);const s=[];return it(n,(r,o)=>{s.push(r+"="+o)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.counters_={}}incrementCounter(e,n=1){dn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return QE(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc={},xc={};function cd(t){const e=t.toString();return vc[e]||(vc[e]=new ZT),vc[e]}function JT(t,e){const n=t.toString();return xc[n]||(xc[n]=e()),xc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&vs(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="start",tI="close",nI="pLPCommand",iI="pRTLPCB",Uv="id",$v="pw",Yv="ser",sI="cb",rI="seg",oI="ts",lI="d",aI="dframe",Gv=1870,Kv=30,cI=Gv-Kv,uI=25e3,hI=3e4;class Hi{constructor(e,n,i,s,r,o,l){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Jr(e),this.stats_=cd(n),this.urlFn=a=>(this.appCheckToken&&(a[zu]=this.appCheckToken),Vv(n,Wv,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new eI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(hI)),HT(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ud((...r)=>{const[o,l,a,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Mg)this.id=l,this.password=a;else if(o===tI)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,l]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[Mg]="t",i[Yv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[sI]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Rv]=ad,this.transportSessionId&&(i[Ov]=this.transportSessionId),this.lastSessionId&&(i[zv]=this.lastSessionId),this.applicationId&&(i[Bv]=this.applicationId),this.appCheckToken&&(i[zu]=this.appCheckToken),typeof location<"u"&&location.hostname&&Fv.test(location.hostname)&&(i[Av]=Lv);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Hi.forceAllow_=!0}static forceDisallow(){Hi.forceDisallow_=!0}static isAvailable(){return Hi.forceAllow_?!0:!Hi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!jT()&&!VT()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ee(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=pv(n),s=Nv(i,cI);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[aI]="t",i[Uv]=e,i[$v]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ee(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ud{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=FT(),window[nI+this.uniqueCallbackIdentifier]=e,window[iI+this.uniqueCallbackIdentifier]=n,this.myIFrame=ud.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Fe("frame writing exception"),l.stack&&Fe(l.stack),Fe(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Fe("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Uv]=this.myID,e[$v]=this.myPW,e[Yv]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Kv+i.length<=Gv;){const o=this.pendingSegs.shift();i=i+"&"+rI+s+"="+o.seg+"&"+oI+s+"="+o.ts+"&"+lI+s+"="+o.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(uI)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Fe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=16384,fI=45e3;let Hl=null;typeof MozWebSocket<"u"?Hl=MozWebSocket:typeof WebSocket<"u"&&(Hl=WebSocket);class Et{constructor(e,n,i,s,r,o,l){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Jr(this.connId),this.stats_=cd(n),this.connURL=Et.connectionURL_(n,o,l,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,r){const o={};return o[Rv]=ad,typeof location<"u"&&location.hostname&&Fv.test(location.hostname)&&(o[Av]=Lv),n&&(o[Ov]=n),i&&(o[zv]=i),s&&(o[zu]=s),r&&(o[Bv]=r),Vv(e,Hv,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ri.set("previous_websocket_failure",!0);try{let i;ub(),this.mySock=new Hl(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Et.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Hl!==null&&!Et.forceDisallow_}static previouslyFailed(){return ri.isInMemoryStorage||ri.get("previous_websocket_failure")===!0}markConnectionHealthy(){ri.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Ar(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(b(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Ee(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Nv(n,dI);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(fI))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Et.responsesRequiredToBeHealthy=2;Et.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{static get ALL_TRANSPORTS(){return[Hi,Et]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Et&&Et.isAvailable();let i=n&&!Et.previouslyFailed();if(e.webSocketOnly&&(n||nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Et];else{const s=this.transports_=[];for(const r of zr.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);zr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}zr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=6e4,gI=5e3,mI=10*1024,_I=100*1024,wc="t",Ng="d",yI="s",Dg="r",vI="e",Rg="o",Og="a",Ag="n",Lg="p",xI="h";class wI{constructor(e,n,i,s,r,o,l,a,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Jr("c:"+this.id+":"),this.transportManager_=new zr(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=ar(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>_I?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>mI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(wc in e){const n=e[wc];n===Og?this.upgradeIfSecondaryHealthy_():n===Dg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Rg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Os("t",e),i=Os("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Lg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Og,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ag,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Os("t",e),i=Os("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Os(wc,e);if(Ng in e){const i=e[Ng];if(n===xI){const s={...i};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Ag){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===yI?this.onConnectionShutdown_(i):n===Dg?this.onReset_(i):n===vI?Fu("Server Error: "+i):n===Rg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fu("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ad!==i&&nt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),ar(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(pI))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ar(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(gI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Lg,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ri.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e){this.allowedEvents_=e,this.listeners_={},b(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){b(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends qv{static getInstance(){return new Wl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!yv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return b(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=32,zg=768;class K{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function $(){return new K("")}function F(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Bn(t){return t.pieces_.length-t.pieceNum_}function X(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new K(t.pieces_,e)}function Xv(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function SI(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Zv(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Jv(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new K(e,0)}function xe(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof K)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new K(n,0)}function B(t){return t.pieceNum_>=t.pieces_.length}function Xe(t,e){const n=F(t),i=F(e);if(n===null)return e;if(n===i)return Xe(X(t),X(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function hd(t,e){if(Bn(t)!==Bn(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Tt(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Bn(t)>Bn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class CI{constructor(e,n){this.errorPrefix_=n,this.parts_=Zv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Ca(this.parts_[i]);e0(this)}}function kI(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ca(e),e0(t)}function EI(t){const e=t.parts_.pop();t.byteLength_-=Ca(e),t.parts_.length>0&&(t.byteLength_-=1)}function e0(t){if(t.byteLength_>zg)throw new Error(t.errorPrefix_+"has a key path longer than "+zg+" bytes ("+t.byteLength_+").");if(t.parts_.length>Fg)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Fg+") or object contains a cycle "+Jn(t))}function Jn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd extends qv{static getInstance(){return new dd}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return b(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=1e3,bI=60*5*1e3,Bg=30*1e3,TI=1.3,II=3e4,PI="server_kill",Hg=3;class tn extends Qv{constructor(e,n,i,s,r,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=tn.nextPersistentConnectionId_++,this.log_=Jr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=As,this.maxReconnectDelay_=bI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Wl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(Ee(r)),b(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new Sa,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),b(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),b(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(o).set(r,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,l=>{const a=l.d,c=l.s;tn.warnOnListenWarnings_(a,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(c,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&dn(e,"w")){const i=as(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();nt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||_b(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Bg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=mb(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,o=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),b(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";s&&(r.q=i,r.t=s),this.sendRequest(o,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const o={p:n,d:i};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ee(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Fu("Unrecognized action received from server: "+Ee(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){b(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=As,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=As,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>II&&(this.reconnectDelay_=As),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*TI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+tn.nextConnectionId_++,r=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,i())},c=function(h){b(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:a,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Fe("getToken() completed but was canceled"):(Fe("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,l=new wI(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,f=>{nt(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(PI)},r))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&nt(h),a())}}}interrupt(e){Fe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Fe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],gg(this.interruptReasons_)&&(this.reconnectDelay_=As,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>ld(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new K(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){Fe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Hg&&(this.reconnectDelay_=Bg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Fe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Hg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Tv.replace(/\./g,"-")]=1,yv()?e["framework.cordova"]=1:cb()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Wl.getInstance().currentlyOnline();return gg(this.interruptReasons_)&&e}}tn.nextPersistentConnectionId_=0;tn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new z(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new z(cs,e),s=new z(cs,n);return this.compare(i,s)!==0}minPost(){return z.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo;class t0 extends ka{static get __EMPTY_NODE(){return Lo}static set __EMPTY_NODE(e){Lo=e}compare(e,n){return ys(e.name,n.name)}isDefinedOn(e){throw _s("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return z.MIN}maxPost(){return new z(mi,Lo)}makePost(e,n){return b(typeof e=="string","KeyIndex indexValue must always be a string."),new z(e,Lo)}toString(){return".key"}}const qi=new t0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ke{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??ke.RED,this.left=s??Ze.EMPTY_NODE,this.right=r??Ze.EMPTY_NODE}copy(e,n,i,s,r){return new ke(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ze.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Ze.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ke.RED=!0;ke.BLACK=!1;class MI{copy(e,n,i,s,r){return this}insert(e,n,i){return new ke(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ze{constructor(e,n=Ze.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ze(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ke.BLACK,null,null))}remove(e){return new Ze(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ke.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Fo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Fo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Fo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Fo(this.root_,null,this.comparator_,!0,e)}}Ze.EMPTY_NODE=new MI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t,e){return ys(t.name,e.name)}function fd(t,e){return ys(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu;function DI(t){Bu=t}const n0=function(t){return typeof t=="number"?"number:"+Dv(t):"string:"+t},i0=function(t){if(t.isLeafNode()){const e=t.val();b(typeof e=="string"||typeof e=="number"||typeof e=="object"&&dn(e,".sv"),"Priority must be a string or number.")}else b(t===Bu||t.isEmpty(),"priority of unexpected type.");b(t===Bu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wg;class Se{static set __childrenNodeConstructor(e){Wg=e}static get __childrenNodeConstructor(){return Wg}constructor(e,n=Se.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,b(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),i0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Se(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Se.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return B(e)?this:F(e)===".priority"?this.priorityNode_:Se.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Se.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=F(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(b(i!==".priority"||Bn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Se.__childrenNodeConstructor.EMPTY_NODE.updateChild(X(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+n0(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Dv(this.value_):e+=this.value_,this.lazyHash_=Pv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Se.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Se.__childrenNodeConstructor?-1:(b(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=Se.VALUE_TYPE_ORDER.indexOf(n),r=Se.VALUE_TYPE_ORDER.indexOf(i);return b(s>=0,"Unknown leaf type: "+n),b(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Se.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s0,r0;function RI(t){s0=t}function OI(t){r0=t}class AI extends ka{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?ys(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return z.MIN}maxPost(){return new z(mi,new Se("[PRIORITY-POST]",r0))}makePost(e,n){const i=s0(e);return new z(n,new Se("[PRIORITY-POST]",i))}toString(){return".priority"}}const he=new AI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=Math.log(2);class FI{constructor(e){const n=r=>parseInt(Math.log(r)/LI,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const jl=function(t,e,n,i){t.sort(e);const s=function(a,c){const u=c-a;let h,d;if(u===0)return null;if(u===1)return h=t[a],d=n?n(h):h,new ke(d,h.node,ke.BLACK,null,null);{const f=parseInt(u/2,10)+a,p=s(a,f),_=s(f+1,c);return h=t[f],d=n?n(h):h,new ke(d,h.node,ke.BLACK,p,_)}},r=function(a){let c=null,u=null,h=t.length;const d=function(p,_){const v=h-p,g=h;h-=p;const m=s(v+1,g),y=t[v],x=n?n(y):y;f(new ke(x,y.node,_,null,m))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<a.count;++p){const _=a.nextBitIsOne(),v=Math.pow(2,a.count-(p+1));_?d(v,ke.BLACK):(d(v,ke.BLACK),d(v,ke.RED))}return u},o=new FI(t.length),l=r(o);return new Ze(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc;const bi={};class Jt{static get Default(){return b(bi&&he,"ChildrenNode.ts has not been loaded"),Sc=Sc||new Jt({".priority":bi},{".priority":he}),Sc}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=as(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ze?n:null}hasIndex(e){return dn(this.indexSet_,e.toString())}addIndex(e,n){b(e!==qi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(z.Wrap);let o=r.getNext();for(;o;)s=s||e.isDefinedOn(o.node),i.push(o),o=r.getNext();let l;s?l=jl(i,e.getCompare()):l=bi;const a=e.toString(),c={...this.indexSet_};c[a]=e;const u={...this.indexes_};return u[a]=l,new Jt(u,c)}addToIndexes(e,n){const i=Ll(this.indexes_,(s,r)=>{const o=as(this.indexSet_,r);if(b(o,"Missing index implementation for "+r),s===bi)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(z.Wrap);let c=a.getNext();for(;c;)c.name!==e.name&&l.push(c),c=a.getNext();return l.push(e),jl(l,o.getCompare())}else return bi;else{const l=n.get(e.name);let a=s;return l&&(a=a.remove(new z(e.name,l))),a.insert(e,e.node)}});return new Jt(i,this.indexSet_)}removeFromIndexes(e,n){const i=Ll(this.indexes_,s=>{if(s===bi)return s;{const r=n.get(e.name);return r?s.remove(new z(e.name,r)):s}});return new Jt(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ls;class R{static get EMPTY_NODE(){return Ls||(Ls=new R(new Ze(fd),null,Jt.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&i0(this.priorityNode_),this.children_.isEmpty()&&b(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ls}updatePriority(e){return this.children_.isEmpty()?this:new R(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ls:n}}getChild(e){const n=F(e);return n===null?this:this.getImmediateChild(n).getChild(X(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(b(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new z(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const o=s.isEmpty()?Ls:this.priorityNode_;return new R(s,o,r)}}updateChild(e,n){const i=F(e);if(i===null)return n;{b(F(e)!==".priority"||Bn(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(X(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(he,(o,l)=>{n[o]=l.val(e),i++,r&&R.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):r=!1}),!e&&r&&s<2*i){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+n0(this.getPriority().val())+":"),this.forEachChild(he,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Pv(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new z(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new z(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new z(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,z.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,z.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===eo?-1:0}withIndex(e){if(e===qi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new R(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===qi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(he),s=n.getIterator(he);let r=i.getNext(),o=s.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=i.getNext(),o=s.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===qi?null:this.indexMap_.get(e.toString())}}R.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class zI extends R{constructor(){super(new Ze(fd),R.EMPTY_NODE,Jt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return R.EMPTY_NODE}isEmpty(){return!1}}const eo=new zI;Object.defineProperties(z,{MIN:{value:new z(cs,R.EMPTY_NODE)},MAX:{value:new z(mi,eo)}});t0.__EMPTY_NODE=R.EMPTY_NODE;Se.__childrenNodeConstructor=R;DI(eo);OI(eo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=!0;function Pe(t,e=null){if(t===null)return R.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),b(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Se(n,Pe(e))}if(!(t instanceof Array)&&BI){const n=[];let i=!1;if(it(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=Pe(l);a.isEmpty()||(i=i||!a.getPriority().isEmpty(),n.push(new z(o,a)))}}),n.length===0)return R.EMPTY_NODE;const r=jl(n,NI,o=>o.name,fd);if(i){const o=jl(n,he.getCompare());return new R(r,Pe(e),new Jt({".priority":o},{".priority":he}))}else return new R(r,Pe(e),Jt.Default)}else{let n=R.EMPTY_NODE;return it(t,(i,s)=>{if(dn(t,i)&&i.substring(0,1)!=="."){const r=Pe(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(Pe(e))}}RI(Pe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI extends ka{constructor(e){super(),this.indexPath_=e,b(!B(e)&&F(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?ys(e.name,n.name):r}makePost(e,n){const i=Pe(e),s=R.EMPTY_NODE.updateChild(this.indexPath_,i);return new z(n,s)}maxPost(){const e=R.EMPTY_NODE.updateChild(this.indexPath_,eo);return new z(mi,e)}toString(){return Zv(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI extends ka{compare(e,n){const i=e.node.compareTo(n.node);return i===0?ys(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return z.MIN}maxPost(){return z.MAX}makePost(e,n){const i=Pe(e);return new z(n,i)}toString(){return".value"}}const jI=new WI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t){return{type:"value",snapshotNode:t}}function us(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Br(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Hr(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function VI(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e){this.index_=e}updateChild(e,n,i,s,r,o){b(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(i.getChild(s))&&l.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(Br(n,l)):b(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(us(n,i)):o.trackChildChange(Hr(n,i,l))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(he,(s,r)=>{n.hasChild(s)||i.trackChildChange(Br(s,r))}),n.isLeafNode()||n.forEachChild(he,(s,r)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(r)||i.trackChildChange(Hr(s,r,o))}else i.trackChildChange(us(s,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?R.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.indexedFilter_=new pd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Wr.getStartPost_(e),this.endPost_=Wr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,r,o){return this.matches(new z(n,i))||(i=R.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,r,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=R.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(R.EMPTY_NODE);const r=this;return n.forEachChild(he,(o,l)=>{r.matches(new z(o,l))||(s=s.updateImmediateChild(o,R.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Wr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,r,o){return this.rangedFilter_.matches(new z(n,i))||(i=R.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,r,o):this.fullLimitUpdateChild_(e,n,i,r,o)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=R.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=R.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const l=r.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(R.EMPTY_NODE);let r;this.reverse_?r=s.getReverseIterator(this.index_):r=s.getIterator(this.index_);let o=0;for(;r.hasNext();){const l=r.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:s=s.updateImmediateChild(l.name,R.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,r){let o;if(this.reverse_){const h=this.index_.getCompare();o=(d,f)=>h(f,d)}else o=this.index_.getCompare();const l=e;b(l.numChildren()===this.limit_,"");const a=new z(n,i),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),u=this.rangedFilter_.matches(a);if(l.hasChild(n)){const h=l.getImmediateChild(n);let d=s.getChildAfterChild(this.index_,c,this.reverse_);for(;d!=null&&(d.name===n||l.hasChild(d.name));)d=s.getChildAfterChild(this.index_,d,this.reverse_);const f=d==null?1:o(d,a);if(u&&!i.isEmpty()&&f>=0)return r!=null&&r.trackChildChange(Hr(n,i,h)),l.updateImmediateChild(n,i);{r!=null&&r.trackChildChange(Br(n,h));const _=l.updateImmediateChild(n,R.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(r!=null&&r.trackChildChange(us(d.name,d.node)),_.updateImmediateChild(d.name,d.node)):_}}else return i.isEmpty()?e:u&&o(c,a)>=0?(r!=null&&(r.trackChildChange(Br(c.name,c.node)),r.trackChildChange(us(n,i))),l.updateImmediateChild(n,i).updateImmediateChild(c.name,R.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=he}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return b(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return b(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:cs}hasEnd(){return this.endSet_}getIndexEndValue(){return b(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return b(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:mi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return b(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===he}copy(){const e=new gd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function $I(t){return t.loadsAllData()?new pd(t.getIndex()):t.hasLimit()?new UI(t):new Wr(t)}function jg(t){const e={};if(t.isDefault())return e;let n;if(t.index_===he?n="$priority":t.index_===jI?n="$value":t.index_===qi?n="$key":(b(t.index_ instanceof HI,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ee(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Ee(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Ee(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Ee(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Ee(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Vg(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==he&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends Qv{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(b(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Jr("p:rest:"),this.listens_={}}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Vl.getListenId_(e,i),l={};this.listens_[o]=l;const a=jg(e._queryParams);this.restRequest_(r+".json",a,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(r,h,!1,i),as(this.listens_,o)===l){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",s(d,null)}})}unlisten(e,n){const i=Vl.getListenId_(e,n);delete this.listens_[i]}get(e){const n=jg(e._queryParams),i=e._path.toString(),s=new Sa;return this.restRequest_(i+".json",n,(r,o)=>{let l=o;r===404&&(l=null,r=null),r===null?(this.onDataUpdate_(i,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+yb(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Ar(l.responseText)}catch{nt("Failed to parse JSON response for "+o+": "+l.responseText)}i(null,a)}else l.status!==401&&l.status!==404&&nt("Got unsuccessful REST response for "+o+" Status: "+l.status),i(l.status);i=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.rootNode_=R.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(){return{value:null,children:new Map}}function l0(t,e,n){if(B(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=F(e);t.children.has(i)||t.children.set(i,Ul());const s=t.children.get(i);e=X(e),l0(s,e,n)}}function Hu(t,e,n){t.value!==null?n(e,t.value):GI(t,(i,s)=>{const r=new K(e.toString()+"/"+i);Hu(s,r,n)})}function GI(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&it(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=10*1e3,QI=30*1e3,qI=5*60*1e3;class XI{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new KI(e);const i=Ug+(QI-Ug)*Math.random();ar(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;it(e,(s,r)=>{r>0&&dn(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),ar(this.reportStats_.bind(this),Math.floor(Math.random()*2*qI))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(It||(It={}));function a0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function md(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function _d(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=It.ACK_USER_WRITE,this.source=a0()}operationForChild(e){if(B(this.path)){if(this.affectedTree.value!=null)return b(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new K(e));return new $l($(),n,this.revert)}}else return b(F(this.path)===e,"operationForChild called for unrelated child."),new $l(X(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n){this.source=e,this.path=n,this.type=It.LISTEN_COMPLETE}operationForChild(e){return B(this.path)?new jr(this.source,$()):new jr(this.source,X(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=It.OVERWRITE}operationForChild(e){return B(this.path)?new _i(this.source,$(),this.snap.getImmediateChild(e)):new _i(this.source,X(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=It.MERGE}operationForChild(e){if(B(this.path)){const n=this.children.subtree(new K(e));return n.isEmpty()?null:n.value?new _i(this.source,$(),n.value):new Vr(this.source,$(),n)}else return b(F(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Vr(this.source,X(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(B(e))return this.isFullyInitialized()&&!this.filtered_;const n=F(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function JI(t,e,n,i){const s=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(VI(o.childName,o.snapshotNode))}),Fs(t,s,"child_removed",e,i,n),Fs(t,s,"child_added",e,i,n),Fs(t,s,"child_moved",r,i,n),Fs(t,s,"child_changed",e,i,n),Fs(t,s,"value",e,i,n),s}function Fs(t,e,n,i,s,r){const o=i.filter(l=>l.type===n);o.sort((l,a)=>tP(t,l,a)),o.forEach(l=>{const a=eP(t,l,r);s.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(a,t.query_))})})}function eP(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function tP(t,e,n){if(e.childName==null||n.childName==null)throw _s("Should only compare child_ events.");const i=new z(e.childName,e.snapshotNode),s=new z(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(t,e){return{eventCache:t,serverCache:e}}function cr(t,e,n,i){return Ea(new yi(e,n,i),t.serverCache)}function c0(t,e,n,i){return Ea(t.eventCache,new yi(e,n,i))}function Wu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function vi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc;const nP=()=>(Cc||(Cc=new Ze(WT)),Cc);class ie{static fromObject(e){let n=new ie(null);return it(e,(i,s)=>{n=n.set(new K(i),s)}),n}constructor(e,n=nP()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:$(),value:this.value};if(B(e))return null;{const i=F(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(X(e),n);return r!=null?{path:xe(new K(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(B(e))return this;{const n=F(e),i=this.children.get(n);return i!==null?i.subtree(X(e)):new ie(null)}}set(e,n){if(B(e))return new ie(n,this.children);{const i=F(e),r=(this.children.get(i)||new ie(null)).set(X(e),n),o=this.children.insert(i,r);return new ie(this.value,o)}}remove(e){if(B(e))return this.children.isEmpty()?new ie(null):new ie(null,this.children);{const n=F(e),i=this.children.get(n);if(i){const s=i.remove(X(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new ie(null):new ie(this.value,r)}else return this}}get(e){if(B(e))return this.value;{const n=F(e),i=this.children.get(n);return i?i.get(X(e)):null}}setTree(e,n){if(B(e))return n;{const i=F(e),r=(this.children.get(i)||new ie(null)).setTree(X(e),n);let o;return r.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,r),new ie(this.value,o)}}fold(e){return this.fold_($(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(xe(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,$(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(B(e))return null;{const r=F(e),o=this.children.get(r);return o?o.findOnPath_(X(e),xe(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,$(),n)}foreachOnPath_(e,n,i){if(B(e))return this;{this.value&&i(n,this.value);const s=F(e),r=this.children.get(s);return r?r.foreachOnPath_(X(e),xe(n,s),i):new ie(null)}}foreach(e){this.foreach_($(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(xe(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.writeTree_=e}static empty(){return new Dt(new ie(null))}}function ur(t,e,n){if(B(e))return new Dt(new ie(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const o=Xe(s,e);return r=r.updateChild(o,n),new Dt(t.writeTree_.set(s,r))}else{const s=new ie(n),r=t.writeTree_.setTree(e,s);return new Dt(r)}}}function $g(t,e,n){let i=t;return it(n,(s,r)=>{i=ur(i,xe(e,s),r)}),i}function Yg(t,e){if(B(e))return Dt.empty();{const n=t.writeTree_.setTree(e,new ie(null));return new Dt(n)}}function ju(t,e){return Ci(t,e)!=null}function Ci(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Xe(n.path,e)):null}function Gg(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(he,(i,s)=>{e.push(new z(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new z(i,s.value))}),e}function An(t,e){if(B(e))return t;{const n=Ci(t,e);return n!=null?new Dt(new ie(n)):new Dt(t.writeTree_.subtree(e))}}function Vu(t){return t.writeTree_.isEmpty()}function hs(t,e){return u0($(),t.writeTree_,e)}function u0(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(b(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=u0(xe(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(xe(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t,e){return p0(e,t)}function iP(t,e,n,i,s){b(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=ur(t.visibleWrites,e,n)),t.lastWriteId=i}function sP(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function rP(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);b(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&oP(l,i.path)?s=!1:Tt(i.path,l.path)&&(r=!0)),o--}if(s){if(r)return lP(t),!0;if(i.snap)t.visibleWrites=Yg(t.visibleWrites,i.path);else{const l=i.children;it(l,a=>{t.visibleWrites=Yg(t.visibleWrites,xe(i.path,a))})}return!0}else return!1}function oP(t,e){if(t.snap)return Tt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Tt(xe(t.path,n),e))return!0;return!1}function lP(t){t.visibleWrites=h0(t.allWrites,aP,$()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function aP(t){return t.visible}function h0(t,e,n){let i=Dt.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const o=r.path;let l;if(r.snap)Tt(n,o)?(l=Xe(n,o),i=ur(i,l,r.snap)):Tt(o,n)&&(l=Xe(o,n),i=ur(i,$(),r.snap.getChild(l)));else if(r.children){if(Tt(n,o))l=Xe(n,o),i=$g(i,l,r.children);else if(Tt(o,n))if(l=Xe(o,n),B(l))i=$g(i,$(),r.children);else{const a=as(r.children,F(l));if(a){const c=a.getChild(X(l));i=ur(i,$(),c)}}}else throw _s("WriteRecord should have .snap or .children")}}return i}function d0(t,e,n,i,s){if(!i&&!s){const r=Ci(t.visibleWrites,e);if(r!=null)return r;{const o=An(t.visibleWrites,e);if(Vu(o))return n;if(n==null&&!ju(o,$()))return null;{const l=n||R.EMPTY_NODE;return hs(o,l)}}}else{const r=An(t.visibleWrites,e);if(!s&&Vu(r))return n;if(!s&&n==null&&!ju(r,$()))return null;{const o=function(c){return(c.visible||s)&&(!i||!~i.indexOf(c.writeId))&&(Tt(c.path,e)||Tt(e,c.path))},l=h0(t.allWrites,o,e),a=n||R.EMPTY_NODE;return hs(l,a)}}}function cP(t,e,n){let i=R.EMPTY_NODE;const s=Ci(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(he,(r,o)=>{i=i.updateImmediateChild(r,o)}),i;if(n){const r=An(t.visibleWrites,e);return n.forEachChild(he,(o,l)=>{const a=hs(An(r,new K(o)),l);i=i.updateImmediateChild(o,a)}),Gg(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const r=An(t.visibleWrites,e);return Gg(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function uP(t,e,n,i,s){b(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=xe(e,n);if(ju(t.visibleWrites,r))return null;{const o=An(t.visibleWrites,r);return Vu(o)?s.getChild(n):hs(o,s.getChild(n))}}function hP(t,e,n,i){const s=xe(e,n),r=Ci(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const o=An(t.visibleWrites,s);return hs(o,i.getNode().getImmediateChild(n))}else return null}function dP(t,e){return Ci(t.visibleWrites,e)}function fP(t,e,n,i,s,r,o){let l;const a=An(t.visibleWrites,e),c=Ci(a,$());if(c!=null)l=c;else if(n!=null)l=hs(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const u=[],h=o.getCompare(),d=r?l.getReverseIteratorFrom(i,o):l.getIteratorFrom(i,o);let f=d.getNext();for(;f&&u.length<s;)h(f,i)!==0&&u.push(f),f=d.getNext();return u}else return[]}function pP(){return{visibleWrites:Dt.empty(),allWrites:[],lastWriteId:-1}}function Yl(t,e,n,i){return d0(t.writeTree,t.treePath,e,n,i)}function vd(t,e){return cP(t.writeTree,t.treePath,e)}function Kg(t,e,n,i){return uP(t.writeTree,t.treePath,e,n,i)}function Gl(t,e){return dP(t.writeTree,xe(t.treePath,e))}function gP(t,e,n,i,s,r){return fP(t.writeTree,t.treePath,e,n,i,s,r)}function xd(t,e,n){return hP(t.writeTree,t.treePath,e,n)}function f0(t,e){return p0(xe(t.treePath,e),t.writeTree)}function p0(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;b(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),b(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,Hr(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,Br(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,us(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,Hr(i,e.snapshotNode,s.oldSnap));else throw _s("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const g0=new _P;class wd{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new yi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xd(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:vi(this.viewCache_),r=gP(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t){return{filter:t}}function vP(t,e){b(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),b(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function xP(t,e,n,i,s){const r=new mP;let o,l;if(n.type===It.OVERWRITE){const c=n;c.source.fromUser?o=Uu(t,e,c.path,c.snap,i,s,r):(b(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!B(c.path),o=Kl(t,e,c.path,c.snap,i,s,l,r))}else if(n.type===It.MERGE){const c=n;c.source.fromUser?o=SP(t,e,c.path,c.children,i,s,r):(b(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=$u(t,e,c.path,c.children,i,s,l,r))}else if(n.type===It.ACK_USER_WRITE){const c=n;c.revert?o=EP(t,e,c.path,i,s,r):o=CP(t,e,c.path,c.affectedTree,i,s,r)}else if(n.type===It.LISTEN_COMPLETE)o=kP(t,e,n.path,i,r);else throw _s("Unknown operation type: "+n.type);const a=r.getChanges();return wP(e,o,a),{viewCache:o,changes:a}}function wP(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=Wu(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(o0(Wu(e)))}}function m0(t,e,n,i,s,r){const o=e.eventCache;if(Gl(i,n)!=null)return e;{let l,a;if(B(n))if(b(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=vi(e),u=c instanceof R?c:R.EMPTY_NODE,h=vd(i,u);l=t.filter.updateFullNode(e.eventCache.getNode(),h,r)}else{const c=Yl(i,vi(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=F(n);if(c===".priority"){b(Bn(n)===1,"Can't have a priority with additional path components");const u=o.getNode();a=e.serverCache.getNode();const h=Kg(i,n,u,a);h!=null?l=t.filter.updatePriority(u,h):l=o.getNode()}else{const u=X(n);let h;if(o.isCompleteForChild(c)){a=e.serverCache.getNode();const d=Kg(i,n,o.getNode(),a);d!=null?h=o.getNode().getImmediateChild(c).updateChild(u,d):h=o.getNode().getImmediateChild(c)}else h=xd(i,c,e.serverCache);h!=null?l=t.filter.updateChild(o.getNode(),c,h,u,s,r):l=o.getNode()}}return cr(e,l,o.isFullyInitialized()||B(n),t.filter.filtersNodes())}}function Kl(t,e,n,i,s,r,o,l){const a=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(B(n))c=u.updateFullNode(a.getNode(),i,null);else if(u.filtersNodes()&&!a.isFiltered()){const f=a.getNode().updateChild(n,i);c=u.updateFullNode(a.getNode(),f,null)}else{const f=F(n);if(!a.isCompleteForPath(n)&&Bn(n)>1)return e;const p=X(n),v=a.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(a.getNode(),v):c=u.updateChild(a.getNode(),f,v,p,g0,null)}const h=c0(e,c,a.isFullyInitialized()||B(n),u.filtersNodes()),d=new wd(s,h,r);return m0(t,h,n,s,d,l)}function Uu(t,e,n,i,s,r,o){const l=e.eventCache;let a,c;const u=new wd(s,e,r);if(B(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),a=cr(e,c,!0,t.filter.filtersNodes());else{const h=F(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),a=cr(e,c,l.isFullyInitialized(),l.isFiltered());else{const d=X(n),f=l.getNode().getImmediateChild(h);let p;if(B(d))p=i;else{const _=u.getCompleteChild(h);_!=null?Xv(d)===".priority"&&_.getChild(Jv(d)).isEmpty()?p=_:p=_.updateChild(d,i):p=R.EMPTY_NODE}if(f.equals(p))a=e;else{const _=t.filter.updateChild(l.getNode(),h,p,d,u,o);a=cr(e,_,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Qg(t,e){return t.eventCache.isCompleteForChild(e)}function SP(t,e,n,i,s,r,o){let l=e;return i.foreach((a,c)=>{const u=xe(n,a);Qg(e,F(u))&&(l=Uu(t,l,u,c,s,r,o))}),i.foreach((a,c)=>{const u=xe(n,a);Qg(e,F(u))||(l=Uu(t,l,u,c,s,r,o))}),l}function qg(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function $u(t,e,n,i,s,r,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,c;B(n)?c=i:c=new ie(null).setTree(n,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,d)=>{if(u.hasChild(h)){const f=e.serverCache.getNode().getImmediateChild(h),p=qg(t,f,d);a=Kl(t,a,new K(h),p,s,r,o,l)}}),c.children.inorderTraversal((h,d)=>{const f=!e.serverCache.isCompleteForChild(h)&&d.value===null;if(!u.hasChild(h)&&!f){const p=e.serverCache.getNode().getImmediateChild(h),_=qg(t,p,d);a=Kl(t,a,new K(h),_,s,r,o,l)}}),a}function CP(t,e,n,i,s,r,o){if(Gl(s,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(i.value!=null){if(B(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Kl(t,e,n,a.getNode().getChild(n),s,r,l,o);if(B(n)){let c=new ie(null);return a.getNode().forEachChild(qi,(u,h)=>{c=c.set(new K(u),h)}),$u(t,e,n,c,s,r,l,o)}else return e}else{let c=new ie(null);return i.foreach((u,h)=>{const d=xe(n,u);a.isCompleteForPath(d)&&(c=c.set(u,a.getNode().getChild(d)))}),$u(t,e,n,c,s,r,l,o)}}function kP(t,e,n,i,s){const r=e.serverCache,o=c0(e,r.getNode(),r.isFullyInitialized()||B(n),r.isFiltered());return m0(t,o,n,i,g0,s)}function EP(t,e,n,i,s,r){let o;if(Gl(i,n)!=null)return e;{const l=new wd(i,e,s),a=e.eventCache.getNode();let c;if(B(n)||F(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Yl(i,vi(e));else{const h=e.serverCache.getNode();b(h instanceof R,"serverChildren would be complete if leaf node"),u=vd(i,h)}u=u,c=t.filter.updateFullNode(a,u,r)}else{const u=F(n);let h=xd(i,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=a.getImmediateChild(u)),h!=null?c=t.filter.updateChild(a,u,h,X(n),l,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(a,u,R.EMPTY_NODE,X(n),l,r):c=a,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Yl(i,vi(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||Gl(i,$())!=null,cr(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new pd(i.getIndex()),r=$I(i);this.processor_=yP(r);const o=n.serverCache,l=n.eventCache,a=s.updateFullNode(R.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(R.EMPTY_NODE,l.getNode(),null),u=new yi(a,o.isFullyInitialized(),s.filtersNodes()),h=new yi(c,l.isFullyInitialized(),r.filtersNodes());this.viewCache_=Ea(h,u),this.eventGenerator_=new ZI(this.query_)}get query(){return this.query_}}function TP(t){return t.viewCache_.serverCache.getNode()}function IP(t,e){const n=vi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!B(e)&&!n.getImmediateChild(F(e)).isEmpty())?n.getChild(e):null}function Xg(t){return t.eventRegistrations_.length===0}function PP(t,e){t.eventRegistrations_.push(e)}function Zg(t,e,n){const i=[];if(n){b(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,s);o&&i.push(o)})}if(e){let s=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function Jg(t,e,n,i){e.type===It.MERGE&&e.source.queryId!==null&&(b(vi(t.viewCache_),"We should always have a full cache before handling merges"),b(Wu(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=xP(t.processor_,s,e,n,i);return vP(t.processor_,r.viewCache),b(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,_0(t,r.changes,r.viewCache.eventCache.getNode(),null)}function MP(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(he,(r,o)=>{i.push(us(r,o))}),n.isFullyInitialized()&&i.push(o0(n.getNode())),_0(t,i,n.getNode(),e)}function _0(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return JI(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ql;class NP{constructor(){this.views=new Map}}function DP(t){b(!Ql,"__referenceConstructor has already been defined"),Ql=t}function RP(){return b(Ql,"Reference.ts has not been loaded"),Ql}function OP(t){return t.views.size===0}function Sd(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return b(r!=null,"SyncTree gave us an op for an invalid query."),Jg(r,e,n,i)}else{let r=[];for(const o of t.views.values())r=r.concat(Jg(o,e,n,i));return r}}function AP(t,e,n,i,s){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let l=Yl(n,s?i:null),a=!1;l?a=!0:i instanceof R?(l=vd(n,i),a=!1):(l=R.EMPTY_NODE,a=!1);const c=Ea(new yi(l,a,!1),new yi(i,s,!1));return new bP(e,c)}return o}function LP(t,e,n,i,s,r){const o=AP(t,e,i,s,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),PP(o,n),MP(o,n)}function FP(t,e,n,i){const s=e._queryIdentifier,r=[];let o=[];const l=Hn(t);if(s==="default")for(const[a,c]of t.views.entries())o=o.concat(Zg(c,n,i)),Xg(c)&&(t.views.delete(a),c.query._queryParams.loadsAllData()||r.push(c.query));else{const a=t.views.get(s);a&&(o=o.concat(Zg(a,n,i)),Xg(a)&&(t.views.delete(s),a.query._queryParams.loadsAllData()||r.push(a.query)))}return l&&!Hn(t)&&r.push(new(RP())(e._repo,e._path)),{removed:r,events:o}}function y0(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Xi(t,e){let n=null;for(const i of t.views.values())n=n||IP(i,e);return n}function v0(t,e){if(e._queryParams.loadsAllData())return ba(t);{const i=e._queryIdentifier;return t.views.get(i)}}function x0(t,e){return v0(t,e)!=null}function Hn(t){return ba(t)!=null}function ba(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ql;function zP(t){b(!ql,"__referenceConstructor has already been defined"),ql=t}function BP(){return b(ql,"Reference.ts has not been loaded"),ql}let HP=1;class em{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ie(null),this.pendingWriteTree_=pP(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function w0(t,e,n,i,s){return iP(t.pendingWriteTree_,e,n,i,s),s?to(t,new _i(a0(),e,n)):[]}function oi(t,e,n=!1){const i=sP(t.pendingWriteTree_,e);if(rP(t.pendingWriteTree_,e)){let r=new ie(null);return i.snap!=null?r=r.set($(),!0):it(i.children,o=>{r=r.set(new K(o),!0)}),to(t,new $l(i.path,r,n))}else return[]}function Ta(t,e,n){return to(t,new _i(md(),e,n))}function WP(t,e,n){const i=ie.fromObject(n);return to(t,new Vr(md(),e,i))}function jP(t,e){return to(t,new jr(md(),e))}function VP(t,e,n){const i=kd(t,n);if(i){const s=Ed(i),r=s.path,o=s.queryId,l=Xe(r,e),a=new jr(_d(o),l);return bd(t,r,a)}else return[]}function Yu(t,e,n,i,s=!1){const r=e._path,o=t.syncPointTree_.get(r);let l=[];if(o&&(e._queryIdentifier==="default"||x0(o,e))){const a=FP(o,e,n,i);OP(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=a.removed;if(l=a.events,!s){const u=c.findIndex(d=>d._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(r,(d,f)=>Hn(f));if(u&&!h){const d=t.syncPointTree_.subtree(r);if(!d.isEmpty()){const f=YP(d);for(let p=0;p<f.length;++p){const _=f[p],v=_.query,g=k0(t,_);t.listenProvider_.startListening(hr(v),Xl(t,v),g.hashFn,g.onComplete)}}}!h&&c.length>0&&!i&&(u?t.listenProvider_.stopListening(hr(e),null):c.forEach(d=>{const f=t.queryToTagMap.get(Ia(d));t.listenProvider_.stopListening(hr(d),f)}))}GP(t,c)}return l}function UP(t,e,n,i){const s=kd(t,i);if(s!=null){const r=Ed(s),o=r.path,l=r.queryId,a=Xe(o,e),c=new _i(_d(l),a,n);return bd(t,o,c)}else return[]}function $P(t,e,n,i){const s=kd(t,i);if(s){const r=Ed(s),o=r.path,l=r.queryId,a=Xe(o,e),c=ie.fromObject(n),u=new Vr(_d(l),a,c);return bd(t,o,u)}else return[]}function tm(t,e,n,i=!1){const s=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(s,(d,f)=>{const p=Xe(d,s);r=r||Xi(f,p),o=o||Hn(f)});let l=t.syncPointTree_.get(s);l?(o=o||Hn(l),r=r||Xi(l,$())):(l=new NP,t.syncPointTree_=t.syncPointTree_.set(s,l));let a;r!=null?a=!0:(a=!1,r=R.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((f,p)=>{const _=Xi(p,$());_&&(r=r.updateImmediateChild(f,_))}));const c=x0(l,e);if(!c&&!e._queryParams.loadsAllData()){const d=Ia(e);b(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const f=KP();t.queryToTagMap.set(d,f),t.tagToQueryMap.set(f,d)}const u=yd(t.pendingWriteTree_,s);let h=LP(l,e,n,u,r,a);if(!c&&!o&&!i){const d=v0(l,e);h=h.concat(QP(t,e,d))}return h}function Cd(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Xe(o,e),c=Xi(l,a);if(c)return c});return d0(s,e,r,n,!0)}function to(t,e){return S0(e,t.syncPointTree_,null,yd(t.pendingWriteTree_,$()))}function S0(t,e,n,i){if(B(t.path))return C0(t,e,n,i);{const s=e.get($());n==null&&s!=null&&(n=Xi(s,$()));let r=[];const o=F(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const c=n?n.getImmediateChild(o):null,u=f0(i,o);r=r.concat(S0(l,a,c,u))}return s&&(r=r.concat(Sd(s,t,i,n))),r}}function C0(t,e,n,i){const s=e.get($());n==null&&s!=null&&(n=Xi(s,$()));let r=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,c=f0(i,o),u=t.operationForChild(o);u&&(r=r.concat(C0(u,l,a,c)))}),s&&(r=r.concat(Sd(s,t,i,n))),r}function k0(t,e){const n=e.query,i=Xl(t,n);return{hashFn:()=>(TP(e)||R.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?VP(t,n._path,i):jP(t,n._path);{const r=UT(s,n);return Yu(t,n,null,r)}}}}function Xl(t,e){const n=Ia(e);return t.queryToTagMap.get(n)}function Ia(t){return t._path.toString()+"$"+t._queryIdentifier}function kd(t,e){return t.tagToQueryMap.get(e)}function Ed(t){const e=t.indexOf("$");return b(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new K(t.substr(0,e))}}function bd(t,e,n){const i=t.syncPointTree_.get(e);b(i,"Missing sync point for query tag that we're tracking");const s=yd(t.pendingWriteTree_,e);return Sd(i,n,s,null)}function YP(t){return t.fold((e,n,i)=>{if(n&&Hn(n))return[ba(n)];{let s=[];return n&&(s=y0(n)),it(i,(r,o)=>{s=s.concat(o)}),s}})}function hr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(BP())(t._repo,t._path):t}function GP(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=Ia(i),r=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(r)}}}function KP(){return HP++}function QP(t,e,n){const i=e._path,s=Xl(t,e),r=k0(t,n),o=t.listenProvider_.startListening(hr(e),s,r.hashFn,r.onComplete),l=t.syncPointTree_.subtree(i);if(s)b(!Hn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((c,u,h)=>{if(!B(c)&&u&&Hn(u))return[ba(u).query];{let d=[];return u&&(d=d.concat(y0(u).map(f=>f.query))),it(h,(f,p)=>{d=d.concat(p)}),d}});for(let c=0;c<a.length;++c){const u=a[c];t.listenProvider_.stopListening(hr(u),Xl(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Td(n)}node(){return this.node_}}class Id{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=xe(this.path_,e);return new Id(this.syncTree_,n)}node(){return Cd(this.syncTree_,this.path_)}}const qP=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},nm=function(t,e,n){if(!t||typeof t!="object")return t;if(b(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return XP(t[".sv"],e,n);if(typeof t[".sv"]=="object")return ZP(t[".sv"],e);b(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},XP=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:b(!1,"Unexpected server value: "+t)}},ZP=function(t,e,n){t.hasOwnProperty("increment")||b(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&b(!1,"Unexpected increment value: "+i);const s=e.node();if(b(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const o=s.getValue();return typeof o!="number"?i:o+i},JP=function(t,e,n,i){return Pd(e,new Id(n,t),i)},E0=function(t,e,n){return Pd(t,new Td(e),n)};function Pd(t,e,n){const i=t.getPriority().val(),s=nm(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,l=nm(o.getValue(),e,n);return l!==o.getValue()||s!==o.getPriority().val()?new Se(l,Pe(s)):t}else{const o=t;return r=o,s!==o.getPriority().val()&&(r=r.updatePriority(new Se(s))),o.forEachChild(he,(l,a)=>{const c=Pd(a,e.getImmediateChild(l),n);c!==a&&(r=r.updateImmediateChild(l,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Nd(t,e){let n=e instanceof K?e:new K(e),i=t,s=F(n);for(;s!==null;){const r=as(i.node.children,s)||{children:{},childCount:0};i=new Md(s,i,r),n=X(n),s=F(n)}return i}function xs(t){return t.node.value}function b0(t,e){t.node.value=e,Gu(t)}function T0(t){return t.node.childCount>0}function eM(t){return xs(t)===void 0&&!T0(t)}function Pa(t,e){it(t.node.children,(n,i)=>{e(new Md(n,t,i))})}function I0(t,e,n,i){n&&e(t),Pa(t,s=>{I0(s,e,!0)})}function tM(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function no(t){return new K(t.parent===null?t.name:no(t.parent)+"/"+t.name)}function Gu(t){t.parent!==null&&nM(t.parent,t.name,t)}function nM(t,e,n){const i=eM(n),s=dn(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,Gu(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Gu(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=/[\[\].#$\/\u0000-\u001F\u007F]/,sM=/[\[\].#$\u0000-\u001F\u007F]/,kc=10*1024*1024,P0=function(t){return typeof t=="string"&&t.length!==0&&!iM.test(t)},M0=function(t){return typeof t=="string"&&t.length!==0&&!sM.test(t)},rM=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),M0(t)},oM=function(t,e,n,i){Dd(rd(t,"value"),e,n)},Dd=function(t,e,n){const i=n instanceof K?new CI(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Jn(i));if(typeof e=="function")throw new Error(t+"contains a function "+Jn(i)+" with contents = "+e.toString());if(Mv(e))throw new Error(t+"contains "+e.toString()+" "+Jn(i));if(typeof e=="string"&&e.length>kc/3&&Ca(e)>kc)throw new Error(t+"contains a string greater than "+kc+" utf8 bytes "+Jn(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(it(e,(o,l)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!P0(o)))throw new Error(t+" contains an invalid key ("+o+") "+Jn(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);kI(i,o),Dd(t,l,i),EI(i)}),s&&r)throw new Error(t+' contains ".value" child '+Jn(i)+" in addition to actual children.")}},N0=function(t,e,n,i){if(!M0(n))throw new Error(rd(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},lM=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),N0(t,e,n)},aM=function(t,e){if(F(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},cM=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!P0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!rM(n))throw new Error(rd(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Rd(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!hd(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function D0(t,e,n){Rd(t,n),R0(t,i=>hd(i,e))}function un(t,e,n){Rd(t,n),R0(t,i=>Tt(i,e)||Tt(e,i))}function R0(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(hM(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function hM(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();lr&&Fe("event: "+n.toString()),vs(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM="repo_interrupt",fM=25;class pM{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new uM,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ul(),this.transactionQueueTree_=new Md,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function gM(t,e,n){if(t.stats_=cd(t.repoInfo_),t.forceRestClient_||KT())t.server_=new Vl(t.repoInfo_,(i,s,r,o)=>{im(t,i,s,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>sm(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ee(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new tn(t.repoInfo_,e,(i,s,r,o)=>{im(t,i,s,r,o)},i=>{sm(t,i)},i=>{_M(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=JT(t.repoInfo_,()=>new XI(t.stats_,t.server_)),t.infoData_=new YI,t.infoSyncTree_=new em({startListening:(i,s,r,o)=>{let l=[];const a=t.infoData_.getNode(i._path);return a.isEmpty()||(l=Ta(t.infoSyncTree_,i._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Ad(t,"connected",!1),t.serverSyncTree_=new em({startListening:(i,s,r,o)=>(t.server_.listen(i,r,s,(l,a)=>{const c=o(l,a);un(t.eventQueue_,i._path,c)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function mM(t){const n=t.infoData_.getNode(new K(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Od(t){return qP({timestamp:mM(t)})}function im(t,e,n,i,s){t.dataUpdateCount++;const r=new K(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(i){const a=Ll(n,c=>Pe(c));o=$P(t.serverSyncTree_,r,a,s)}else{const a=Pe(n);o=UP(t.serverSyncTree_,r,a,s)}else if(i){const a=Ll(n,c=>Pe(c));o=WP(t.serverSyncTree_,r,a)}else{const a=Pe(n);o=Ta(t.serverSyncTree_,r,a)}let l=r;o.length>0&&(l=Ma(t,r)),un(t.eventQueue_,l,o)}function sm(t,e){Ad(t,"connected",e),e===!1&&vM(t)}function _M(t,e){it(e,(n,i)=>{Ad(t,n,i)})}function Ad(t,e,n){const i=new K("/.info/"+e),s=Pe(n);t.infoData_.updateSnapshot(i,s);const r=Ta(t.infoSyncTree_,i,s);un(t.eventQueue_,i,r)}function O0(t){return t.nextWriteId_++}function yM(t,e,n,i,s){Ld(t,"set",{path:e.toString(),value:n,priority:i});const r=Od(t),o=Pe(n,i),l=Cd(t.serverSyncTree_,e),a=E0(o,l,r),c=O0(t),u=w0(t.serverSyncTree_,e,a,c,!0);Rd(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(d,f)=>{const p=d==="ok";p||nt("set at "+e+" failed: "+d);const _=oi(t.serverSyncTree_,c,!p);un(t.eventQueue_,e,_),SM(t,s,d,f)});const h=B0(t,e);Ma(t,h),un(t.eventQueue_,h,[])}function vM(t){Ld(t,"onDisconnectEvents");const e=Od(t),n=Ul();Hu(t.onDisconnect_,$(),(s,r)=>{const o=JP(s,r,t.serverSyncTree_,e);l0(n,s,o)});let i=[];Hu(n,$(),(s,r)=>{i=i.concat(Ta(t.serverSyncTree_,s,r));const o=B0(t,s);Ma(t,o)}),t.onDisconnect_=Ul(),un(t.eventQueue_,$(),i)}function xM(t,e,n){let i;F(e._path)===".info"?i=tm(t.infoSyncTree_,e,n):i=tm(t.serverSyncTree_,e,n),D0(t.eventQueue_,e._path,i)}function rm(t,e,n){let i;F(e._path)===".info"?i=Yu(t.infoSyncTree_,e,n):i=Yu(t.serverSyncTree_,e,n),D0(t.eventQueue_,e._path,i)}function wM(t){t.persistentConnection_&&t.persistentConnection_.interrupt(dM)}function Ld(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Fe(n,...e)}function SM(t,e,n,i){e&&vs(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let r=s;i&&(r+=": "+i);const o=new Error(r);o.code=s,e(o)}})}function A0(t,e,n){return Cd(t.serverSyncTree_,e,n)||R.EMPTY_NODE}function Fd(t,e=t.transactionQueueTree_){if(e||Na(t,e),xs(e)){const n=F0(t,e);b(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&CM(t,no(e),n)}else T0(e)&&Pa(e,n=>{Fd(t,n)})}function CM(t,e,n){const i=n.map(c=>c.currentWriteId),s=A0(t,e,i);let r=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];b(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=Xe(e,u.path);r=r.updateChild(h,u.currentOutputSnapshotRaw)}const l=r.val(!0),a=e;t.server_.put(a.toString(),l,c=>{Ld(t,"transaction put response",{path:a.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let d=0;d<n.length;d++)n[d].status=2,u=u.concat(oi(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();Na(t,Nd(t.transactionQueueTree_,e)),Fd(t,t.transactionQueueTree_),un(t.eventQueue_,e,u);for(let d=0;d<h.length;d++)vs(h[d])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{nt("transaction at "+a.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}Ma(t,e)}},o)}function Ma(t,e){const n=L0(t,e),i=no(n),s=F0(t,n);return kM(t,s,i),i}function kM(t,e,n){if(e.length===0)return;const i=[];let s=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],c=Xe(n,a.path);let u=!1,h;if(b(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)u=!0,h=a.abortReason,s=s.concat(oi(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=fM)u=!0,h="maxretry",s=s.concat(oi(t.serverSyncTree_,a.currentWriteId,!0));else{const d=A0(t,a.path,o);a.currentInputSnapshot=d;const f=e[l].update(d.val());if(f!==void 0){Dd("transaction failed: Data returned ",f,a.path);let p=Pe(f);typeof f=="object"&&f!=null&&dn(f,".priority")||(p=p.updatePriority(d.getPriority()));const v=a.currentWriteId,g=Od(t),m=E0(p,d,g);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=m,a.currentWriteId=O0(t),o.splice(o.indexOf(v),1),s=s.concat(w0(t.serverSyncTree_,a.path,m,a.currentWriteId,a.applyLocally)),s=s.concat(oi(t.serverSyncTree_,v,!0))}else u=!0,h="nodata",s=s.concat(oi(t.serverSyncTree_,a.currentWriteId,!0))}un(t.eventQueue_,n,s),s=[],u&&(e[l].status=2,function(d){setTimeout(d,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(h==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(h),!1,null))))}Na(t,t.transactionQueueTree_);for(let l=0;l<i.length;l++)vs(i[l]);Fd(t,t.transactionQueueTree_)}function L0(t,e){let n,i=t.transactionQueueTree_;for(n=F(e);n!==null&&xs(i)===void 0;)i=Nd(i,n),e=X(e),n=F(e);return i}function F0(t,e){const n=[];return z0(t,e,n),n.sort((i,s)=>i.order-s.order),n}function z0(t,e,n){const i=xs(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);Pa(e,s=>{z0(t,s,n)})}function Na(t,e){const n=xs(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,b0(e,n.length>0?n:void 0)}Pa(e,i=>{Na(t,i)})}function B0(t,e){const n=no(L0(t,e)),i=Nd(t.transactionQueueTree_,e);return tM(i,s=>{Ec(t,s)}),Ec(t,i),I0(i,s=>{Ec(t,s)}),n}function Ec(t,e){const n=xs(e);if(n){const i=[];let s=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(b(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(b(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(oi(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?b0(e,void 0):n.length=r+1,un(t.eventQueue_,no(e),s);for(let o=0;o<i.length;o++)vs(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function bM(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):nt(`Invalid query segment '${n}' in query '${t}'`)}return e}const om=function(t,e){const n=TM(t),i=n.namespace;n.domain==="firebase.com"&&cn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&cn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||BT();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new jv(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new K(n.pathString)}},TM=function(t){let e="",n="",i="",s="",r="",o=!0,l="https",a=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(s=EM(t.substring(u,h)));const d=bM(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),r=i}"ns"in d&&(r=d.ns)}return{host:e,port:a,domain:n,subdomain:i,secure:o,scheme:l,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ee(this.snapshot.exportVal())}}class PM{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return b(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return B(this._path)?null:Xv(this._path)}get ref(){return new Un(this._repo,this._path)}get _queryIdentifier(){const e=Vg(this._queryParams),n=ld(e);return n==="{}"?"default":n}get _queryObject(){return Vg(this._queryParams)}isEqual(e){if(e=Xr(e),!(e instanceof zd))return!1;const n=this._repo===e._repo,i=hd(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+SI(this._path)}}class Un extends zd{constructor(e,n){super(e,n,new gd,!1)}get parent(){const e=Jv(this._path);return e===null?null:new Un(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Zl{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new K(e),i=Ku(this.ref,e);return new Zl(this._node.getChild(n),i,he)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new Zl(s,Ku(this.ref,i),he)))}hasChild(e){const n=new K(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function zo(t,e){return t=Xr(t),t._checkNotDeleted("ref"),e!==void 0?Ku(t._root,e):t._root}function Ku(t,e){return t=Xr(t),F(t._path)===null?lM("child","path",e):N0("child","path",e),new Un(t._repo,xe(t._path,e))}function NM(t,e){t=Xr(t),aM("set",t._path),oM("set",e,t._path);const n=new Sa;return yM(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class Bd{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new IM("value",this,new Zl(e.snapshotNode,new Un(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new PM(this,e,n):null}matches(e){return e instanceof Bd?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function DM(t,e,n,i,s){let r;if(typeof i=="object"&&(r=void 0,s=i),typeof i=="function"&&(r=i),s&&s.onlyOnce){const a=n,c=(u,h)=>{rm(t._repo,t,l),a(u,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new MM(n,r||void 0),l=new Bd(o);return xM(t._repo,t,l),()=>rm(t._repo,t,l)}function bc(t,e,n,i){return DM(t,"value",e,n,i)}DP(Un);zP(Un);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="FIREBASE_DATABASE_EMULATOR_HOST",Qu={};let OM=!1;function AM(t,e,n,i){const s=e.lastIndexOf(":"),r=e.substring(0,s),o=sd(r);t.repoInfo_=new jv(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function LM(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||cn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fe("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=om(r,s),l=o.repoInfo,a;typeof process<"u"&&Eg&&(a=Eg[RM]),a?(r=`http://${a}?ns=${l.namespace}`,o=om(r,s),l=o.repoInfo):o.repoInfo.secure;const c=new qT(t.name,t.options,e);cM("Invalid Firebase Database URL",o),B(o.path)||cn("Database URL must point to the root of a Firebase Database (not including a child path).");const u=zM(l,t,c,new QT(t,n));return new BM(u,t)}function FM(t,e){const n=Qu[e];(!n||n[t.key]!==t)&&cn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),wM(t),delete n[t.key]}function zM(t,e,n,i){let s=Qu[e.name];s||(s={},Qu[e.name]=s);let r=s[t.toURLString()];return r&&cn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new pM(t,OM,n,i),s[t.toURLString()]=r,r}class BM{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(gM(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Un(this._repo,$())),this._rootInternal}_delete(){return this._rootInternal!==null&&(FM(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&cn("Cannot call "+e+" on a deleted database.")}}function HM(t=ST(),e){const n=_T(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=nb("database");i&&WM(n,...i)}return n}function WM(t,e,n,i={}){t=Xr(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,r=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&Fl(i,r.repoInfo_.emulatorOptions))return;cn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&cn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new nl(nl.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:sb(i.mockUserToken,t.app.options.projectId);o=new nl(l)}sd(e)&&(ib(e),lb("Database",!0)),AM(r,s,i,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){RT(wT),Bl(new Lr("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return LM(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),Ki(bg,Tg,t),Ki(bg,Tg,"esm2020")}tn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};tn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};jM();var VM="firebase",UM="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(VM,UM,"app");const $M={apiKey:"AIzaSyD2j4B6KOGEr8Rce9BjY44sJ8xwMqNSBOQ",databaseURL:"https://clasesemana5-207bf-default-rtdb.firebaseio.com/",projectId:"clasesemana5-207bf"},YM=kv($M),Bo=HM(YM),GM=()=>{const[t,e]=fe.useState({temp:0,hum:0,ldr:0,sound:0}),[n,i]=fe.useState({led_manual:"0",led_auto:"0"}),[s,r]=fe.useState({temp:[],hum:[],ldr:[],sound:[]}),[o,l]=fe.useState(!1);return fe.useEffect(()=>{const c=zo(Bo,"sensors"),u=zo(Bo,"led_manual"),h=zo(Bo,"led_auto"),d=bc(c,_=>{const v=_.val();v&&(e({temp:v.temp||0,hum:v.hum||0,ldr:v.ldr||0,sound:v.sound||0}),r(g=>({temp:[...g.temp,v.temp||0].slice(-20),hum:[...g.hum,v.hum||0].slice(-20),ldr:[...g.ldr,v.ldr||0].slice(-20),sound:[...g.sound,v.sound||0].slice(-20)})),l(!0))},()=>{l(!1)}),f=bc(u,_=>{const v=_.val();v!==null&&i(g=>({...g,led_manual:String(v)}))}),p=bc(h,_=>{const v=_.val();v!==null&&i(g=>({...g,led_auto:String(v)}))});return()=>{d(),f(),p()}},[]),{sensors:t,leds:n,history:s,connected:o,toggleLed:async c=>{const h=n[c]==="1"?"0":"1",d=zo(Bo,c);await NM(d,h)}}};function KM(){const{sensors:t,leds:e,history:n,connected:i,toggleLed:s}=GM();return N.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:N.jsxs("div",{className:"max-w-[600px] mx-auto min-h-screen bg-white/60 backdrop-blur-sm flex flex-col shadow-2xl",children:[N.jsx(ww,{}),N.jsx(Sw,{}),N.jsx("main",{className:"flex-1 overflow-y-auto pb-6",children:N.jsxs("div",{className:"px-6 py-6 space-y-4",children:[N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[N.jsx(Ao,{title:"Temperatura",value:t.temp,unit:"C",emoji:"",connected:i,history:n.temp,color:"#EF4444"}),N.jsx(Ao,{title:"Humedad",value:t.hum,unit:"%",emoji:"",connected:i,history:n.hum,color:"#3B82F6"}),N.jsx(Ao,{title:"Luz",value:t.ldr,unit:" lux",emoji:"",connected:i,history:n.ldr,color:"#F97316"}),N.jsx(Ao,{title:"Sonido",value:t.sound,unit:" dB",emoji:"",connected:i,history:n.sound,color:"#8B5CF6"})]}),N.jsxs("div",{className:"space-y-4 mt-6",children:[N.jsx("h2",{className:"text-lg font-semibold text-gray-700 px-2",children:"Dispositivos"}),N.jsx(dg,{name:"Lmpara",location:"Sala",emoji:"",isOn:e.led_manual==="1",onToggle:()=>s("led_manual")}),N.jsx(dg,{name:"Luz automtica",location:"Sala",emoji:"",isOn:e.led_auto==="1",onToggle:()=>s("led_auto")})]})]})}),N.jsx($E,{})]})})}vy(document.getElementById("root")).render(N.jsx(fe.StrictMode,{children:N.jsx(KM,{})}));
